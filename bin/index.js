"use strict";var nx=Object.create;var xl=Object.defineProperty;var ox=Object.getOwnPropertyDescriptor;var rx=Object.getOwnPropertyNames;var ix=Object.getPrototypeOf,ax=Object.prototype.hasOwnProperty;var Yt=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),sx=(e,n)=>{for(var s in n)xl(e,s,{get:n[s],enumerable:!0})},q0=(e,n,s,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of rx(n))!ax.call(e,i)&&i!==s&&xl(e,i,{get:()=>n[i],enumerable:!(t=ox(n,i))||t.enumerable});return e};var we=(e,n,s)=>(s=e!=null?nx(ix(e)):{},q0(n||!e||!e.__esModule?xl(s,"default",{value:e,enumerable:!0}):s,e)),cx=e=>q0(xl({},"__esModule",{value:!0}),e);var J0=Yt(($R,Y0)=>{"use strict";Y0.exports=ux;function ux(e,n){for(var s=new Array(arguments.length-1),t=0,i=2,r=!0;i<arguments.length;)s[t++]=arguments[i++];return new Promise(function(u,c){s[t]=function(y){if(r)if(r=!1,y)c(y);else{for(var w=new Array(arguments.length-1),x=0;x<w.length;)w[x++]=arguments[x];u.apply(null,w)}};try{e.apply(n||null,s)}catch(h){r&&(r=!1,c(h))}})}});var X0=Yt(Q0=>{"use strict";var bl=Q0;bl.length=function(n){var s=n.length;if(!s)return 0;for(var t=0;--s%4>1&&n.charAt(s)==="=";)++t;return Math.ceil(n.length*3)/4-t};var Ya=new Array(64),$0=new Array(123);for(Vo=0;Vo<64;)$0[Ya[Vo]=Vo<26?Vo+65:Vo<52?Vo+71:Vo<62?Vo-4:Vo-59|43]=Vo++;var Vo;bl.encode=function(n,s,t){for(var i=null,r=[],f=0,u=0,c;s<t;){var h=n[s++];switch(u){case 0:r[f++]=Ya[h>>2],c=(h&3)<<4,u=1;break;case 1:r[f++]=Ya[c|h>>4],c=(h&15)<<2,u=2;break;case 2:r[f++]=Ya[c|h>>6],r[f++]=Ya[h&63],u=0;break}f>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,r)),f=0)}return u&&(r[f++]=Ya[c],r[f++]=61,u===1&&(r[f++]=61)),i?(f&&i.push(String.fromCharCode.apply(String,r.slice(0,f))),i.join("")):String.fromCharCode.apply(String,r.slice(0,f))};var K0="invalid encoding";bl.decode=function(n,s,t){for(var i=t,r=0,f,u=0;u<n.length;){var c=n.charCodeAt(u++);if(c===61&&r>1)break;if((c=$0[c])===void 0)throw Error(K0);switch(r){case 0:f=c,r=1;break;case 1:s[t++]=f<<2|(c&48)>>4,f=c,r=2;break;case 2:s[t++]=(f&15)<<4|(c&60)>>2,f=c,r=3;break;case 3:s[t++]=(f&3)<<6|c,r=0;break}}if(r===1)throw Error(K0);return t-i};bl.test=function(n){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(n)}});var eE=Yt((XR,Z0)=>{"use strict";Z0.exports=Al;function Al(){this._listeners={}}Al.prototype.on=function(n,s,t){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:s,ctx:t||this}),this};Al.prototype.off=function(n,s){if(n===void 0)this._listeners={};else if(s===void 0)this._listeners[n]=[];else for(var t=this._listeners[n],i=0;i<t.length;)t[i].fn===s?t.splice(i,1):++i;return this};Al.prototype.emit=function(n){var s=this._listeners[n];if(s){for(var t=[],i=1;i<arguments.length;)t.push(arguments[i++]);for(i=0;i<s.length;)s[i].fn.apply(s[i++].ctx,t)}return this}});var sE=Yt((ZR,aE)=>{"use strict";aE.exports=tE(tE);function tE(e){return typeof Float32Array<"u"?function(){var n=new Float32Array([-0]),s=new Uint8Array(n.buffer),t=s[3]===128;function i(c,h,y){n[0]=c,h[y]=s[0],h[y+1]=s[1],h[y+2]=s[2],h[y+3]=s[3]}function r(c,h,y){n[0]=c,h[y]=s[3],h[y+1]=s[2],h[y+2]=s[1],h[y+3]=s[0]}e.writeFloatLE=t?i:r,e.writeFloatBE=t?r:i;function f(c,h){return s[0]=c[h],s[1]=c[h+1],s[2]=c[h+2],s[3]=c[h+3],n[0]}function u(c,h){return s[3]=c[h],s[2]=c[h+1],s[1]=c[h+2],s[0]=c[h+3],n[0]}e.readFloatLE=t?f:u,e.readFloatBE=t?u:f}():function(){function n(t,i,r,f){var u=i<0?1:0;if(u&&(i=-i),i===0)t(1/i>0?0:2147483648,r,f);else if(isNaN(i))t(2143289344,r,f);else if(i>34028234663852886e22)t((u<<31|2139095040)>>>0,r,f);else if(i<11754943508222875e-54)t((u<<31|Math.round(i/1401298464324817e-60))>>>0,r,f);else{var c=Math.floor(Math.log(i)/Math.LN2),h=Math.round(i*Math.pow(2,-c)*8388608)&8388607;t((u<<31|c+127<<23|h)>>>0,r,f)}}e.writeFloatLE=n.bind(null,nE),e.writeFloatBE=n.bind(null,oE);function s(t,i,r){var f=t(i,r),u=(f>>31)*2+1,c=f>>>23&255,h=f&8388607;return c===255?h?NaN:u*(1/0):c===0?u*1401298464324817e-60*h:u*Math.pow(2,c-150)*(h+8388608)}e.readFloatLE=s.bind(null,rE),e.readFloatBE=s.bind(null,iE)}(),typeof Float64Array<"u"?function(){var n=new Float64Array([-0]),s=new Uint8Array(n.buffer),t=s[7]===128;function i(c,h,y){n[0]=c,h[y]=s[0],h[y+1]=s[1],h[y+2]=s[2],h[y+3]=s[3],h[y+4]=s[4],h[y+5]=s[5],h[y+6]=s[6],h[y+7]=s[7]}function r(c,h,y){n[0]=c,h[y]=s[7],h[y+1]=s[6],h[y+2]=s[5],h[y+3]=s[4],h[y+4]=s[3],h[y+5]=s[2],h[y+6]=s[1],h[y+7]=s[0]}e.writeDoubleLE=t?i:r,e.writeDoubleBE=t?r:i;function f(c,h){return s[0]=c[h],s[1]=c[h+1],s[2]=c[h+2],s[3]=c[h+3],s[4]=c[h+4],s[5]=c[h+5],s[6]=c[h+6],s[7]=c[h+7],n[0]}function u(c,h){return s[7]=c[h],s[6]=c[h+1],s[5]=c[h+2],s[4]=c[h+3],s[3]=c[h+4],s[2]=c[h+5],s[1]=c[h+6],s[0]=c[h+7],n[0]}e.readDoubleLE=t?f:u,e.readDoubleBE=t?u:f}():function(){function n(t,i,r,f,u,c){var h=f<0?1:0;if(h&&(f=-f),f===0)t(0,u,c+i),t(1/f>0?0:2147483648,u,c+r);else if(isNaN(f))t(0,u,c+i),t(2146959360,u,c+r);else if(f>17976931348623157e292)t(0,u,c+i),t((h<<31|2146435072)>>>0,u,c+r);else{var y;if(f<22250738585072014e-324)y=f/5e-324,t(y>>>0,u,c+i),t((h<<31|y/4294967296)>>>0,u,c+r);else{var w=Math.floor(Math.log(f)/Math.LN2);w===1024&&(w=1023),y=f*Math.pow(2,-w),t(y*4503599627370496>>>0,u,c+i),t((h<<31|w+1023<<20|y*1048576&1048575)>>>0,u,c+r)}}}e.writeDoubleLE=n.bind(null,nE,0,4),e.writeDoubleBE=n.bind(null,oE,4,0);function s(t,i,r,f,u){var c=t(f,u+i),h=t(f,u+r),y=(h>>31)*2+1,w=h>>>20&2047,x=4294967296*(h&1048575)+c;return w===2047?x?NaN:y*(1/0):w===0?y*5e-324*x:y*Math.pow(2,w-1075)*(x+4503599627370496)}e.readDoubleLE=s.bind(null,rE,0,4),e.readDoubleBE=s.bind(null,iE,4,0)}(),e}function nE(e,n,s){n[s]=e&255,n[s+1]=e>>>8&255,n[s+2]=e>>>16&255,n[s+3]=e>>>24}function oE(e,n,s){n[s]=e>>>24,n[s+1]=e>>>16&255,n[s+2]=e>>>8&255,n[s+3]=e&255}function rE(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24)>>>0}function iE(e,n){return(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3])>>>0}});var cE=Yt((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var Rl=Yt(uE=>{"use strict";var um=uE;um.length=function(n){for(var s=0,t=0,i=0;i<n.length;++i)t=n.charCodeAt(i),t<128?s+=1:t<2048?s+=2:(t&64512)===55296&&(n.charCodeAt(i+1)&64512)===56320?(++i,s+=4):s+=3;return s};um.read=function(n,s,t){var i=t-s;if(i<1)return"";for(var r=null,f=[],u=0,c;s<t;)c=n[s++],c<128?f[u++]=c:c>191&&c<224?f[u++]=(c&31)<<6|n[s++]&63:c>239&&c<365?(c=((c&7)<<18|(n[s++]&63)<<12|(n[s++]&63)<<6|n[s++]&63)-65536,f[u++]=55296+(c>>10),f[u++]=56320+(c&1023)):f[u++]=(c&15)<<12|(n[s++]&63)<<6|n[s++]&63,u>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,f)),u=0);return r?(u&&r.push(String.fromCharCode.apply(String,f.slice(0,u))),r.join("")):String.fromCharCode.apply(String,f.slice(0,u))};um.write=function(n,s,t){for(var i=t,r,f,u=0;u<n.length;++u)r=n.charCodeAt(u),r<128?s[t++]=r:r<2048?(s[t++]=r>>6|192,s[t++]=r&63|128):(r&64512)===55296&&((f=n.charCodeAt(u+1))&64512)===56320?(r=65536+((r&1023)<<10)+(f&1023),++u,s[t++]=r>>18|240,s[t++]=r>>12&63|128,s[t++]=r>>6&63|128,s[t++]=r&63|128):(s[t++]=r>>12|224,s[t++]=r>>6&63|128,s[t++]=r&63|128);return t-i}});var fE=Yt((tC,lE)=>{"use strict";lE.exports=lx;function lx(e,n,s){var t=s||8192,i=t>>>1,r=null,f=t;return function(c){if(c<1||c>i)return e(c);f+c>t&&(r=e(t),f=0);var h=n.call(r,f,f+=c);return f&7&&(f=(f|7)+1),h}}});var pE=Yt((nC,dE)=>{"use strict";dE.exports=An;var Dc=mi();function An(e,n){this.lo=e>>>0,this.hi=n>>>0}var ia=An.zero=new An(0,0);ia.toNumber=function(){return 0};ia.zzEncode=ia.zzDecode=function(){return this};ia.length=function(){return 1};var fx=An.zeroHash="\0\0\0\0\0\0\0\0";An.fromNumber=function(n){if(n===0)return ia;var s=n<0;s&&(n=-n);var t=n>>>0,i=(n-t)/4294967296>>>0;return s&&(i=~i>>>0,t=~t>>>0,++t>4294967295&&(t=0,++i>4294967295&&(i=0))),new An(t,i)};An.from=function(n){if(typeof n=="number")return An.fromNumber(n);if(Dc.isString(n))if(Dc.Long)n=Dc.Long.fromString(n);else return An.fromNumber(parseInt(n,10));return n.low||n.high?new An(n.low>>>0,n.high>>>0):ia};An.prototype.toNumber=function(n){if(!n&&this.hi>>>31){var s=~this.lo+1>>>0,t=~this.hi>>>0;return s||(t=t+1>>>0),-(s+t*4294967296)}return this.lo+this.hi*4294967296};An.prototype.toLong=function(n){return Dc.Long?new Dc.Long(this.lo|0,this.hi|0,!!n):{low:this.lo|0,high:this.hi|0,unsigned:!!n}};var pi=String.prototype.charCodeAt;An.fromHash=function(n){return n===fx?ia:new An((pi.call(n,0)|pi.call(n,1)<<8|pi.call(n,2)<<16|pi.call(n,3)<<24)>>>0,(pi.call(n,4)|pi.call(n,5)<<8|pi.call(n,6)<<16|pi.call(n,7)<<24)>>>0)};An.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};An.prototype.zzEncode=function(){var n=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^n)>>>0,this.lo=(this.lo<<1^n)>>>0,this};An.prototype.zzDecode=function(){var n=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^n)>>>0,this.hi=(this.hi>>>1^n)>>>0,this};An.prototype.length=function(){var n=this.lo,s=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?s===0?n<16384?n<128?1:2:n<2097152?3:4:s<16384?s<128?5:6:s<2097152?7:8:t<128?9:10}});var mi=Yt(lm=>{"use strict";var Le=lm;Le.asPromise=J0();Le.base64=X0();Le.EventEmitter=eE();Le.float=sE();Le.inquire=cE();Le.utf8=Rl();Le.pool=fE();Le.LongBits=pE();Le.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);Le.global=Le.isNode&&global||!1||typeof self<"u"&&self||lm;Le.emptyArray=Object.freeze?Object.freeze([]):[];Le.emptyObject=Object.freeze?Object.freeze({}):{};Le.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};Le.isString=function(n){return typeof n=="string"||n instanceof String};Le.isObject=function(n){return n&&typeof n=="object"};Le.isset=Le.isSet=function(n,s){var t=n[s];return t!=null&&n.hasOwnProperty(s)?typeof t!="object"||(Array.isArray(t)?t.length:Object.keys(t).length)>0:!1};Le.Buffer=function(){try{var e=Le.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();Le._Buffer_from=null;Le._Buffer_allocUnsafe=null;Le.newBuffer=function(n){return typeof n=="number"?Le.Buffer?Le._Buffer_allocUnsafe(n):new Le.Array(n):Le.Buffer?Le._Buffer_from(n):typeof Uint8Array>"u"?n:new Uint8Array(n)};Le.Array=typeof Uint8Array<"u"?Uint8Array:Array;Le.Long=Le.global.dcodeIO&&Le.global.dcodeIO.Long||Le.global.Long||Le.inquire("long");Le.key2Re=/^true|false|0|1$/;Le.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Le.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Le.longToHash=function(n){return n?Le.LongBits.from(n).toHash():Le.LongBits.zeroHash};Le.longFromHash=function(n,s){var t=Le.LongBits.fromHash(n);return Le.Long?Le.Long.fromBits(t.lo,t.hi,s):t.toNumber(!!s)};function mE(e,n,s){for(var t=Object.keys(n),i=0;i<t.length;++i)(e[t[i]]===void 0||!s)&&(e[t[i]]=n[t[i]]);return e}Le.merge=mE;Le.lcFirst=function(n){return n.charAt(0).toLowerCase()+n.substring(1)};function hE(e){function n(s,t){if(!(this instanceof n))return new n(s,t);Object.defineProperty(this,"message",{get:function(){return s}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:new Error().stack||""}),t&&mE(this,t)}return n.prototype=Object.create(Error.prototype,{constructor:{value:n,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),n}Le.newError=hE;Le.ProtocolError=hE("ProtocolError");Le.oneOfGetter=function(n){for(var s={},t=0;t<n.length;++t)s[n[t]]=1;return function(){for(var i=Object.keys(this),r=i.length-1;r>-1;--r)if(s[i[r]]===1&&this[i[r]]!==void 0&&this[i[r]]!==null)return i[r]}};Le.oneOfSetter=function(n){return function(s){for(var t=0;t<n.length;++t)n[t]!==s&&delete this[n[t]]}};Le.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Le._configure=function(){var e=Le.Buffer;if(!e){Le._Buffer_from=Le._Buffer_allocUnsafe=null;return}Le._Buffer_from=e.from!==Uint8Array.from&&e.from||function(s,t){return new e(s,t)},Le._Buffer_allocUnsafe=e.allocUnsafe||function(s){return new e(s)}}});var Em=Yt((rC,gE)=>{"use strict";gE.exports=ht;var bo=mi(),fm,Cl=bo.LongBits,yE=bo.base64,EE=bo.utf8;function Wc(e,n,s){this.fn=e,this.len=n,this.next=void 0,this.val=s}function pm(){}function dx(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function ht(){this.len=0,this.head=new Wc(pm,0,0),this.tail=this.head,this.states=null}var TE=function(){return bo.Buffer?function(){return(ht.create=function(){return new fm})()}:function(){return new ht}};ht.create=TE();ht.alloc=function(n){return new bo.Array(n)};bo.Array!==Array&&(ht.alloc=bo.pool(ht.alloc,bo.Array.prototype.subarray));ht.prototype._push=function(n,s,t){return this.tail=this.tail.next=new Wc(n,s,t),this.len+=s,this};function mm(e,n,s){n[s]=e&255}function px(e,n,s){for(;e>127;)n[s++]=e&127|128,e>>>=7;n[s]=e}function hm(e,n){this.len=e,this.next=void 0,this.val=n}hm.prototype=Object.create(Wc.prototype);hm.prototype.fn=px;ht.prototype.uint32=function(n){return this.len+=(this.tail=this.tail.next=new hm((n=n>>>0)<128?1:n<16384?2:n<2097152?3:n<268435456?4:5,n)).len,this};ht.prototype.int32=function(n){return n<0?this._push(ym,10,Cl.fromNumber(n)):this.uint32(n)};ht.prototype.sint32=function(n){return this.uint32((n<<1^n>>31)>>>0)};function ym(e,n,s){for(;e.hi;)n[s++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)n[s++]=e.lo&127|128,e.lo=e.lo>>>7;n[s++]=e.lo}ht.prototype.uint64=function(n){var s=Cl.from(n);return this._push(ym,s.length(),s)};ht.prototype.int64=ht.prototype.uint64;ht.prototype.sint64=function(n){var s=Cl.from(n).zzEncode();return this._push(ym,s.length(),s)};ht.prototype.bool=function(n){return this._push(mm,1,n?1:0)};function dm(e,n,s){n[s]=e&255,n[s+1]=e>>>8&255,n[s+2]=e>>>16&255,n[s+3]=e>>>24}ht.prototype.fixed32=function(n){return this._push(dm,4,n>>>0)};ht.prototype.sfixed32=ht.prototype.fixed32;ht.prototype.fixed64=function(n){var s=Cl.from(n);return this._push(dm,4,s.lo)._push(dm,4,s.hi)};ht.prototype.sfixed64=ht.prototype.fixed64;ht.prototype.float=function(n){return this._push(bo.float.writeFloatLE,4,n)};ht.prototype.double=function(n){return this._push(bo.float.writeDoubleLE,8,n)};var mx=bo.Array.prototype.set?function(n,s,t){s.set(n,t)}:function(n,s,t){for(var i=0;i<n.length;++i)s[t+i]=n[i]};ht.prototype.bytes=function(n){var s=n.length>>>0;if(!s)return this._push(mm,1,0);if(bo.isString(n)){var t=ht.alloc(s=yE.length(n));yE.decode(n,t,0),n=t}return this.uint32(s)._push(mx,s,n)};ht.prototype.string=function(n){var s=EE.length(n);return s?this.uint32(s)._push(EE.write,s,n):this._push(mm,1,0)};ht.prototype.fork=function(){return this.states=new dx(this),this.head=this.tail=new Wc(pm,0,0),this.len=0,this};ht.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Wc(pm,0,0),this.len=0),this};ht.prototype.ldelim=function(){var n=this.head,s=this.tail,t=this.len;return this.reset().uint32(t),t&&(this.tail.next=n.next,this.tail=s,this.len+=t),this};ht.prototype.finish=function(){for(var n=this.head.next,s=this.constructor.alloc(this.len),t=0;n;)n.fn(n.val,s,t),t+=n.len,n=n.next;return s};ht._configure=function(e){fm=e,ht.create=TE(),fm._configure()}});var xE=Yt((iC,_E)=>{"use strict";_E.exports=lr;var SE=Em();(lr.prototype=Object.create(SE.prototype)).constructor=lr;var hi=mi();function lr(){SE.call(this)}lr._configure=function(){lr.alloc=hi._Buffer_allocUnsafe,lr.writeBytesBuffer=hi.Buffer&&hi.Buffer.prototype instanceof Uint8Array&&hi.Buffer.prototype.set.name==="set"?function(n,s,t){s.set(n,t)}:function(n,s,t){if(n.copy)n.copy(s,t,0,n.length);else for(var i=0;i<n.length;)s[t++]=n[i++]}};lr.prototype.bytes=function(n){hi.isString(n)&&(n=hi._Buffer_from(n,"base64"));var s=n.length>>>0;return this.uint32(s),s&&this._push(lr.writeBytesBuffer,s,n),this};function hx(e,n,s){e.length<40?hi.utf8.write(e,n,s):n.utf8Write?n.utf8Write(e,s):n.write(e,s)}lr.prototype.string=function(n){var s=hi.Buffer.byteLength(n);return this.uint32(s),s&&this._push(hx,s,n),this};lr._configure()});var Sm=Yt((aC,NE)=>{"use strict";NE.exports=cn;var fr=mi(),gm,RE=fr.LongBits,yx=fr.utf8;function Ho(e,n){return RangeError("index out of range: "+e.pos+" + "+(n||1)+" > "+e.len)}function cn(e){this.buf=e,this.pos=0,this.len=e.length}var bE=typeof Uint8Array<"u"?function(n){if(n instanceof Uint8Array||Array.isArray(n))return new cn(n);throw Error("illegal buffer")}:function(n){if(Array.isArray(n))return new cn(n);throw Error("illegal buffer")},CE=function(){return fr.Buffer?function(s){return(cn.create=function(i){return fr.Buffer.isBuffer(i)?new gm(i):bE(i)})(s)}:bE};cn.create=CE();cn.prototype._slice=fr.Array.prototype.subarray||fr.Array.prototype.slice;cn.prototype.uint32=function(){var n=4294967295;return function(){if(n=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(n=(n|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(n=(n|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return n;if((this.pos+=5)>this.len)throw this.pos=this.len,Ho(this,10);return n}}();cn.prototype.int32=function(){return this.uint32()|0};cn.prototype.sint32=function(){var n=this.uint32();return n>>>1^-(n&1)|0};function Tm(){var e=new RE(0,0),n=0;if(this.len-this.pos>4){for(;n<4;++n)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;n=0}else{for(;n<3;++n){if(this.pos>=this.len)throw Ho(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<n*7)>>>0,e}if(this.len-this.pos>4){for(;n<5;++n)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;n<5;++n){if(this.pos>=this.len)throw Ho(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}cn.prototype.bool=function(){return this.uint32()!==0};function Nl(e,n){return(e[n-4]|e[n-3]<<8|e[n-2]<<16|e[n-1]<<24)>>>0}cn.prototype.fixed32=function(){if(this.pos+4>this.len)throw Ho(this,4);return Nl(this.buf,this.pos+=4)};cn.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Ho(this,4);return Nl(this.buf,this.pos+=4)|0};function AE(){if(this.pos+8>this.len)throw Ho(this,8);return new RE(Nl(this.buf,this.pos+=4),Nl(this.buf,this.pos+=4))}cn.prototype.float=function(){if(this.pos+4>this.len)throw Ho(this,4);var n=fr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,n};cn.prototype.double=function(){if(this.pos+8>this.len)throw Ho(this,4);var n=fr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,n};cn.prototype.bytes=function(){var n=this.uint32(),s=this.pos,t=this.pos+n;if(t>this.len)throw Ho(this,n);return this.pos+=n,Array.isArray(this.buf)?this.buf.slice(s,t):s===t?new this.buf.constructor(0):this._slice.call(this.buf,s,t)};cn.prototype.string=function(){var n=this.bytes();return yx.read(n,0,n.length)};cn.prototype.skip=function(n){if(typeof n=="number"){if(this.pos+n>this.len)throw Ho(this,n);this.pos+=n}else do if(this.pos>=this.len)throw Ho(this);while(this.buf[this.pos++]&128);return this};cn.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};cn._configure=function(e){gm=e,cn.create=CE(),gm._configure();var n=fr.Long?"toLong":"toNumber";fr.merge(cn.prototype,{int64:function(){return Tm.call(this)[n](!1)},uint64:function(){return Tm.call(this)[n](!0)},sint64:function(){return Tm.call(this).zzDecode()[n](!1)},fixed64:function(){return AE.call(this)[n](!0)},sfixed64:function(){return AE.call(this)[n](!1)}})}});var OE=Yt((sC,IE)=>{"use strict";IE.exports=aa;var kE=Sm();(aa.prototype=Object.create(kE.prototype)).constructor=aa;var vE=mi();function aa(e){kE.call(this,e)}aa._configure=function(){vE.Buffer&&(aa.prototype._slice=vE.Buffer.prototype.slice)};aa.prototype.string=function(){var n=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+n,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+n,this.len))};aa._configure()});var ME=Yt((cC,wE)=>{"use strict";wE.exports=jc;var _m=mi();(jc.prototype=Object.create(_m.EventEmitter.prototype)).constructor=jc;function jc(e,n,s){if(typeof e!="function")throw TypeError("rpcImpl must be a function");_m.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!n,this.responseDelimited=!!s}jc.prototype.rpcCall=function e(n,s,t,i,r){if(!i)throw TypeError("request must be specified");var f=this;if(!r)return _m.asPromise(e,f,n,s,t,i);if(!f.rpcImpl){setTimeout(function(){r(Error("already ended"))},0);return}try{return f.rpcImpl(n,s[f.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(c,h){if(c)return f.emit("error",c,n),r(c);if(h===null){f.end(!0);return}if(!(h instanceof t))try{h=t[f.responseDelimited?"decodeDelimited":"decode"](h)}catch(y){return f.emit("error",y,n),r(y)}return f.emit("data",h,n),r(null,h)})}catch(u){f.emit("error",u,n),setTimeout(function(){r(u)},0);return}};jc.prototype.end=function(n){return this.rpcImpl&&(n||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var zE=Yt(PE=>{"use strict";var Ex=PE;Ex.Service=ME()});var UE=Yt((lC,LE)=>{"use strict";LE.exports={}});var WE=Yt(DE=>{"use strict";var Qn=DE;Qn.build="minimal";Qn.Writer=Em();Qn.BufferWriter=xE();Qn.Reader=Sm();Qn.BufferReader=OE();Qn.util=mi();Qn.rpc=zE();Qn.roots=UE();Qn.configure=BE;function BE(){Qn.util._configure(),Qn.Writer._configure(Qn.BufferWriter),Qn.Reader._configure(Qn.BufferReader)}BE()});var ze=Yt((dC,jE)=>{"use strict";jE.exports=WE()});var mS=Yt(ut=>{"use strict";var yu=Symbol.for("react.element"),K3=Symbol.for("react.portal"),$3=Symbol.for("react.fragment"),Q3=Symbol.for("react.strict_mode"),X3=Symbol.for("react.profiler"),Z3=Symbol.for("react.provider"),eA=Symbol.for("react.context"),tA=Symbol.for("react.forward_ref"),nA=Symbol.for("react.suspense"),oA=Symbol.for("react.memo"),rA=Symbol.for("react.lazy"),oS=Symbol.iterator;function iA(e){return e===null||typeof e!="object"?null:(e=oS&&e[oS]||e["@@iterator"],typeof e=="function"?e:null)}var aS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sS=Object.assign,cS={};function ac(e,n,s){this.props=e,this.context=n,this.refs=cS,this.updater=s||aS}ac.prototype.isReactComponent={};ac.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};ac.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uS(){}uS.prototype=ac.prototype;function hh(e,n,s){this.props=e,this.context=n,this.refs=cS,this.updater=s||aS}var yh=hh.prototype=new uS;yh.constructor=hh;sS(yh,ac.prototype);yh.isPureReactComponent=!0;var rS=Array.isArray,lS=Object.prototype.hasOwnProperty,Eh={current:null},fS={key:!0,ref:!0,__self:!0,__source:!0};function dS(e,n,s){var t,i={},r=null,f=null;if(n!=null)for(t in n.ref!==void 0&&(f=n.ref),n.key!==void 0&&(r=""+n.key),n)lS.call(n,t)&&!fS.hasOwnProperty(t)&&(i[t]=n[t]);var u=arguments.length-2;if(u===1)i.children=s;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(t in u=e.defaultProps,u)i[t]===void 0&&(i[t]=u[t]);return{$$typeof:yu,type:e,key:r,ref:f,props:i,_owner:Eh.current}}function aA(e,n){return{$$typeof:yu,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Th(e){return typeof e=="object"&&e!==null&&e.$$typeof===yu}function sA(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return n[s]})}var iS=/\/+/g;function mh(e,n){return typeof e=="object"&&e!==null&&e.key!=null?sA(""+e.key):n.toString(36)}function Ad(e,n,s,t,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(r){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case yu:case K3:f=!0}}if(f)return f=e,i=i(f),e=t===""?"."+mh(f,0):t,rS(i)?(s="",e!=null&&(s=e.replace(iS,"$&/")+"/"),Ad(i,n,s,"",function(h){return h})):i!=null&&(Th(i)&&(i=aA(i,s+(!i.key||f&&f.key===i.key?"":(""+i.key).replace(iS,"$&/")+"/")+e)),n.push(i)),1;if(f=0,t=t===""?".":t+":",rS(e))for(var u=0;u<e.length;u++){r=e[u];var c=t+mh(r,u);f+=Ad(r,n,s,c,i)}else if(c=iA(e),typeof c=="function")for(e=c.call(e),u=0;!(r=e.next()).done;)r=r.value,c=t+mh(r,u++),f+=Ad(r,n,s,c,i);else if(r==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return f}function bd(e,n,s){if(e==null)return e;var t=[],i=0;return Ad(e,t,"","",function(r){return n.call(s,r,i++)}),t}function cA(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Hn={current:null},Rd={transition:null},uA={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:Rd,ReactCurrentOwner:Eh};function pS(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:bd,forEach:function(e,n,s){bd(e,function(){n.apply(this,arguments)},s)},count:function(e){var n=0;return bd(e,function(){n++}),n},toArray:function(e){return bd(e,function(n){return n})||[]},only:function(e){if(!Th(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ut.Component=ac;ut.Fragment=$3;ut.Profiler=X3;ut.PureComponent=hh;ut.StrictMode=Q3;ut.Suspense=nA;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uA;ut.act=pS;ut.cloneElement=function(e,n,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var t=sS({},e.props),i=e.key,r=e.ref,f=e._owner;if(n!=null){if(n.ref!==void 0&&(r=n.ref,f=Eh.current),n.key!==void 0&&(i=""+n.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in n)lS.call(n,c)&&!fS.hasOwnProperty(c)&&(t[c]=n[c]===void 0&&u!==void 0?u[c]:n[c])}var c=arguments.length-2;if(c===1)t.children=s;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];t.children=u}return{$$typeof:yu,type:e.type,key:i,ref:r,props:t,_owner:f}};ut.createContext=function(e){return e={$$typeof:eA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Z3,_context:e},e.Consumer=e};ut.createElement=dS;ut.createFactory=function(e){var n=dS.bind(null,e);return n.type=e,n};ut.createRef=function(){return{current:null}};ut.forwardRef=function(e){return{$$typeof:tA,render:e}};ut.isValidElement=Th;ut.lazy=function(e){return{$$typeof:rA,_payload:{_status:-1,_result:e},_init:cA}};ut.memo=function(e,n){return{$$typeof:oA,type:e,compare:n===void 0?null:n}};ut.startTransition=function(e){var n=Rd.transition;Rd.transition={};try{e()}finally{Rd.transition=n}};ut.unstable_act=pS;ut.useCallback=function(e,n){return Hn.current.useCallback(e,n)};ut.useContext=function(e){return Hn.current.useContext(e)};ut.useDebugValue=function(){};ut.useDeferredValue=function(e){return Hn.current.useDeferredValue(e)};ut.useEffect=function(e,n){return Hn.current.useEffect(e,n)};ut.useId=function(){return Hn.current.useId()};ut.useImperativeHandle=function(e,n,s){return Hn.current.useImperativeHandle(e,n,s)};ut.useInsertionEffect=function(e,n){return Hn.current.useInsertionEffect(e,n)};ut.useLayoutEffect=function(e,n){return Hn.current.useLayoutEffect(e,n)};ut.useMemo=function(e,n){return Hn.current.useMemo(e,n)};ut.useReducer=function(e,n,s){return Hn.current.useReducer(e,n,s)};ut.useRef=function(e){return Hn.current.useRef(e)};ut.useState=function(e){return Hn.current.useState(e)};ut.useSyncExternalStore=function(e,n,s){return Hn.current.useSyncExternalStore(e,n,s)};ut.useTransition=function(){return Hn.current.useTransition()};ut.version="18.3.1"});var Cd=Yt((oB,hS)=>{"use strict";hS.exports=mS()});var RS=Yt(Lt=>{"use strict";function xh(e,n){var s=e.length;e.push(n);e:for(;0<s;){var t=s-1>>>1,i=e[t];if(0<vd(i,n))e[t]=n,e[s]=i,s=t;else break e}}function Ko(e){return e.length===0?null:e[0]}function Id(e){if(e.length===0)return null;var n=e[0],s=e.pop();if(s!==n){e[0]=s;e:for(var t=0,i=e.length,r=i>>>1;t<r;){var f=2*(t+1)-1,u=e[f],c=f+1,h=e[c];if(0>vd(u,s))c<i&&0>vd(h,u)?(e[t]=h,e[c]=s,t=c):(e[t]=u,e[f]=s,t=f);else if(c<i&&0>vd(h,s))e[t]=h,e[c]=s,t=c;else break e}}return n}function vd(e,n){var s=e.sortIndex-n.sortIndex;return s!==0?s:e.id-n.id}typeof performance=="object"&&typeof performance.now=="function"?(yS=performance,Lt.unstable_now=function(){return yS.now()}):(gh=Date,ES=gh.now(),Lt.unstable_now=function(){return gh.now()-ES});var yS,gh,ES,yr=[],Ni=[],lA=1,Io=null,Wn=3,Od=!1,ka=!1,Tu=!1,SS=typeof setTimeout=="function"?setTimeout:null,_S=typeof clearTimeout=="function"?clearTimeout:null,TS=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function bh(e){for(var n=Ko(Ni);n!==null;){if(n.callback===null)Id(Ni);else if(n.startTime<=e)Id(Ni),n.sortIndex=n.expirationTime,xh(yr,n);else break;n=Ko(Ni)}}function Ah(e){if(Tu=!1,bh(e),!ka)if(Ko(yr)!==null)ka=!0,Ch(Rh);else{var n=Ko(Ni);n!==null&&Nh(Ah,n.startTime-e)}}function Rh(e,n){ka=!1,Tu&&(Tu=!1,_S(gu),gu=-1),Od=!0;var s=Wn;try{for(bh(n),Io=Ko(yr);Io!==null&&(!(Io.expirationTime>n)||e&&!AS());){var t=Io.callback;if(typeof t=="function"){Io.callback=null,Wn=Io.priorityLevel;var i=t(Io.expirationTime<=n);n=Lt.unstable_now(),typeof i=="function"?Io.callback=i:Io===Ko(yr)&&Id(yr),bh(n)}else Id(yr);Io=Ko(yr)}if(Io!==null)var r=!0;else{var f=Ko(Ni);f!==null&&Nh(Ah,f.startTime-n),r=!1}return r}finally{Io=null,Wn=s,Od=!1}}var wd=!1,kd=null,gu=-1,xS=5,bS=-1;function AS(){return!(Lt.unstable_now()-bS<xS)}function Sh(){if(kd!==null){var e=Lt.unstable_now();bS=e;var n=!0;try{n=kd(!0,e)}finally{n?Eu():(wd=!1,kd=null)}}else wd=!1}var Eu;typeof TS=="function"?Eu=function(){TS(Sh)}:typeof MessageChannel<"u"?(_h=new MessageChannel,gS=_h.port2,_h.port1.onmessage=Sh,Eu=function(){gS.postMessage(null)}):Eu=function(){SS(Sh,0)};var _h,gS;function Ch(e){kd=e,wd||(wd=!0,Eu())}function Nh(e,n){gu=SS(function(){e(Lt.unstable_now())},n)}Lt.unstable_IdlePriority=5;Lt.unstable_ImmediatePriority=1;Lt.unstable_LowPriority=4;Lt.unstable_NormalPriority=3;Lt.unstable_Profiling=null;Lt.unstable_UserBlockingPriority=2;Lt.unstable_cancelCallback=function(e){e.callback=null};Lt.unstable_continueExecution=function(){ka||Od||(ka=!0,Ch(Rh))};Lt.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xS=0<e?Math.floor(1e3/e):5};Lt.unstable_getCurrentPriorityLevel=function(){return Wn};Lt.unstable_getFirstCallbackNode=function(){return Ko(yr)};Lt.unstable_next=function(e){switch(Wn){case 1:case 2:case 3:var n=3;break;default:n=Wn}var s=Wn;Wn=n;try{return e()}finally{Wn=s}};Lt.unstable_pauseExecution=function(){};Lt.unstable_requestPaint=function(){};Lt.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=Wn;Wn=e;try{return n()}finally{Wn=s}};Lt.unstable_scheduleCallback=function(e,n,s){var t=Lt.unstable_now();switch(typeof s=="object"&&s!==null?(s=s.delay,s=typeof s=="number"&&0<s?t+s:t):s=t,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=s+i,e={id:lA++,callback:n,priorityLevel:e,startTime:s,expirationTime:i,sortIndex:-1},s>t?(e.sortIndex=s,xh(Ni,e),Ko(yr)===null&&e===Ko(Ni)&&(Tu?(_S(gu),gu=-1):Tu=!0,Nh(Ah,s-t))):(e.sortIndex=i,xh(yr,e),ka||Od||(ka=!0,Ch(Rh))),e};Lt.unstable_shouldYield=AS;Lt.unstable_wrapCallback=function(e){var n=Wn;return function(){var s=Wn;Wn=n;try{return e.apply(this,arguments)}finally{Wn=s}}}});var NS=Yt((aB,CS)=>{"use strict";CS.exports=RS()});var kS=Yt((sB,vS)=>{"use strict";vS.exports=function(n){var s={},t=Cd(),i=NS(),r=Object.assign;function f(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,l=1;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),h=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),A=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),q=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var ue=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var be=Symbol.iterator;function ae(o){return o===null||typeof o!="object"?null:(o=be&&o[be]||o["@@iterator"],typeof o=="function"?o:null)}function se(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case y:return"Fragment";case h:return"Portal";case x:return"Profiler";case w:return"StrictMode";case _:return"Suspense";case b:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case A:return(o.displayName||"Context")+".Consumer";case P:return(o._context.displayName||"Context")+".Provider";case g:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case M:return a=o.displayName||null,a!==null?a:se(o.type)||"Memo";case q:a=o._payload,o=o._init;try{return se(o(a))}catch{}}return null}function ee(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(a);case 8:return a===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function H(o){var a=o,l=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,a.flags&4098&&(l=a.return),o=a.return;while(o)}return a.tag===3?l:null}function F(o){if(H(o)!==o)throw Error(f(188))}function z(o){var a=o.alternate;if(!a){if(a=H(o),a===null)throw Error(f(188));return a!==o?null:o}for(var l=o,d=a;;){var p=l.return;if(p===null)break;var m=p.alternate;if(m===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===l)return F(p),o;if(m===d)return F(p),a;m=m.sibling}throw Error(f(188))}if(l.return!==d.return)l=p,d=m;else{for(var S=!1,B=p.child;B;){if(B===l){S=!0,l=p,d=m;break}if(B===d){S=!0,d=p,l=m;break}B=B.sibling}if(!S){for(B=m.child;B;){if(B===l){S=!0,l=m,d=p;break}if(B===d){S=!0,d=m,l=p;break}B=B.sibling}if(!S)throw Error(f(189))}}if(l.alternate!==d)throw Error(f(190))}if(l.tag!==3)throw Error(f(188));return l.stateNode.current===l?o:a}function R(o){return o=z(o),o!==null?G(o):null}function G(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=G(o);if(a!==null)return a;o=o.sibling}return null}function $(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){if(o.tag!==4){var a=$(o);if(a!==null)return a}o=o.sibling}return null}var ie=Array.isArray,Te=n.getPublicInstance,Pe=n.getRootHostContext,je=n.getChildHostContext,Je=n.prepareForCommit,$e=n.resetAfterCommit,at=n.createInstance,lt=n.appendInitialChild,vt=n.finalizeInitialChildren,tt=n.prepareUpdate,pn=n.shouldSetTextContent,J=n.createTextInstance,ce=n.scheduleTimeout,_e=n.cancelTimeout,j=n.noTimeout,X=n.isPrimaryRenderer,Ne=n.supportsMutation,ft=n.supportsPersistence,gn=n.supportsHydration,Ui=n.getInstanceFromNode,Qr=n.preparePortalMount,Bi=n.getCurrentEventPriority,Xo=n.detachDeletedInstance,Zo=n.supportsMicrotasks,Xr=n.scheduleMicrotask,zo=n.supportsTestSelectors,xr=n.findFiberRoot,Ot=n.getBoundingRect,Zr=n.getTextContent,Lo=n.isHiddenSubtree,ei=n.matchAccessibilityRole,Di=n.setFocusIfFocusable,br=n.setupIntersectionObserver,ti=n.appendChild,Wi=n.appendChildToContainer,ni=n.commitTextUpdate,Uo=n.commitMount,ji=n.commitUpdate,Ar=n.insertBefore,Fi=n.insertInContainerBefore,Vi=n.removeChild,oi=n.removeChildFromContainer,Rr=n.resetTextContent,Hi=n.hideInstance,Gi=n.hideTextInstance,v=n.unhideInstance,L=n.unhideTextInstance,K=n.clearContainer,xe=n.cloneInstance,Se=n.createContainerChildSet,ve=n.appendChildToContainerChildSet,De=n.finalizeContainerChildren,Pt=n.replaceContainerChildren,I=n.cloneHiddenInstance,D=n.cloneHiddenTextInstance,Y=n.canHydrateInstance,de=n.canHydrateTextInstance,oe=n.canHydrateSuspenseInstance,Ae=n.isSuspenseInstancePending,et=n.isSuspenseInstanceFallback,Tt=n.getSuspenseInstanceFallbackErrorDetails,Bt=n.registerSuspenseInstanceRetry,lo=n.getNextHydratableSibling,qi=n.getFirstHydratableChild,jt=n.getFirstHydratableChildWithinContainer,E=n.getFirstHydratableChildWithinSuspenseInstance,C=n.hydrateInstance,k=n.hydrateTextInstance,O=n.hydrateSuspenseInstance,W=n.getNextHydratableInstanceAfterSuspenseInstance,le=n.commitHydratedContainer,re=n.commitHydratedSuspenseInstance,ge=n.clearSuspenseBoundary,Ie=n.clearSuspenseBoundaryFromContainer,Fe=n.shouldDeleteUnhydratedTailInstances,Ge=n.didNotMatchHydratedContainerTextInstance,mt=n.didNotMatchHydratedTextInstance,Ve;function wt(o){if(Ve===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ve=a&&a[1]||""}return`
`+Ve+o}var Dt=!1;function Qt(o,a){if(!o||Dt)return"";Dt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Ee){var d=Ee}Reflect.construct(o,[],a)}else{try{a.call()}catch(Ee){d=Ee}o.call(a.prototype)}else{try{throw Error()}catch(Ee){d=Ee}o()}}catch(Ee){if(Ee&&d&&typeof Ee.stack=="string"){for(var p=Ee.stack.split(`
`),m=d.stack.split(`
`),S=p.length-1,B=m.length-1;1<=S&&0<=B&&p[S]!==m[B];)B--;for(;1<=S&&0<=B;S--,B--)if(p[S]!==m[B]){if(S!==1||B!==1)do if(S--,B--,0>B||p[S]!==m[B]){var Z=`
`+p[S].replace(" at new "," at ");return o.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",o.displayName)),Z}while(1<=S&&0<=B);break}}}finally{Dt=!1,Error.prepareStackTrace=l}return(o=o?o.displayName||o.name:"")?wt(o):""}var Ft=Object.prototype.hasOwnProperty,Be=[],on=-1;function rn(o){return{current:o}}function st(o){0>on||(o.current=Be[on],Be[on]=null,on--)}function ot(o,a){on++,Be[on]=o.current,o.current=a}var an={},Ct=rn(an),zt=rn(!1),Nn=an;function On(o,a){var l=o.type.contextTypes;if(!l)return an;var d=o.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===a)return d.__reactInternalMemoizedMaskedChildContext;var p={},m;for(m in l)p[m]=a[m];return d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=p),p}function Vt(o){return o=o.childContextTypes,o!=null}function fo(){st(zt),st(Ct)}function er(o,a,l){if(Ct.current!==an)throw Error(f(168));ot(Ct,a),ot(zt,l)}function Ht(o,a,l){var d=o.stateNode;if(a=a.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in a))throw Error(f(108,ee(o)||"Unknown",p));return r({},l,d)}function po(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||an,Nn=Ct.current,ot(Ct,o),ot(zt,zt.current),!0}function tr(o,a,l){var d=o.stateNode;if(!d)throw Error(f(169));l?(o=Ht(o,a,Nn),d.__reactInternalMemoizedMergedChildContext=o,st(zt),st(Ct),ot(Ct,o)):st(zt),ot(zt,l)}var mn=Math.clz32?Math.clz32:vr,Cr=Math.log,Nr=Math.LN2;function vr(o){return o>>>=0,o===0?32:31-(Cr(o)/Nr|0)|0}var mo=64,Yi=4194304;function ri(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ji(o,a){var l=o.pendingLanes;if(l===0)return 0;var d=0,p=o.suspendedLanes,m=o.pingedLanes,S=l&268435455;if(S!==0){var B=S&~p;B!==0?d=ri(B):(m&=S,m!==0&&(d=ri(m)))}else S=l&~p,S!==0?d=ri(S):m!==0&&(d=ri(m));if(d===0)return 0;if(a!==0&&a!==d&&!(a&p)&&(p=d&-d,m=a&-a,p>=m||p===16&&(m&4194240)!==0))return a;if(d&4&&(d|=l&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=d;0<a;)l=31-mn(a),p=1<<l,d|=o[l],a&=~p;return d}function Ou(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(o,a){for(var l=o.suspendedLanes,d=o.pingedLanes,p=o.expirationTimes,m=o.pendingLanes;0<m;){var S=31-mn(m),B=1<<S,Z=p[S];Z===-1?(!(B&l)||B&d)&&(p[S]=Ou(B,a)):Z<=a&&(o.expiredLanes|=B),m&=~B}}function gc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Mu(){var o=mo;return mo<<=1,!(mo&4194240)&&(mo=64),o}function Sc(o){for(var a=[],l=0;31>l;l++)a.push(o);return a}function Ki(o,a,l){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-mn(a),o[a]=l}function np(o,a){var l=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var d=o.eventTimes;for(o=o.expirationTimes;0<l;){var p=31-mn(l),m=1<<p;a[p]=0,d[p]=-1,o[p]=-1,l&=~m}}function _c(o,a){var l=o.entangledLanes|=a;for(o=o.entanglements;l;){var d=31-mn(l),p=1<<d;p&a|o[d]&a&&(o[d]|=a),l&=~p}}var dt=0;function Pu(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var xc=i.unstable_scheduleCallback,zu=i.unstable_cancelCallback,op=i.unstable_shouldYield,rp=i.unstable_requestPaint,Sn=i.unstable_now,ip=i.unstable_ImmediatePriority,g2=i.unstable_UserBlockingPriority,ap=i.unstable_NormalPriority,S2=i.unstable_IdlePriority,Lu=null,nr=null;function _2(o){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Lu,o,void 0,(o.current.flags&128)===128)}catch{}}function x2(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Bo=typeof Object.is=="function"?Object.is:x2,kr=null,Uu=!1,sp=!1;function Ey(o){kr===null?kr=[o]:kr.push(o)}function b2(o){Uu=!0,Ey(o)}function or(){if(!sp&&kr!==null){sp=!0;var o=0,a=dt;try{var l=kr;for(dt=1;o<l.length;o++){var d=l[o];do d=d(!0);while(d!==null)}kr=null,Uu=!1}catch(p){throw kr!==null&&(kr=kr.slice(o+1)),xc(ip,or),p}finally{dt=a,sp=!1}}return null}var za=[],La=0,Bu=null,Du=0,ho=[],yo=0,$i=null,Ir=1,Or="";function Qi(o,a){za[La++]=Du,za[La++]=Bu,Bu=o,Du=a}function Ty(o,a,l){ho[yo++]=Ir,ho[yo++]=Or,ho[yo++]=$i,$i=o;var d=Ir;o=Or;var p=32-mn(d)-1;d&=~(1<<p),l+=1;var m=32-mn(a)+p;if(30<m){var S=p-p%5;m=(d&(1<<S)-1).toString(32),d>>=S,p-=S,Ir=1<<32-mn(a)+p|l<<p|d,Or=m+o}else Ir=1<<m|l<<p|d,Or=o}function cp(o){o.return!==null&&(Qi(o,1),Ty(o,1,0))}function up(o){for(;o===Bu;)Bu=za[--La],za[La]=null,Du=za[--La],za[La]=null;for(;o===$i;)$i=ho[--yo],ho[yo]=null,Or=ho[--yo],ho[yo]=null,Ir=ho[--yo],ho[yo]=null}var oo=null,Eo=null,Gt=!1,bc=!1,Do=null;function gy(o,a){var l=xo(5,null,null,0);l.elementType="DELETED",l.stateNode=a,l.return=o,a=o.deletions,a===null?(o.deletions=[l],o.flags|=16):a.push(l)}function Sy(o,a){switch(o.tag){case 5:return a=Y(a,o.type,o.pendingProps),a!==null?(o.stateNode=a,oo=o,Eo=qi(a),!0):!1;case 6:return a=de(a,o.pendingProps),a!==null?(o.stateNode=a,oo=o,Eo=null,!0):!1;case 13:if(a=oe(a),a!==null){var l=$i!==null?{id:Ir,overflow:Or}:null;return o.memoizedState={dehydrated:a,treeContext:l,retryLane:1073741824},l=xo(18,null,null,0),l.stateNode=a,l.return=o,o.child=l,oo=o,Eo=null,!0}return!1;default:return!1}}function lp(o){return(o.mode&1)!==0&&(o.flags&128)===0}function fp(o){if(Gt){var a=Eo;if(a){var l=a;if(!Sy(o,a)){if(lp(o))throw Error(f(418));a=lo(l);var d=oo;a&&Sy(o,a)?gy(d,l):(o.flags=o.flags&-4097|2,Gt=!1,oo=o)}}else{if(lp(o))throw Error(f(418));o.flags=o.flags&-4097|2,Gt=!1,oo=o}}}function _y(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;oo=o}function Wu(o){if(!gn||o!==oo)return!1;if(!Gt)return _y(o),Gt=!0,!1;if(o.tag!==3&&(o.tag!==5||Fe(o.type)&&!pn(o.type,o.memoizedProps))){var a=Eo;if(a){if(lp(o))throw xy(),Error(f(418));for(;a;)gy(o,a),a=lo(a)}}if(_y(o),o.tag===13){if(!gn)throw Error(f(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(f(317));Eo=W(o)}else Eo=oo?lo(o.stateNode):null;return!0}function xy(){for(var o=Eo;o;)o=lo(o)}function Ua(){gn&&(Eo=oo=null,bc=Gt=!1)}function dp(o){Do===null?Do=[o]:Do.push(o)}var A2=u.ReactCurrentBatchConfig;function ju(o,a){if(Bo(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var l=Object.keys(o),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!Ft.call(a,p)||!Bo(o[p],a[p]))return!1}return!0}function R2(o){switch(o.tag){case 5:return wt(o.type);case 16:return wt("Lazy");case 13:return wt("Suspense");case 19:return wt("SuspenseList");case 0:case 2:case 15:return o=Qt(o.type,!1),o;case 11:return o=Qt(o.type.render,!1),o;case 1:return o=Qt(o.type,!0),o;default:return""}}function Ac(o,a,l){if(o=l.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(f(309));var d=l.stateNode}if(!d)throw Error(f(147,o));var p=d,m=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===m?a.ref:(a=function(S){var B=p.refs;S===null?delete B[m]:B[m]=S},a._stringRef=m,a)}if(typeof o!="string")throw Error(f(284));if(!l._owner)throw Error(f(290,o))}return o}function Fu(o,a){throw o=Object.prototype.toString.call(a),Error(f(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function by(o){var a=o._init;return a(o._payload)}function Ay(o){function a(Q,V){if(o){var ne=Q.deletions;ne===null?(Q.deletions=[V],Q.flags|=16):ne.push(V)}}function l(Q,V){if(!o)return null;for(;V!==null;)a(Q,V),V=V.sibling;return null}function d(Q,V){for(Q=new Map;V!==null;)V.key!==null?Q.set(V.key,V):Q.set(V.index,V),V=V.sibling;return Q}function p(Q,V){return Q=fi(Q,V),Q.index=0,Q.sibling=null,Q}function m(Q,V,ne){return Q.index=ne,o?(ne=Q.alternate,ne!==null?(ne=ne.index,ne<V?(Q.flags|=2,V):ne):(Q.flags|=2,V)):(Q.flags|=1048576,V)}function S(Q){return o&&Q.alternate===null&&(Q.flags|=2),Q}function B(Q,V,ne,Ce){return V===null||V.tag!==6?(V=sm(ne,Q.mode,Ce),V.return=Q,V):(V=p(V,ne),V.return=Q,V)}function Z(Q,V,ne,Ce){var We=ne.type;return We===y?Oe(Q,V,ne.props.children,Ce,ne.key):V!==null&&(V.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===q&&by(We)===V.type)?(Ce=p(V,ne.props),Ce.ref=Ac(Q,V,ne),Ce.return=Q,Ce):(Ce=gl(ne.type,ne.key,ne.props,null,Q.mode,Ce),Ce.ref=Ac(Q,V,ne),Ce.return=Q,Ce)}function Ee(Q,V,ne,Ce){return V===null||V.tag!==4||V.stateNode.containerInfo!==ne.containerInfo||V.stateNode.implementation!==ne.implementation?(V=cm(ne,Q.mode,Ce),V.return=Q,V):(V=p(V,ne.children||[]),V.return=Q,V)}function Oe(Q,V,ne,Ce,We){return V===null||V.tag!==7?(V=ra(ne,Q.mode,Ce,We),V.return=Q,V):(V=p(V,ne),V.return=Q,V)}function Qe(Q,V,ne){if(typeof V=="string"&&V!==""||typeof V=="number")return V=sm(""+V,Q.mode,ne),V.return=Q,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case c:return ne=gl(V.type,V.key,V.props,null,Q.mode,ne),ne.ref=Ac(Q,null,V),ne.return=Q,ne;case h:return V=cm(V,Q.mode,ne),V.return=Q,V;case q:var Ce=V._init;return Qe(Q,Ce(V._payload),ne)}if(ie(V)||ae(V))return V=ra(V,Q.mode,ne,null),V.return=Q,V;Fu(Q,V)}return null}function Re(Q,V,ne,Ce){var We=V!==null?V.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return We!==null?null:B(Q,V,""+ne,Ce);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case c:return ne.key===We?Z(Q,V,ne,Ce):null;case h:return ne.key===We?Ee(Q,V,ne,Ce):null;case q:return We=ne._init,Re(Q,V,We(ne._payload),Ce)}if(ie(ne)||ae(ne))return We!==null?null:Oe(Q,V,ne,Ce,null);Fu(Q,ne)}return null}function Wt(Q,V,ne,Ce,We){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Q=Q.get(ne)||null,B(V,Q,""+Ce,We);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case c:return Q=Q.get(Ce.key===null?ne:Ce.key)||null,Z(V,Q,Ce,We);case h:return Q=Q.get(Ce.key===null?ne:Ce.key)||null,Ee(V,Q,Ce,We);case q:var nt=Ce._init;return Wt(Q,V,ne,nt(Ce._payload),We)}if(ie(Ce)||ae(Ce))return Q=Q.get(ne)||null,Oe(V,Q,Ce,We,null);Fu(V,Ce)}return null}function Mt(Q,V,ne,Ce){for(var We=null,nt=null,Xe=V,gt=V=0,bn=null;Xe!==null&&gt<ne.length;gt++){Xe.index>gt?(bn=Xe,Xe=null):bn=Xe.sibling;var St=Re(Q,Xe,ne[gt],Ce);if(St===null){Xe===null&&(Xe=bn);break}o&&Xe&&St.alternate===null&&a(Q,Xe),V=m(St,V,gt),nt===null?We=St:nt.sibling=St,nt=St,Xe=bn}if(gt===ne.length)return l(Q,Xe),Gt&&Qi(Q,gt),We;if(Xe===null){for(;gt<ne.length;gt++)Xe=Qe(Q,ne[gt],Ce),Xe!==null&&(V=m(Xe,V,gt),nt===null?We=Xe:nt.sibling=Xe,nt=Xe);return Gt&&Qi(Q,gt),We}for(Xe=d(Q,Xe);gt<ne.length;gt++)bn=Wt(Xe,Q,gt,ne[gt],Ce),bn!==null&&(o&&bn.alternate!==null&&Xe.delete(bn.key===null?gt:bn.key),V=m(bn,V,gt),nt===null?We=bn:nt.sibling=bn,nt=bn);return o&&Xe.forEach(function(di){return a(Q,di)}),Gt&&Qi(Q,gt),We}function $n(Q,V,ne,Ce){var We=ae(ne);if(typeof We!="function")throw Error(f(150));if(ne=We.call(ne),ne==null)throw Error(f(151));for(var nt=We=null,Xe=V,gt=V=0,bn=null,St=ne.next();Xe!==null&&!St.done;gt++,St=ne.next()){Xe.index>gt?(bn=Xe,Xe=null):bn=Xe.sibling;var di=Re(Q,Xe,St.value,Ce);if(di===null){Xe===null&&(Xe=bn);break}o&&Xe&&di.alternate===null&&a(Q,Xe),V=m(di,V,gt),nt===null?We=di:nt.sibling=di,nt=di,Xe=bn}if(St.done)return l(Q,Xe),Gt&&Qi(Q,gt),We;if(Xe===null){for(;!St.done;gt++,St=ne.next())St=Qe(Q,St.value,Ce),St!==null&&(V=m(St,V,gt),nt===null?We=St:nt.sibling=St,nt=St);return Gt&&Qi(Q,gt),We}for(Xe=d(Q,Xe);!St.done;gt++,St=ne.next())St=Wt(Xe,Q,gt,St.value,Ce),St!==null&&(o&&St.alternate!==null&&Xe.delete(St.key===null?gt:St.key),V=m(St,V,gt),nt===null?We=St:nt.sibling=St,nt=St);return o&&Xe.forEach(function(tx){return a(Q,tx)}),Gt&&Qi(Q,gt),We}function zr(Q,V,ne,Ce){if(typeof ne=="object"&&ne!==null&&ne.type===y&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case c:e:{for(var We=ne.key,nt=V;nt!==null;){if(nt.key===We){if(We=ne.type,We===y){if(nt.tag===7){l(Q,nt.sibling),V=p(nt,ne.props.children),V.return=Q,Q=V;break e}}else if(nt.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===q&&by(We)===nt.type){l(Q,nt.sibling),V=p(nt,ne.props),V.ref=Ac(Q,nt,ne),V.return=Q,Q=V;break e}l(Q,nt);break}else a(Q,nt);nt=nt.sibling}ne.type===y?(V=ra(ne.props.children,Q.mode,Ce,ne.key),V.return=Q,Q=V):(Ce=gl(ne.type,ne.key,ne.props,null,Q.mode,Ce),Ce.ref=Ac(Q,V,ne),Ce.return=Q,Q=Ce)}return S(Q);case h:e:{for(nt=ne.key;V!==null;){if(V.key===nt)if(V.tag===4&&V.stateNode.containerInfo===ne.containerInfo&&V.stateNode.implementation===ne.implementation){l(Q,V.sibling),V=p(V,ne.children||[]),V.return=Q,Q=V;break e}else{l(Q,V);break}else a(Q,V);V=V.sibling}V=cm(ne,Q.mode,Ce),V.return=Q,Q=V}return S(Q);case q:return nt=ne._init,zr(Q,V,nt(ne._payload),Ce)}if(ie(ne))return Mt(Q,V,ne,Ce);if(ae(ne))return $n(Q,V,ne,Ce);Fu(Q,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,V!==null&&V.tag===6?(l(Q,V.sibling),V=p(V,ne),V.return=Q,Q=V):(l(Q,V),V=sm(ne,Q.mode,Ce),V.return=Q,Q=V),S(Q)):l(Q,V)}return zr}var Ba=Ay(!0),Ry=Ay(!1),Vu=rn(null),Hu=null,Da=null,pp=null;function mp(){pp=Da=Hu=null}function Cy(o,a,l){X?(ot(Vu,a._currentValue),a._currentValue=l):(ot(Vu,a._currentValue2),a._currentValue2=l)}function hp(o){var a=Vu.current;st(Vu),X?o._currentValue=a:o._currentValue2=a}function yp(o,a,l){for(;o!==null;){var d=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),o===l)break;o=o.return}}function Wa(o,a){Hu=o,pp=Da=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&a&&(Yn=!0),o.firstContext=null)}function To(o){var a=X?o._currentValue:o._currentValue2;if(pp!==o)if(o={context:o,memoizedValue:a,next:null},Da===null){if(Hu===null)throw Error(f(308));Da=o,Hu.dependencies={lanes:0,firstContext:o}}else Da=Da.next=o;return a}var Xi=null;function Ep(o){Xi===null?Xi=[o]:Xi.push(o)}function Ny(o,a,l,d){var p=a.interleaved;return p===null?(l.next=l,Ep(a)):(l.next=p.next,p.next=l),a.interleaved=l,rr(o,d)}function rr(o,a){o.lanes|=a;var l=o.alternate;for(l!==null&&(l.lanes|=a),l=o,o=o.return;o!==null;)o.childLanes|=a,l=o.alternate,l!==null&&(l.childLanes|=a),l=o,o=o.return;return l.tag===3?l.stateNode:null}var ii=!1;function Tp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vy(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function wr(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function ai(o,a,l){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,ct&2){var p=d.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),d.pending=a,rr(o,l)}return p=d.interleaved,p===null?(a.next=a,Ep(d)):(a.next=p.next,p.next=a),d.interleaved=a,rr(o,l)}function Gu(o,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194240)!==0)){var d=a.lanes;d&=o.pendingLanes,l|=d,a.lanes=l,_c(o,l)}}function ky(o,a){var l=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};m===null?p=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?p=m=a:m=m.next=a}else p=m=a;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:d.shared,effects:d.effects},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=a:o.next=a,l.lastBaseUpdate=a}function qu(o,a,l,d){var p=o.updateQueue;ii=!1;var m=p.firstBaseUpdate,S=p.lastBaseUpdate,B=p.shared.pending;if(B!==null){p.shared.pending=null;var Z=B,Ee=Z.next;Z.next=null,S===null?m=Ee:S.next=Ee,S=Z;var Oe=o.alternate;Oe!==null&&(Oe=Oe.updateQueue,B=Oe.lastBaseUpdate,B!==S&&(B===null?Oe.firstBaseUpdate=Ee:B.next=Ee,Oe.lastBaseUpdate=Z))}if(m!==null){var Qe=p.baseState;S=0,Oe=Ee=Z=null,B=m;do{var Re=B.lane,Wt=B.eventTime;if((d&Re)===Re){Oe!==null&&(Oe=Oe.next={eventTime:Wt,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Mt=o,$n=B;switch(Re=a,Wt=l,$n.tag){case 1:if(Mt=$n.payload,typeof Mt=="function"){Qe=Mt.call(Wt,Qe,Re);break e}Qe=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=$n.payload,Re=typeof Mt=="function"?Mt.call(Wt,Qe,Re):Mt,Re==null)break e;Qe=r({},Qe,Re);break e;case 2:ii=!0}}B.callback!==null&&B.lane!==0&&(o.flags|=64,Re=p.effects,Re===null?p.effects=[B]:Re.push(B))}else Wt={eventTime:Wt,lane:Re,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Oe===null?(Ee=Oe=Wt,Z=Qe):Oe=Oe.next=Wt,S|=Re;if(B=B.next,B===null){if(B=p.shared.pending,B===null)break;Re=B,B=Re.next,Re.next=null,p.lastBaseUpdate=Re,p.shared.pending=null}}while(1);if(Oe===null&&(Z=Qe),p.baseState=Z,p.firstBaseUpdate=Ee,p.lastBaseUpdate=Oe,a=p.shared.interleaved,a!==null){p=a;do S|=p.lane,p=p.next;while(p!==a)}else m===null&&(p.shared.lanes=0);ea|=S,o.lanes=S,o.memoizedState=Qe}}function Iy(o,a,l){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var d=o[a],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(f(191,p));p.call(d)}}}var Rc={},go=rn(Rc),Cc=rn(Rc),ja=rn(Rc);function ir(o){if(o===Rc)throw Error(f(174));return o}function gp(o,a){ot(ja,a),ot(Cc,o),ot(go,Rc),o=Pe(a),st(go),ot(go,o)}function Fa(){st(go),st(Cc),st(ja)}function Oy(o){var a=ir(ja.current),l=ir(go.current);a=je(l,o.type,a),l!==a&&(ot(Cc,o),ot(go,a))}function Sp(o){Cc.current===o&&(st(go),st(Cc))}var Xt=rn(0);function Yu(o){for(var a=o;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Ae(l)||et(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var _p=[];function xp(){for(var o=0;o<_p.length;o++){var a=_p[o];X?a._workInProgressVersionPrimary=null:a._workInProgressVersionSecondary=null}_p.length=0}var Ju=u.ReactCurrentDispatcher,bp=u.ReactCurrentBatchConfig,Zi=0,Zt=null,hn=null,_n=null,Ku=!1,Nc=!1,vc=0,C2=0;function wn(){throw Error(f(321))}function Ap(o,a){if(a===null)return!1;for(var l=0;l<a.length&&l<o.length;l++)if(!Bo(o[l],a[l]))return!1;return!0}function Rp(o,a,l,d,p,m){if(Zi=m,Zt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ju.current=o===null||o.memoizedState===null?I2:O2,o=l(d,p),Nc){m=0;do{if(Nc=!1,vc=0,25<=m)throw Error(f(301));m+=1,_n=hn=null,a.updateQueue=null,Ju.current=w2,o=l(d,p)}while(Nc)}if(Ju.current=Xu,a=hn!==null&&hn.next!==null,Zi=0,_n=hn=Zt=null,Ku=!1,a)throw Error(f(300));return o}function Cp(){var o=vc!==0;return vc=0,o}function ar(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Zt.memoizedState=_n=o:_n=_n.next=o,_n}function So(){if(hn===null){var o=Zt.alternate;o=o!==null?o.memoizedState:null}else o=hn.next;var a=_n===null?Zt.memoizedState:_n.next;if(a!==null)_n=a,hn=o;else{if(o===null)throw Error(f(310));hn=o,o={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},_n===null?Zt.memoizedState=_n=o:_n=_n.next=o}return _n}function kc(o,a){return typeof a=="function"?a(o):a}function Np(o){var a=So(),l=a.queue;if(l===null)throw Error(f(311));l.lastRenderedReducer=o;var d=hn,p=d.baseQueue,m=l.pending;if(m!==null){if(p!==null){var S=p.next;p.next=m.next,m.next=S}d.baseQueue=p=m,l.pending=null}if(p!==null){m=p.next,d=d.baseState;var B=S=null,Z=null,Ee=m;do{var Oe=Ee.lane;if((Zi&Oe)===Oe)Z!==null&&(Z=Z.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),d=Ee.hasEagerState?Ee.eagerState:o(d,Ee.action);else{var Qe={lane:Oe,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};Z===null?(B=Z=Qe,S=d):Z=Z.next=Qe,Zt.lanes|=Oe,ea|=Oe}Ee=Ee.next}while(Ee!==null&&Ee!==m);Z===null?S=d:Z.next=B,Bo(d,a.memoizedState)||(Yn=!0),a.memoizedState=d,a.baseState=S,a.baseQueue=Z,l.lastRenderedState=d}if(o=l.interleaved,o!==null){p=o;do m=p.lane,Zt.lanes|=m,ea|=m,p=p.next;while(p!==o)}else p===null&&(l.lanes=0);return[a.memoizedState,l.dispatch]}function vp(o){var a=So(),l=a.queue;if(l===null)throw Error(f(311));l.lastRenderedReducer=o;var d=l.dispatch,p=l.pending,m=a.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do m=o(m,S.action),S=S.next;while(S!==p);Bo(m,a.memoizedState)||(Yn=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),l.lastRenderedState=m}return[m,d]}function wy(){}function My(o,a){var l=Zt,d=So(),p=a(),m=!Bo(d.memoizedState,p);if(m&&(d.memoizedState=p,Yn=!0),d=d.queue,kp(Ly.bind(null,l,d,o),[o]),d.getSnapshot!==a||m||_n!==null&&_n.memoizedState.tag&1){if(l.flags|=2048,Ic(9,zy.bind(null,l,d,p,a),void 0,null),xn===null)throw Error(f(349));Zi&30||Py(l,a,p)}return p}function Py(o,a,l){o.flags|=16384,o={getSnapshot:a,value:l},a=Zt.updateQueue,a===null?(a={lastEffect:null,stores:null},Zt.updateQueue=a,a.stores=[o]):(l=a.stores,l===null?a.stores=[o]:l.push(o))}function zy(o,a,l,d){a.value=l,a.getSnapshot=d,Uy(a)&&By(o)}function Ly(o,a,l){return l(function(){Uy(a)&&By(o)})}function Uy(o){var a=o.getSnapshot;o=o.value;try{var l=a();return!Bo(o,l)}catch{return!0}}function By(o){var a=rr(o,1);a!==null&&_o(a,o,1,-1)}function Dy(o){var a=ar();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kc,lastRenderedState:o},a.queue=o,o=o.dispatch=k2.bind(null,Zt,o),[a.memoizedState,o]}function Ic(o,a,l,d){return o={tag:o,create:a,destroy:l,deps:d,next:null},a=Zt.updateQueue,a===null?(a={lastEffect:null,stores:null},Zt.updateQueue=a,a.lastEffect=o.next=o):(l=a.lastEffect,l===null?a.lastEffect=o.next=o:(d=l.next,l.next=o,o.next=d,a.lastEffect=o)),o}function Wy(){return So().memoizedState}function $u(o,a,l,d){var p=ar();Zt.flags|=o,p.memoizedState=Ic(1|a,l,void 0,d===void 0?null:d)}function Qu(o,a,l,d){var p=So();d=d===void 0?null:d;var m=void 0;if(hn!==null){var S=hn.memoizedState;if(m=S.destroy,d!==null&&Ap(d,S.deps)){p.memoizedState=Ic(a,l,m,d);return}}Zt.flags|=o,p.memoizedState=Ic(1|a,l,m,d)}function jy(o,a){return $u(8390656,8,o,a)}function kp(o,a){return Qu(2048,8,o,a)}function Fy(o,a){return Qu(4,2,o,a)}function Vy(o,a){return Qu(4,4,o,a)}function Hy(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Gy(o,a,l){return l=l!=null?l.concat([o]):null,Qu(4,4,Hy.bind(null,a,o),l)}function Ip(){}function qy(o,a){var l=So();a=a===void 0?null:a;var d=l.memoizedState;return d!==null&&a!==null&&Ap(a,d[1])?d[0]:(l.memoizedState=[o,a],o)}function Yy(o,a){var l=So();a=a===void 0?null:a;var d=l.memoizedState;return d!==null&&a!==null&&Ap(a,d[1])?d[0]:(o=o(),l.memoizedState=[o,a],o)}function Jy(o,a,l){return Zi&21?(Bo(l,a)||(l=Mu(),Zt.lanes|=l,ea|=l,o.baseState=!0),a):(o.baseState&&(o.baseState=!1,Yn=!0),o.memoizedState=l)}function N2(o,a){var l=dt;dt=l!==0&&4>l?l:4,o(!0);var d=bp.transition;bp.transition={};try{o(!1),a()}finally{dt=l,bp.transition=d}}function Ky(){return So().memoizedState}function v2(o,a,l){var d=ui(o);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},$y(o))Qy(a,l);else if(l=Ny(o,a,l,d),l!==null){var p=zn();_o(l,o,d,p),Xy(l,a,d)}}function k2(o,a,l){var d=ui(o),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if($y(o))Qy(a,p);else{var m=o.alternate;if(o.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var S=a.lastRenderedState,B=m(S,l);if(p.hasEagerState=!0,p.eagerState=B,Bo(B,S)){var Z=a.interleaved;Z===null?(p.next=p,Ep(a)):(p.next=Z.next,Z.next=p),a.interleaved=p;return}}catch{}finally{}l=Ny(o,a,p,d),l!==null&&(p=zn(),_o(l,o,d,p),Xy(l,a,d))}}function $y(o){var a=o.alternate;return o===Zt||a!==null&&a===Zt}function Qy(o,a){Nc=Ku=!0;var l=o.pending;l===null?a.next=a:(a.next=l.next,l.next=a),o.pending=a}function Xy(o,a,l){if(l&4194240){var d=a.lanes;d&=o.pendingLanes,l|=d,a.lanes=l,_c(o,l)}}var Xu={readContext:To,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},I2={readContext:To,useCallback:function(o,a){return ar().memoizedState=[o,a===void 0?null:a],o},useContext:To,useEffect:jy,useImperativeHandle:function(o,a,l){return l=l!=null?l.concat([o]):null,$u(4194308,4,Hy.bind(null,a,o),l)},useLayoutEffect:function(o,a){return $u(4194308,4,o,a)},useInsertionEffect:function(o,a){return $u(4,2,o,a)},useMemo:function(o,a){var l=ar();return a=a===void 0?null:a,o=o(),l.memoizedState=[o,a],o},useReducer:function(o,a,l){var d=ar();return a=l!==void 0?l(a):a,d.memoizedState=d.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},d.queue=o,o=o.dispatch=v2.bind(null,Zt,o),[d.memoizedState,o]},useRef:function(o){var a=ar();return o={current:o},a.memoizedState=o},useState:Dy,useDebugValue:Ip,useDeferredValue:function(o){return ar().memoizedState=o},useTransition:function(){var o=Dy(!1),a=o[0];return o=N2.bind(null,o[1]),ar().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,l){var d=Zt,p=ar();if(Gt){if(l===void 0)throw Error(f(407));l=l()}else{if(l=a(),xn===null)throw Error(f(349));Zi&30||Py(d,a,l)}p.memoizedState=l;var m={value:l,getSnapshot:a};return p.queue=m,jy(Ly.bind(null,d,m,o),[o]),d.flags|=2048,Ic(9,zy.bind(null,d,m,l,a),void 0,null),l},useId:function(){var o=ar(),a=xn.identifierPrefix;if(Gt){var l=Or,d=Ir;l=(d&~(1<<32-mn(d)-1)).toString(32)+l,a=":"+a+"R"+l,l=vc++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=C2++,a=":"+a+"r"+l.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},O2={readContext:To,useCallback:qy,useContext:To,useEffect:kp,useImperativeHandle:Gy,useInsertionEffect:Fy,useLayoutEffect:Vy,useMemo:Yy,useReducer:Np,useRef:Wy,useState:function(){return Np(kc)},useDebugValue:Ip,useDeferredValue:function(o){var a=So();return Jy(a,hn.memoizedState,o)},useTransition:function(){var o=Np(kc)[0],a=So().memoizedState;return[o,a]},useMutableSource:wy,useSyncExternalStore:My,useId:Ky,unstable_isNewReconciler:!1},w2={readContext:To,useCallback:qy,useContext:To,useEffect:kp,useImperativeHandle:Gy,useInsertionEffect:Fy,useLayoutEffect:Vy,useMemo:Yy,useReducer:vp,useRef:Wy,useState:function(){return vp(kc)},useDebugValue:Ip,useDeferredValue:function(o){var a=So();return hn===null?a.memoizedState=o:Jy(a,hn.memoizedState,o)},useTransition:function(){var o=vp(kc)[0],a=So().memoizedState;return[o,a]},useMutableSource:wy,useSyncExternalStore:My,useId:Ky,unstable_isNewReconciler:!1};function Wo(o,a){if(o&&o.defaultProps){a=r({},a),o=o.defaultProps;for(var l in o)a[l]===void 0&&(a[l]=o[l]);return a}return a}function Op(o,a,l,d){a=o.memoizedState,l=l(d,a),l=l==null?a:r({},a,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var Zu={isMounted:function(o){return(o=o._reactInternals)?H(o)===o:!1},enqueueSetState:function(o,a,l){o=o._reactInternals;var d=zn(),p=ui(o),m=wr(d,p);m.payload=a,l!=null&&(m.callback=l),a=ai(o,m,p),a!==null&&(_o(a,o,p,d),Gu(a,o,p))},enqueueReplaceState:function(o,a,l){o=o._reactInternals;var d=zn(),p=ui(o),m=wr(d,p);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=ai(o,m,p),a!==null&&(_o(a,o,p,d),Gu(a,o,p))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var l=zn(),d=ui(o),p=wr(l,d);p.tag=2,a!=null&&(p.callback=a),a=ai(o,p,d),a!==null&&(_o(a,o,d,l),Gu(a,o,d))}};function Zy(o,a,l,d,p,m,S){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,m,S):a.prototype&&a.prototype.isPureReactComponent?!ju(l,d)||!ju(p,m):!0}function e0(o,a,l){var d=!1,p=an,m=a.contextType;return typeof m=="object"&&m!==null?m=To(m):(p=Vt(a)?Nn:Ct.current,d=a.contextTypes,m=(d=d!=null)?On(o,p):an),a=new a(l,m),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Zu,o.stateNode=a,a._reactInternals=o,d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=p,o.__reactInternalMemoizedMaskedChildContext=m),a}function t0(o,a,l,d){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==o&&Zu.enqueueReplaceState(a,a.state,null)}function wp(o,a,l,d){var p=o.stateNode;p.props=l,p.state=o.memoizedState,p.refs={},Tp(o);var m=a.contextType;typeof m=="object"&&m!==null?p.context=To(m):(m=Vt(a)?Nn:Ct.current,p.context=On(o,m)),p.state=o.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Op(o,a,m,l),p.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(a=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),a!==p.state&&Zu.enqueueReplaceState(p,p.state,null),qu(o,l,p,d),p.state=o.memoizedState),typeof p.componentDidMount=="function"&&(o.flags|=4194308)}function Va(o,a){try{var l="",d=a;do l+=R2(d),d=d.return;while(d);var p=l}catch(m){p=`
Error generating stack: `+m.message+`
`+m.stack}return{value:o,source:a,stack:p,digest:null}}function Mp(o,a,l){return{value:o,source:null,stack:l??null,digest:a??null}}function Pp(o,a){try{console.error(a.value)}catch(l){setTimeout(function(){throw l})}}var M2=typeof WeakMap=="function"?WeakMap:Map;function n0(o,a,l){l=wr(-1,l),l.tag=3,l.payload={element:null};var d=a.value;return l.callback=function(){pl||(pl=!0,em=d),Pp(o,a)},l}function o0(o,a,l){l=wr(-1,l),l.tag=3;var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=a.value;l.payload=function(){return d(p)},l.callback=function(){Pp(o,a)}}var m=o.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(l.callback=function(){Pp(o,a),typeof d!="function"&&(si===null?si=new Set([this]):si.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),l}function r0(o,a,l){var d=o.pingCache;if(d===null){d=o.pingCache=new M2;var p=new Set;d.set(a,p)}else p=d.get(a),p===void 0&&(p=new Set,d.set(a,p));p.has(l)||(p.add(l),o=Y2.bind(null,o,a,l),a.then(o,o))}function i0(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function a0(o,a,l,d,p){return o.mode&1?(o.flags|=65536,o.lanes=p,o):(o===a?o.flags|=65536:(o.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(a=wr(-1,1),a.tag=2,ai(l,a,1))),l.lanes|=1),o)}var P2=u.ReactCurrentOwner,Yn=!1;function Fn(o,a,l,d){a.child=o===null?Ry(a,null,l,d):Ba(a,o.child,l,d)}function s0(o,a,l,d,p){l=l.render;var m=a.ref;return Wa(a,p),d=Rp(o,a,l,d,m,p),l=Cp(),o!==null&&!Yn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~p,Mr(o,a,p)):(Gt&&l&&cp(a),a.flags|=1,Fn(o,a,d,p),a.child)}function c0(o,a,l,d,p){if(o===null){var m=l.type;return typeof m=="function"&&!am(m)&&m.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(a.tag=15,a.type=m,u0(o,a,m,d,p)):(o=gl(l.type,null,d,a,a.mode,p),o.ref=a.ref,o.return=a,a.child=o)}if(m=o.child,!(o.lanes&p)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:ju,l(S,d)&&o.ref===a.ref)return Mr(o,a,p)}return a.flags|=1,o=fi(m,d),o.ref=a.ref,o.return=a,a.child=o}function u0(o,a,l,d,p){if(o!==null){var m=o.memoizedProps;if(ju(m,d)&&o.ref===a.ref)if(Yn=!1,a.pendingProps=d=m,(o.lanes&p)!==0)o.flags&131072&&(Yn=!0);else return a.lanes=o.lanes,Mr(o,a,p)}return zp(o,a,l,d,p)}function l0(o,a,l){var d=a.pendingProps,p=d.children,m=o!==null?o.memoizedState:null;if(d.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Ga,ro),ro|=l;else{if(!(l&1073741824))return o=m!==null?m.baseLanes|l:l,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,ot(Ga,ro),ro|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=m!==null?m.baseLanes:l,ot(Ga,ro),ro|=d}else m!==null?(d=m.baseLanes|l,a.memoizedState=null):d=l,ot(Ga,ro),ro|=d;return Fn(o,a,p,l),a.child}function f0(o,a){var l=a.ref;(o===null&&l!==null||o!==null&&o.ref!==l)&&(a.flags|=512,a.flags|=2097152)}function zp(o,a,l,d,p){var m=Vt(l)?Nn:Ct.current;return m=On(a,m),Wa(a,p),l=Rp(o,a,l,d,m,p),d=Cp(),o!==null&&!Yn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~p,Mr(o,a,p)):(Gt&&d&&cp(a),a.flags|=1,Fn(o,a,l,p),a.child)}function d0(o,a,l,d,p){if(Vt(l)){var m=!0;po(a)}else m=!1;if(Wa(a,p),a.stateNode===null)tl(o,a),e0(a,l,d),wp(a,l,d,p),d=!0;else if(o===null){var S=a.stateNode,B=a.memoizedProps;S.props=B;var Z=S.context,Ee=l.contextType;typeof Ee=="object"&&Ee!==null?Ee=To(Ee):(Ee=Vt(l)?Nn:Ct.current,Ee=On(a,Ee));var Oe=l.getDerivedStateFromProps,Qe=typeof Oe=="function"||typeof S.getSnapshotBeforeUpdate=="function";Qe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(B!==d||Z!==Ee)&&t0(a,S,d,Ee),ii=!1;var Re=a.memoizedState;S.state=Re,qu(a,d,S,p),Z=a.memoizedState,B!==d||Re!==Z||zt.current||ii?(typeof Oe=="function"&&(Op(a,l,Oe,d),Z=a.memoizedState),(B=ii||Zy(a,l,B,d,Re,Z,Ee))?(Qe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=Z),S.props=d,S.state=Z,S.context=Ee,d=B):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{S=a.stateNode,vy(o,a),B=a.memoizedProps,Ee=a.type===a.elementType?B:Wo(a.type,B),S.props=Ee,Qe=a.pendingProps,Re=S.context,Z=l.contextType,typeof Z=="object"&&Z!==null?Z=To(Z):(Z=Vt(l)?Nn:Ct.current,Z=On(a,Z));var Wt=l.getDerivedStateFromProps;(Oe=typeof Wt=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(B!==Qe||Re!==Z)&&t0(a,S,d,Z),ii=!1,Re=a.memoizedState,S.state=Re,qu(a,d,S,p);var Mt=a.memoizedState;B!==Qe||Re!==Mt||zt.current||ii?(typeof Wt=="function"&&(Op(a,l,Wt,d),Mt=a.memoizedState),(Ee=ii||Zy(a,l,Ee,d,Re,Mt,Z)||!1)?(Oe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,Mt,Z),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,Mt,Z)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||B===o.memoizedProps&&Re===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&Re===o.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=Mt),S.props=d,S.state=Mt,S.context=Z,d=Ee):(typeof S.componentDidUpdate!="function"||B===o.memoizedProps&&Re===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&Re===o.memoizedState||(a.flags|=1024),d=!1)}return Lp(o,a,l,d,m,p)}function Lp(o,a,l,d,p,m){f0(o,a);var S=(a.flags&128)!==0;if(!d&&!S)return p&&tr(a,l,!1),Mr(o,a,m);d=a.stateNode,P2.current=a;var B=S&&typeof l.getDerivedStateFromError!="function"?null:d.render();return a.flags|=1,o!==null&&S?(a.child=Ba(a,o.child,null,m),a.child=Ba(a,null,B,m)):Fn(o,a,B,m),a.memoizedState=d.state,p&&tr(a,l,!0),a.child}function p0(o){var a=o.stateNode;a.pendingContext?er(o,a.pendingContext,a.pendingContext!==a.context):a.context&&er(o,a.context,!1),gp(o,a.containerInfo)}function m0(o,a,l,d,p){return Ua(),dp(p),a.flags|=256,Fn(o,a,l,d),a.child}var Up={dehydrated:null,treeContext:null,retryLane:0};function Bp(o){return{baseLanes:o,cachePool:null,transitions:null}}function h0(o,a,l){var d=a.pendingProps,p=Xt.current,m=!1,S=(a.flags&128)!==0,B;if((B=S)||(B=o!==null&&o.memoizedState===null?!1:(p&2)!==0),B?(m=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(p|=1),ot(Xt,p&1),o===null)return fp(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(a.mode&1?et(o)?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(S=d.children,o=d.fallback,m?(d=a.mode,m=a.child,S={mode:"hidden",children:S},!(d&1)&&m!==null?(m.childLanes=0,m.pendingProps=S):m=Sl(S,d,0,null),o=ra(o,d,l,null),m.return=a,o.return=a,m.sibling=o,a.child=m,a.child.memoizedState=Bp(l),a.memoizedState=Up,o):Dp(a,S));if(p=o.memoizedState,p!==null&&(B=p.dehydrated,B!==null))return z2(o,a,S,d,B,p,l);if(m){m=d.fallback,S=a.mode,p=o.child,B=p.sibling;var Z={mode:"hidden",children:d.children};return!(S&1)&&a.child!==p?(d=a.child,d.childLanes=0,d.pendingProps=Z,a.deletions=null):(d=fi(p,Z),d.subtreeFlags=p.subtreeFlags&14680064),B!==null?m=fi(B,m):(m=ra(m,S,l,null),m.flags|=2),m.return=a,d.return=a,d.sibling=m,a.child=d,d=m,m=a.child,S=o.child.memoizedState,S=S===null?Bp(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},m.memoizedState=S,m.childLanes=o.childLanes&~l,a.memoizedState=Up,d}return m=o.child,o=m.sibling,d=fi(m,{mode:"visible",children:d.children}),!(a.mode&1)&&(d.lanes=l),d.return=a,d.sibling=null,o!==null&&(l=a.deletions,l===null?(a.deletions=[o],a.flags|=16):l.push(o)),a.child=d,a.memoizedState=null,d}function Dp(o,a){return a=Sl({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function el(o,a,l,d){return d!==null&&dp(d),Ba(a,o.child,null,l),o=Dp(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function z2(o,a,l,d,p,m,S){if(l)return a.flags&256?(a.flags&=-257,d=Mp(Error(f(422))),el(o,a,S,d)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(m=d.fallback,p=a.mode,d=Sl({mode:"visible",children:d.children},p,0,null),m=ra(m,p,S,null),m.flags|=2,d.return=a,m.return=a,d.sibling=m,a.child=d,a.mode&1&&Ba(a,o.child,null,S),a.child.memoizedState=Bp(S),a.memoizedState=Up,m);if(!(a.mode&1))return el(o,a,S,null);if(et(p))return d=Tt(p).digest,m=Error(f(419)),d=Mp(m,d,void 0),el(o,a,S,d);if(l=(S&o.childLanes)!==0,Yn||l){if(d=xn,d!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(d.suspendedLanes|S)?0:p,p!==0&&p!==m.retryLane&&(m.retryLane=p,rr(o,p),_o(d,o,p,-1))}return im(),d=Mp(Error(f(421))),el(o,a,S,d)}return Ae(p)?(a.flags|=128,a.child=o.child,a=J2.bind(null,o),Bt(p,a),null):(o=m.treeContext,gn&&(Eo=E(p),oo=a,Gt=!0,Do=null,bc=!1,o!==null&&(ho[yo++]=Ir,ho[yo++]=Or,ho[yo++]=$i,Ir=o.id,Or=o.overflow,$i=a)),a=Dp(a,d.children),a.flags|=4096,a)}function y0(o,a,l){o.lanes|=a;var d=o.alternate;d!==null&&(d.lanes|=a),yp(o.return,a,l)}function Wp(o,a,l,d,p){var m=o.memoizedState;m===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=d,m.tail=l,m.tailMode=p)}function E0(o,a,l){var d=a.pendingProps,p=d.revealOrder,m=d.tail;if(Fn(o,a,d.children,l),d=Xt.current,d&2)d=d&1|2,a.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&y0(o,l,a);else if(o.tag===19)y0(o,l,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}if(ot(Xt,d),!(a.mode&1))a.memoizedState=null;else switch(p){case"forwards":for(l=a.child,p=null;l!==null;)o=l.alternate,o!==null&&Yu(o)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Wp(a,!1,p,l,m);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(o=p.alternate,o!==null&&Yu(o)===null){a.child=p;break}o=p.sibling,p.sibling=l,l=p,p=o}Wp(a,!0,l,null,m);break;case"together":Wp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function tl(o,a){!(a.mode&1)&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Mr(o,a,l){if(o!==null&&(a.dependencies=o.dependencies),ea|=a.lanes,!(l&a.childLanes))return null;if(o!==null&&a.child!==o.child)throw Error(f(153));if(a.child!==null){for(o=a.child,l=fi(o,o.pendingProps),a.child=l,l.return=a;o.sibling!==null;)o=o.sibling,l=l.sibling=fi(o,o.pendingProps),l.return=a;l.sibling=null}return a.child}function L2(o,a,l){switch(a.tag){case 3:p0(a),Ua();break;case 5:Oy(a);break;case 1:Vt(a.type)&&po(a);break;case 4:gp(a,a.stateNode.containerInfo);break;case 10:Cy(a,a.type._context,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(ot(Xt,Xt.current&1),a.flags|=128,null):l&a.child.childLanes?h0(o,a,l):(ot(Xt,Xt.current&1),o=Mr(o,a,l),o!==null?o.sibling:null);ot(Xt,Xt.current&1);break;case 19:if(d=(l&a.childLanes)!==0,o.flags&128){if(d)return E0(o,a,l);a.flags|=128}var p=a.memoizedState;if(p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ot(Xt,Xt.current),d)break;return null;case 22:case 23:return a.lanes=0,l0(o,a,l)}return Mr(o,a,l)}function sr(o){o.flags|=4}function T0(o,a){if(o!==null&&o.child===a.child)return!0;if(a.flags&16)return!1;for(o=a.child;o!==null;){if(o.flags&12854||o.subtreeFlags&12854)return!1;o=o.sibling}return!0}var Oc,wc,nl,ol;if(Ne)Oc=function(o,a){for(var l=a.child;l!==null;){if(l.tag===5||l.tag===6)lt(o,l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},wc=function(){},nl=function(o,a,l,d,p){if(o=o.memoizedProps,o!==d){var m=a.stateNode,S=ir(go.current);l=tt(m,l,o,d,p,S),(a.updateQueue=l)&&sr(a)}},ol=function(o,a,l,d){l!==d&&sr(a)};else if(ft){Oc=function(o,a,l,d){for(var p=a.child;p!==null;){if(p.tag===5){var m=p.stateNode;l&&d&&(m=I(m,p.type,p.memoizedProps,p)),lt(o,m)}else if(p.tag===6)m=p.stateNode,l&&d&&(m=D(m,p.memoizedProps,p)),lt(o,m);else if(p.tag!==4){if(p.tag===22&&p.memoizedState!==null)m=p.child,m!==null&&(m.return=p),Oc(o,p,!0,!0);else if(p.child!==null){p.child.return=p,p=p.child;continue}}if(p===a)break;for(;p.sibling===null;){if(p.return===null||p.return===a)return;p=p.return}p.sibling.return=p.return,p=p.sibling}};var g0=function(o,a,l,d){for(var p=a.child;p!==null;){if(p.tag===5){var m=p.stateNode;l&&d&&(m=I(m,p.type,p.memoizedProps,p)),ve(o,m)}else if(p.tag===6)m=p.stateNode,l&&d&&(m=D(m,p.memoizedProps,p)),ve(o,m);else if(p.tag!==4){if(p.tag===22&&p.memoizedState!==null)m=p.child,m!==null&&(m.return=p),g0(o,p,!0,!0);else if(p.child!==null){p.child.return=p,p=p.child;continue}}if(p===a)break;for(;p.sibling===null;){if(p.return===null||p.return===a)return;p=p.return}p.sibling.return=p.return,p=p.sibling}};wc=function(o,a){var l=a.stateNode;if(!T0(o,a)){o=l.containerInfo;var d=Se(o);g0(d,a,!1,!1),l.pendingChildren=d,sr(a),De(o,d)}},nl=function(o,a,l,d,p){var m=o.stateNode,S=o.memoizedProps;if((o=T0(o,a))&&S===d)a.stateNode=m;else{var B=a.stateNode,Z=ir(go.current),Ee=null;S!==d&&(Ee=tt(B,l,S,d,p,Z)),o&&Ee===null?a.stateNode=m:(m=xe(m,Ee,l,S,d,a,o,B),vt(m,l,d,p,Z)&&sr(a),a.stateNode=m,o?sr(a):Oc(m,a,!1,!1))}},ol=function(o,a,l,d){l!==d?(o=ir(ja.current),l=ir(go.current),a.stateNode=J(d,o,l,a),sr(a)):a.stateNode=o.stateNode}}else wc=function(){},nl=function(){},ol=function(){};function Mc(o,a){if(!Gt)switch(o.tailMode){case"hidden":a=o.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function Mn(o){var a=o.alternate!==null&&o.alternate.child===o.child,l=0,d=0;if(a)for(var p=o.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=o,p=p.sibling;else for(p=o.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=o,p=p.sibling;return o.subtreeFlags|=d,o.childLanes=l,a}function U2(o,a,l){var d=a.pendingProps;switch(up(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(a),null;case 1:return Vt(a.type)&&fo(),Mn(a),null;case 3:return l=a.stateNode,Fa(),st(zt),st(Ct),xp(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(o===null||o.child===null)&&(Wu(a)?sr(a):o===null||o.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Do!==null&&(om(Do),Do=null))),wc(o,a),Mn(a),null;case 5:Sp(a),l=ir(ja.current);var p=a.type;if(o!==null&&a.stateNode!=null)nl(o,a,p,d,l),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!d){if(a.stateNode===null)throw Error(f(166));return Mn(a),null}if(o=ir(go.current),Wu(a)){if(!gn)throw Error(f(175));o=C(a.stateNode,a.type,a.memoizedProps,l,o,a,!bc),a.updateQueue=o,o!==null&&sr(a)}else{var m=at(p,d,l,o,a);Oc(m,a,!1,!1),a.stateNode=m,vt(m,p,d,l,o)&&sr(a)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Mn(a),null;case 6:if(o&&a.stateNode!=null)ol(o,a,o.memoizedProps,d);else{if(typeof d!="string"&&a.stateNode===null)throw Error(f(166));if(o=ir(ja.current),l=ir(go.current),Wu(a)){if(!gn)throw Error(f(176));if(o=a.stateNode,l=a.memoizedProps,(d=k(o,l,a,!bc))&&(p=oo,p!==null))switch(p.tag){case 3:Ge(p.stateNode.containerInfo,o,l,(p.mode&1)!==0);break;case 5:mt(p.type,p.memoizedProps,p.stateNode,o,l,(p.mode&1)!==0)}d&&sr(a)}else a.stateNode=J(d,o,l,a)}return Mn(a),null;case 13:if(st(Xt),d=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Gt&&Eo!==null&&a.mode&1&&!(a.flags&128))xy(),Ua(),a.flags|=98560,p=!1;else if(p=Wu(a),d!==null&&d.dehydrated!==null){if(o===null){if(!p)throw Error(f(318));if(!gn)throw Error(f(344));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(f(317));O(p,a)}else Ua(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Mn(a),p=!1}else Do!==null&&(om(Do),Do=null),p=!0;if(!p)return a.flags&65536?a:null}return a.flags&128?(a.lanes=l,a):(l=d!==null,l!==(o!==null&&o.memoizedState!==null)&&l&&(a.child.flags|=8192,a.mode&1&&(o===null||Xt.current&1?yn===0&&(yn=3):im())),a.updateQueue!==null&&(a.flags|=4),Mn(a),null);case 4:return Fa(),wc(o,a),o===null&&Qr(a.stateNode.containerInfo),Mn(a),null;case 10:return hp(a.type._context),Mn(a),null;case 17:return Vt(a.type)&&fo(),Mn(a),null;case 19:if(st(Xt),p=a.memoizedState,p===null)return Mn(a),null;if(d=(a.flags&128)!==0,m=p.rendering,m===null)if(d)Mc(p,!1);else{if(yn!==0||o!==null&&o.flags&128)for(o=a.child;o!==null;){if(m=Yu(o),m!==null){for(a.flags|=128,Mc(p,!1),o=m.updateQueue,o!==null&&(a.updateQueue=o,a.flags|=4),a.subtreeFlags=0,o=l,l=a.child;l!==null;)d=l,p=o,d.flags&=14680066,m=d.alternate,m===null?(d.childLanes=0,d.lanes=p,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=m.childLanes,d.lanes=m.lanes,d.child=m.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=m.memoizedProps,d.memoizedState=m.memoizedState,d.updateQueue=m.updateQueue,d.type=m.type,p=m.dependencies,d.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),l=l.sibling;return ot(Xt,Xt.current&1|2),a.child}o=o.sibling}p.tail!==null&&Sn()>Zp&&(a.flags|=128,d=!0,Mc(p,!1),a.lanes=4194304)}else{if(!d)if(o=Yu(m),o!==null){if(a.flags|=128,d=!0,o=o.updateQueue,o!==null&&(a.updateQueue=o,a.flags|=4),Mc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!m.alternate&&!Gt)return Mn(a),null}else 2*Sn()-p.renderingStartTime>Zp&&l!==1073741824&&(a.flags|=128,d=!0,Mc(p,!1),a.lanes=4194304);p.isBackwards?(m.sibling=a.child,a.child=m):(o=p.last,o!==null?o.sibling=m:a.child=m,p.last=m)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Sn(),a.sibling=null,o=Xt.current,ot(Xt,d?o&1|2:o&1),a):(Mn(a),null);case 22:case 23:return rm(),l=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==l&&(a.flags|=8192),l&&a.mode&1?ro&1073741824&&(Mn(a),Ne&&a.subtreeFlags&6&&(a.flags|=8192)):Mn(a),null;case 24:return null;case 25:return null}throw Error(f(156,a.tag))}function B2(o,a){switch(up(a),a.tag){case 1:return Vt(a.type)&&fo(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Fa(),st(zt),st(Ct),xp(),o=a.flags,o&65536&&!(o&128)?(a.flags=o&-65537|128,a):null;case 5:return Sp(a),null;case 13:if(st(Xt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(f(340));Ua()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return st(Xt),null;case 4:return Fa(),null;case 10:return hp(a.type._context),null;case 22:case 23:return rm(),null;case 24:return null;default:return null}}var rl=!1,Pn=!1,D2=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Ha(o,a){var l=o.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){qt(o,a,d)}else l.current=null}function jp(o,a,l){try{l()}catch(d){qt(o,a,d)}}var S0=!1;function W2(o,a){for(Je(o.containerInfo),ke=a;ke!==null;)if(o=ke,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,ke=a;else for(;ke!==null;){o=ke;try{var l=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(l!==null){var d=l.memoizedProps,p=l.memoizedState,m=o.stateNode,S=m.getSnapshotBeforeUpdate(o.elementType===o.type?d:Wo(o.type,d),p);m.__reactInternalSnapshotBeforeUpdate=S}break;case 3:Ne&&K(o.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(f(163))}}catch(B){qt(o,o.return,B)}if(a=o.sibling,a!==null){a.return=o.return,ke=a;break}ke=o.return}return l=S0,S0=!1,l}function Pc(o,a,l){var d=a.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&o)===o){var m=p.destroy;p.destroy=void 0,m!==void 0&&jp(a,l,m)}p=p.next}while(p!==d)}}function il(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&o)===o){var d=l.create;l.destroy=d()}l=l.next}while(l!==a)}}function Fp(o){var a=o.ref;if(a!==null){var l=o.stateNode;switch(o.tag){case 5:o=Te(l);break;default:o=l}typeof a=="function"?a(o):a.current=o}}function _0(o){var a=o.alternate;a!==null&&(o.alternate=null,_0(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&Xo(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function x0(o){return o.tag===5||o.tag===3||o.tag===4}function b0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||x0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Vp(o,a,l){var d=o.tag;if(d===5||d===6)o=o.stateNode,a?Fi(l,o,a):Wi(l,o);else if(d!==4&&(o=o.child,o!==null))for(Vp(o,a,l),o=o.sibling;o!==null;)Vp(o,a,l),o=o.sibling}function Hp(o,a,l){var d=o.tag;if(d===5||d===6)o=o.stateNode,a?Ar(l,o,a):ti(l,o);else if(d!==4&&(o=o.child,o!==null))for(Hp(o,a,l),o=o.sibling;o!==null;)Hp(o,a,l),o=o.sibling}var vn=null,jo=!1;function cr(o,a,l){for(l=l.child;l!==null;)Gp(o,a,l),l=l.sibling}function Gp(o,a,l){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Lu,l)}catch{}switch(l.tag){case 5:Pn||Ha(l,a);case 6:if(Ne){var d=vn,p=jo;vn=null,cr(o,a,l),vn=d,jo=p,vn!==null&&(jo?oi(vn,l.stateNode):Vi(vn,l.stateNode))}else cr(o,a,l);break;case 18:Ne&&vn!==null&&(jo?Ie(vn,l.stateNode):ge(vn,l.stateNode));break;case 4:Ne?(d=vn,p=jo,vn=l.stateNode.containerInfo,jo=!0,cr(o,a,l),vn=d,jo=p):(ft&&(d=l.stateNode.containerInfo,p=Se(d),Pt(d,p)),cr(o,a,l));break;case 0:case 11:case 14:case 15:if(!Pn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var m=p,S=m.destroy;m=m.tag,S!==void 0&&(m&2||m&4)&&jp(l,a,S),p=p.next}while(p!==d)}cr(o,a,l);break;case 1:if(!Pn&&(Ha(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(B){qt(l,a,B)}cr(o,a,l);break;case 21:cr(o,a,l);break;case 22:l.mode&1?(Pn=(d=Pn)||l.memoizedState!==null,cr(o,a,l),Pn=d):cr(o,a,l);break;default:cr(o,a,l)}}function A0(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var l=o.stateNode;l===null&&(l=o.stateNode=new D2),a.forEach(function(d){var p=K2.bind(null,o,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Fo(o,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var m=o,S=a;if(Ne){var B=S;e:for(;B!==null;){switch(B.tag){case 5:vn=B.stateNode,jo=!1;break e;case 3:vn=B.stateNode.containerInfo,jo=!0;break e;case 4:vn=B.stateNode.containerInfo,jo=!0;break e}B=B.return}if(vn===null)throw Error(f(160));Gp(m,S,p),vn=null,jo=!1}else Gp(m,S,p);var Z=p.alternate;Z!==null&&(Z.return=null),p.return=null}catch(Ee){qt(p,a,Ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)R0(a,o),a=a.sibling}function R0(o,a){var l=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Fo(a,o),ur(o),d&4){try{Pc(3,o,o.return),il(3,o)}catch(Re){qt(o,o.return,Re)}try{Pc(5,o,o.return)}catch(Re){qt(o,o.return,Re)}}break;case 1:Fo(a,o),ur(o),d&512&&l!==null&&Ha(l,l.return);break;case 5:if(Fo(a,o),ur(o),d&512&&l!==null&&Ha(l,l.return),Ne){if(o.flags&32){var p=o.stateNode;try{Rr(p)}catch(Re){qt(o,o.return,Re)}}if(d&4&&(p=o.stateNode,p!=null)){var m=o.memoizedProps;if(l=l!==null?l.memoizedProps:m,d=o.type,a=o.updateQueue,o.updateQueue=null,a!==null)try{ji(p,a,d,l,m,o)}catch(Re){qt(o,o.return,Re)}}}break;case 6:if(Fo(a,o),ur(o),d&4&&Ne){if(o.stateNode===null)throw Error(f(162));p=o.stateNode,m=o.memoizedProps,l=l!==null?l.memoizedProps:m;try{ni(p,l,m)}catch(Re){qt(o,o.return,Re)}}break;case 3:if(Fo(a,o),ur(o),d&4){if(Ne&&gn&&l!==null&&l.memoizedState.isDehydrated)try{le(a.containerInfo)}catch(Re){qt(o,o.return,Re)}if(ft){p=a.containerInfo,m=a.pendingChildren;try{Pt(p,m)}catch(Re){qt(o,o.return,Re)}}}break;case 4:if(Fo(a,o),ur(o),d&4&&ft){m=o.stateNode,p=m.containerInfo,m=m.pendingChildren;try{Pt(p,m)}catch(Re){qt(o,o.return,Re)}}break;case 13:Fo(a,o),ur(o),p=o.child,p.flags&8192&&(m=p.memoizedState!==null,p.stateNode.isHidden=m,!m||p.alternate!==null&&p.alternate.memoizedState!==null||(Xp=Sn())),d&4&&A0(o);break;case 22:var S=l!==null&&l.memoizedState!==null;if(o.mode&1?(Pn=(l=Pn)||S,Fo(a,o),Pn=l):Fo(a,o),ur(o),d&8192){if(l=o.memoizedState!==null,(o.stateNode.isHidden=l)&&!S&&o.mode&1)for(ke=o,d=o.child;d!==null;){for(a=ke=d;ke!==null;){S=ke;var B=S.child;switch(S.tag){case 0:case 11:case 14:case 15:Pc(4,S,S.return);break;case 1:Ha(S,S.return);var Z=S.stateNode;if(typeof Z.componentWillUnmount=="function"){var Ee=S,Oe=S.return;try{var Qe=Ee;Z.props=Qe.memoizedProps,Z.state=Qe.memoizedState,Z.componentWillUnmount()}catch(Re){qt(Ee,Oe,Re)}}break;case 5:Ha(S,S.return);break;case 22:if(S.memoizedState!==null){v0(a);continue}}B!==null?(B.return=S,ke=B):v0(a)}d=d.sibling}if(Ne){e:if(d=null,Ne)for(a=o;;){if(a.tag===5){if(d===null){d=a;try{p=a.stateNode,l?Hi(p):v(a.stateNode,a.memoizedProps)}catch(Re){qt(o,o.return,Re)}}}else if(a.tag===6){if(d===null)try{m=a.stateNode,l?Gi(m):L(m,a.memoizedProps)}catch(Re){qt(o,o.return,Re)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;d===a&&(d=null),a=a.return}d===a&&(d=null),a.sibling.return=a.return,a=a.sibling}}}break;case 19:Fo(a,o),ur(o),d&4&&A0(o);break;case 21:break;default:Fo(a,o),ur(o)}}function ur(o){var a=o.flags;if(a&2){try{if(Ne){e:{for(var l=o.return;l!==null;){if(x0(l)){var d=l;break e}l=l.return}throw Error(f(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Rr(p),d.flags&=-33);var m=b0(o);Hp(o,m,p);break;case 3:case 4:var S=d.stateNode.containerInfo,B=b0(o);Vp(o,B,S);break;default:throw Error(f(161))}}}catch(Z){qt(o,o.return,Z)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function j2(o,a,l){ke=o,C0(o,a,l)}function C0(o,a,l){for(var d=(o.mode&1)!==0;ke!==null;){var p=ke,m=p.child;if(p.tag===22&&d){var S=p.memoizedState!==null||rl;if(!S){var B=p.alternate,Z=B!==null&&B.memoizedState!==null||Pn;B=rl;var Ee=Pn;if(rl=S,(Pn=Z)&&!Ee)for(ke=p;ke!==null;)S=ke,Z=S.child,S.tag===22&&S.memoizedState!==null?k0(p):Z!==null?(Z.return=S,ke=Z):k0(p);for(;m!==null;)ke=m,C0(m,a,l),m=m.sibling;ke=p,rl=B,Pn=Ee}N0(o,a,l)}else p.subtreeFlags&8772&&m!==null?(m.return=p,ke=m):N0(o,a,l)}}function N0(o){for(;ke!==null;){var a=ke;if(a.flags&8772){var l=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Pn||il(5,a);break;case 1:var d=a.stateNode;if(a.flags&4&&!Pn)if(l===null)d.componentDidMount();else{var p=a.elementType===a.type?l.memoizedProps:Wo(a.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var m=a.updateQueue;m!==null&&Iy(a,m,d);break;case 3:var S=a.updateQueue;if(S!==null){if(l=null,a.child!==null)switch(a.child.tag){case 5:l=Te(a.child.stateNode);break;case 1:l=a.child.stateNode}Iy(a,S,l)}break;case 5:var B=a.stateNode;l===null&&a.flags&4&&Uo(B,a.type,a.memoizedProps,a);break;case 6:break;case 4:break;case 12:break;case 13:if(gn&&a.memoizedState===null){var Z=a.alternate;if(Z!==null){var Ee=Z.memoizedState;if(Ee!==null){var Oe=Ee.dehydrated;Oe!==null&&re(Oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(f(163))}Pn||a.flags&512&&Fp(a)}catch(Qe){qt(a,a.return,Qe)}}if(a===o){ke=null;break}if(l=a.sibling,l!==null){l.return=a.return,ke=l;break}ke=a.return}}function v0(o){for(;ke!==null;){var a=ke;if(a===o){ke=null;break}var l=a.sibling;if(l!==null){l.return=a.return,ke=l;break}ke=a.return}}function k0(o){for(;ke!==null;){var a=ke;try{switch(a.tag){case 0:case 11:case 15:var l=a.return;try{il(4,a)}catch(Z){qt(a,l,Z)}break;case 1:var d=a.stateNode;if(typeof d.componentDidMount=="function"){var p=a.return;try{d.componentDidMount()}catch(Z){qt(a,p,Z)}}var m=a.return;try{Fp(a)}catch(Z){qt(a,m,Z)}break;case 5:var S=a.return;try{Fp(a)}catch(Z){qt(a,S,Z)}}}catch(Z){qt(a,a.return,Z)}if(a===o){ke=null;break}var B=a.sibling;if(B!==null){B.return=a.return,ke=B;break}ke=a.return}}var al=0,sl=1,cl=2,ul=3,ll=4;if(typeof Symbol=="function"&&Symbol.for){var zc=Symbol.for;al=zc("selector.component"),sl=zc("selector.has_pseudo_class"),cl=zc("selector.role"),ul=zc("selector.test_id"),ll=zc("selector.text")}function qp(o){var a=Ui(o);if(a!=null){if(typeof a.memoizedProps["data-testname"]!="string")throw Error(f(364));return a}if(o=xr(o),o===null)throw Error(f(362));return o.stateNode.current}function Yp(o,a){switch(a.$$typeof){case al:if(o.type===a.value)return!0;break;case sl:e:{a=a.value,o=[o,0];for(var l=0;l<o.length;){var d=o[l++],p=o[l++],m=a[p];if(d.tag!==5||!Lo(d)){for(;m!=null&&Yp(d,m);)p++,m=a[p];if(p===a.length){a=!0;break e}else for(d=d.child;d!==null;)o.push(d,p),d=d.sibling}}a=!1}return a;case cl:if(o.tag===5&&ei(o.stateNode,a.value))return!0;break;case ll:if((o.tag===5||o.tag===6)&&(o=Zr(o),o!==null&&0<=o.indexOf(a.value)))return!0;break;case ul:if(o.tag===5&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===a.value.toLowerCase()))return!0;break;default:throw Error(f(365))}return!1}function Jp(o){switch(o.$$typeof){case al:return"<"+(se(o.value)||"Unknown")+">";case sl:return":has("+(Jp(o)||"")+")";case cl:return'[role="'+o.value+'"]';case ll:return'"'+o.value+'"';case ul:return'[data-testname="'+o.value+'"]';default:throw Error(f(365))}}function I0(o,a){var l=[];o=[o,0];for(var d=0;d<o.length;){var p=o[d++],m=o[d++],S=a[m];if(p.tag!==5||!Lo(p)){for(;S!=null&&Yp(p,S);)m++,S=a[m];if(m===a.length)l.push(p);else for(p=p.child;p!==null;)o.push(p,m),p=p.sibling}}return l}function Kp(o,a){if(!zo)throw Error(f(363));o=qp(o),o=I0(o,a),a=[],o=Array.from(o);for(var l=0;l<o.length;){var d=o[l++];if(d.tag===5)Lo(d)||a.push(d.stateNode);else for(d=d.child;d!==null;)o.push(d),d=d.sibling}return a}var F2=Math.ceil,fl=u.ReactCurrentDispatcher,$p=u.ReactCurrentOwner,sn=u.ReactCurrentBatchConfig,ct=0,xn=null,fn=null,kn=0,ro=0,Ga=rn(0),yn=0,Lc=null,ea=0,dl=0,Qp=0,Uc=null,Jn=null,Xp=0,Zp=1/0,Pr=null;function qa(){Zp=Sn()+500}var pl=!1,em=null,si=null,ml=!1,ci=null,hl=0,Bc=0,tm=null,yl=-1,El=0;function zn(){return ct&6?Sn():yl!==-1?yl:yl=Sn()}function ui(o){return o.mode&1?ct&2&&kn!==0?kn&-kn:A2.transition!==null?(El===0&&(El=Mu()),El):(o=dt,o!==0?o:Bi()):1}function _o(o,a,l,d){if(50<Bc)throw Bc=0,tm=null,Error(f(185));Ki(o,l,d),(!(ct&2)||o!==xn)&&(o===xn&&(!(ct&2)&&(dl|=l),yn===4&&li(o,kn)),Kn(o,d),l===1&&ct===0&&!(a.mode&1)&&(qa(),Uu&&or()))}function Kn(o,a){var l=o.callbackNode;wu(o,a);var d=Ji(o,o===xn?kn:0);if(d===0)l!==null&&zu(l),o.callbackNode=null,o.callbackPriority=0;else if(a=d&-d,o.callbackPriority!==a){if(l!=null&&zu(l),a===1)o.tag===0?b2(w0.bind(null,o)):Ey(w0.bind(null,o)),Zo?Xr(function(){!(ct&6)&&or()}):xc(ip,or),l=null;else{switch(Pu(d)){case 1:l=ip;break;case 4:l=g2;break;case 16:l=ap;break;case 536870912:l=S2;break;default:l=ap}l=j0(l,O0.bind(null,o))}o.callbackPriority=a,o.callbackNode=l}}function O0(o,a){if(yl=-1,El=0,ct&6)throw Error(f(327));var l=o.callbackNode;if(oa()&&o.callbackNode!==l)return null;var d=Ji(o,o===xn?kn:0);if(d===0)return null;if(d&30||d&o.expiredLanes||a)a=Tl(o,d);else{a=d;var p=ct;ct|=2;var m=z0();(xn!==o||kn!==a)&&(Pr=null,qa(),ta(o,a));do try{G2();break}catch(B){P0(o,B)}while(1);mp(),fl.current=m,ct=p,fn!==null?a=0:(xn=null,kn=0,a=yn)}if(a!==0){if(a===2&&(p=gc(o),p!==0&&(d=p,a=nm(o,p))),a===1)throw l=Lc,ta(o,0),li(o,d),Kn(o,Sn()),l;if(a===6)li(o,d);else{if(p=o.current.alternate,!(d&30)&&!V2(p)&&(a=Tl(o,d),a===2&&(m=gc(o),m!==0&&(d=m,a=nm(o,m))),a===1))throw l=Lc,ta(o,0),li(o,d),Kn(o,Sn()),l;switch(o.finishedWork=p,o.finishedLanes=d,a){case 0:case 1:throw Error(f(345));case 2:na(o,Jn,Pr);break;case 3:if(li(o,d),(d&130023424)===d&&(a=Xp+500-Sn(),10<a)){if(Ji(o,0)!==0)break;if(p=o.suspendedLanes,(p&d)!==d){zn(),o.pingedLanes|=o.suspendedLanes&p;break}o.timeoutHandle=ce(na.bind(null,o,Jn,Pr),a);break}na(o,Jn,Pr);break;case 4:if(li(o,d),(d&4194240)===d)break;for(a=o.eventTimes,p=-1;0<d;){var S=31-mn(d);m=1<<S,S=a[S],S>p&&(p=S),d&=~m}if(d=p,d=Sn()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*F2(d/1960))-d,10<d){o.timeoutHandle=ce(na.bind(null,o,Jn,Pr),d);break}na(o,Jn,Pr);break;case 5:na(o,Jn,Pr);break;default:throw Error(f(329))}}}return Kn(o,Sn()),o.callbackNode===l?O0.bind(null,o):null}function nm(o,a){var l=Uc;return o.current.memoizedState.isDehydrated&&(ta(o,a).flags|=256),o=Tl(o,a),o!==2&&(a=Jn,Jn=l,a!==null&&om(a)),o}function om(o){Jn===null?Jn=o:Jn.push.apply(Jn,o)}function V2(o){for(var a=o;;){if(a.flags&16384){var l=a.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],m=p.getSnapshot;p=p.value;try{if(!Bo(m(),p))return!1}catch{return!1}}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function li(o,a){for(a&=~Qp,a&=~dl,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var l=31-mn(a),d=1<<l;o[l]=-1,a&=~d}}function w0(o){if(ct&6)throw Error(f(327));oa();var a=Ji(o,0);if(!(a&1))return Kn(o,Sn()),null;var l=Tl(o,a);if(o.tag!==0&&l===2){var d=gc(o);d!==0&&(a=d,l=nm(o,d))}if(l===1)throw l=Lc,ta(o,0),li(o,a),Kn(o,Sn()),l;if(l===6)throw Error(f(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,na(o,Jn,Pr),Kn(o,Sn()),null}function M0(o){ci!==null&&ci.tag===0&&!(ct&6)&&oa();var a=ct;ct|=1;var l=sn.transition,d=dt;try{if(sn.transition=null,dt=1,o)return o()}finally{dt=d,sn.transition=l,ct=a,!(ct&6)&&or()}}function rm(){ro=Ga.current,st(Ga)}function ta(o,a){o.finishedWork=null,o.finishedLanes=0;var l=o.timeoutHandle;if(l!==j&&(o.timeoutHandle=j,_e(l)),fn!==null)for(l=fn.return;l!==null;){var d=l;switch(up(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&fo();break;case 3:Fa(),st(zt),st(Ct),xp();break;case 5:Sp(d);break;case 4:Fa();break;case 13:st(Xt);break;case 19:st(Xt);break;case 10:hp(d.type._context);break;case 22:case 23:rm()}l=l.return}if(xn=o,fn=o=fi(o.current,null),kn=ro=a,yn=0,Lc=null,Qp=dl=ea=0,Jn=Uc=null,Xi!==null){for(a=0;a<Xi.length;a++)if(l=Xi[a],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,m=l.pending;if(m!==null){var S=m.next;m.next=p,d.next=S}l.pending=d}Xi=null}return o}function P0(o,a){do{var l=fn;try{if(mp(),Ju.current=Xu,Ku){for(var d=Zt.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Ku=!1}if(Zi=0,_n=hn=Zt=null,Nc=!1,vc=0,$p.current=null,l===null||l.return===null){yn=1,Lc=a,fn=null;break}e:{var m=o,S=l.return,B=l,Z=a;if(a=kn,B.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Ee=Z,Oe=B,Qe=Oe.tag;if(!(Oe.mode&1)&&(Qe===0||Qe===11||Qe===15)){var Re=Oe.alternate;Re?(Oe.updateQueue=Re.updateQueue,Oe.memoizedState=Re.memoizedState,Oe.lanes=Re.lanes):(Oe.updateQueue=null,Oe.memoizedState=null)}var Wt=i0(S);if(Wt!==null){Wt.flags&=-257,a0(Wt,S,B,m,a),Wt.mode&1&&r0(m,Ee,a),a=Wt,Z=Ee;var Mt=a.updateQueue;if(Mt===null){var $n=new Set;$n.add(Z),a.updateQueue=$n}else Mt.add(Z);break e}else{if(!(a&1)){r0(m,Ee,a),im();break e}Z=Error(f(426))}}else if(Gt&&B.mode&1){var zr=i0(S);if(zr!==null){!(zr.flags&65536)&&(zr.flags|=256),a0(zr,S,B,m,a),dp(Va(Z,B));break e}}m=Z=Va(Z,B),yn!==4&&(yn=2),Uc===null?Uc=[m]:Uc.push(m),m=S;do{switch(m.tag){case 3:m.flags|=65536,a&=-a,m.lanes|=a;var Q=n0(m,Z,a);ky(m,Q);break e;case 1:B=Z;var V=m.type,ne=m.stateNode;if(!(m.flags&128)&&(typeof V.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(si===null||!si.has(ne)))){m.flags|=65536,a&=-a,m.lanes|=a;var Ce=o0(m,B,a);ky(m,Ce);break e}}m=m.return}while(m!==null)}U0(l)}catch(We){a=We,fn===l&&l!==null&&(fn=l=l.return);continue}break}while(1)}function z0(){var o=fl.current;return fl.current=Xu,o===null?Xu:o}function im(){(yn===0||yn===3||yn===2)&&(yn=4),xn===null||!(ea&268435455)&&!(dl&268435455)||li(xn,kn)}function Tl(o,a){var l=ct;ct|=2;var d=z0();(xn!==o||kn!==a)&&(Pr=null,ta(o,a));do try{H2();break}catch(p){P0(o,p)}while(1);if(mp(),ct=l,fl.current=d,fn!==null)throw Error(f(261));return xn=null,kn=0,yn}function H2(){for(;fn!==null;)L0(fn)}function G2(){for(;fn!==null&&!op();)L0(fn)}function L0(o){var a=W0(o.alternate,o,ro);o.memoizedProps=o.pendingProps,a===null?U0(o):fn=a,$p.current=null}function U0(o){var a=o;do{var l=a.alternate;if(o=a.return,a.flags&32768){if(l=B2(l,a),l!==null){l.flags&=32767,fn=l;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{yn=6,fn=null;return}}else if(l=U2(l,a,ro),l!==null){fn=l;return}if(a=a.sibling,a!==null){fn=a;return}fn=a=o}while(a!==null);yn===0&&(yn=5)}function na(o,a,l){var d=dt,p=sn.transition;try{sn.transition=null,dt=1,q2(o,a,l,d)}finally{sn.transition=p,dt=d}return null}function q2(o,a,l,d){do oa();while(ci!==null);if(ct&6)throw Error(f(327));l=o.finishedWork;var p=o.finishedLanes;if(l===null)return null;if(o.finishedWork=null,o.finishedLanes=0,l===o.current)throw Error(f(177));o.callbackNode=null,o.callbackPriority=0;var m=l.lanes|l.childLanes;if(np(o,m),o===xn&&(fn=xn=null,kn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||ml||(ml=!0,j0(ap,function(){return oa(),null})),m=(l.flags&15990)!==0,l.subtreeFlags&15990||m){m=sn.transition,sn.transition=null;var S=dt;dt=1;var B=ct;ct|=4,$p.current=null,W2(o,l),R0(l,o),$e(o.containerInfo),o.current=l,j2(l,o,p),rp(),ct=B,dt=S,sn.transition=m}else o.current=l;if(ml&&(ml=!1,ci=o,hl=p),m=o.pendingLanes,m===0&&(si=null),_2(l.stateNode,d),Kn(o,Sn()),a!==null)for(d=o.onRecoverableError,l=0;l<a.length;l++)p=a[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(pl)throw pl=!1,o=em,em=null,o;return hl&1&&o.tag!==0&&oa(),m=o.pendingLanes,m&1?o===tm?Bc++:(Bc=0,tm=o):Bc=0,or(),null}function oa(){if(ci!==null){var o=Pu(hl),a=sn.transition,l=dt;try{if(sn.transition=null,dt=16>o?16:o,ci===null)var d=!1;else{if(o=ci,ci=null,hl=0,ct&6)throw Error(f(331));var p=ct;for(ct|=4,ke=o.current;ke!==null;){var m=ke,S=m.child;if(ke.flags&16){var B=m.deletions;if(B!==null){for(var Z=0;Z<B.length;Z++){var Ee=B[Z];for(ke=Ee;ke!==null;){var Oe=ke;switch(Oe.tag){case 0:case 11:case 15:Pc(8,Oe,m)}var Qe=Oe.child;if(Qe!==null)Qe.return=Oe,ke=Qe;else for(;ke!==null;){Oe=ke;var Re=Oe.sibling,Wt=Oe.return;if(_0(Oe),Oe===Ee){ke=null;break}if(Re!==null){Re.return=Wt,ke=Re;break}ke=Wt}}}var Mt=m.alternate;if(Mt!==null){var $n=Mt.child;if($n!==null){Mt.child=null;do{var zr=$n.sibling;$n.sibling=null,$n=zr}while($n!==null)}}ke=m}}if(m.subtreeFlags&2064&&S!==null)S.return=m,ke=S;else e:for(;ke!==null;){if(m=ke,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Pc(9,m,m.return)}var Q=m.sibling;if(Q!==null){Q.return=m.return,ke=Q;break e}ke=m.return}}var V=o.current;for(ke=V;ke!==null;){S=ke;var ne=S.child;if(S.subtreeFlags&2064&&ne!==null)ne.return=S,ke=ne;else e:for(S=V;ke!==null;){if(B=ke,B.flags&2048)try{switch(B.tag){case 0:case 11:case 15:il(9,B)}}catch(We){qt(B,B.return,We)}if(B===S){ke=null;break e}var Ce=B.sibling;if(Ce!==null){Ce.return=B.return,ke=Ce;break e}ke=B.return}}if(ct=p,or(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Lu,o)}catch{}d=!0}return d}finally{dt=l,sn.transition=a}}return!1}function B0(o,a,l){a=Va(l,a),a=n0(o,a,1),o=ai(o,a,1),a=zn(),o!==null&&(Ki(o,1,a),Kn(o,a))}function qt(o,a,l){if(o.tag===3)B0(o,o,l);else for(;a!==null;){if(a.tag===3){B0(a,o,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(si===null||!si.has(d))){o=Va(l,o),o=o0(a,o,1),a=ai(a,o,1),o=zn(),a!==null&&(Ki(a,1,o),Kn(a,o));break}}a=a.return}}function Y2(o,a,l){var d=o.pingCache;d!==null&&d.delete(a),a=zn(),o.pingedLanes|=o.suspendedLanes&l,xn===o&&(kn&l)===l&&(yn===4||yn===3&&(kn&130023424)===kn&&500>Sn()-Xp?ta(o,0):Qp|=l),Kn(o,a)}function D0(o,a){a===0&&(o.mode&1?(a=Yi,Yi<<=1,!(Yi&130023424)&&(Yi=4194304)):a=1);var l=zn();o=rr(o,a),o!==null&&(Ki(o,a,l),Kn(o,l))}function J2(o){var a=o.memoizedState,l=0;a!==null&&(l=a.retryLane),D0(o,l)}function K2(o,a){var l=0;switch(o.tag){case 13:var d=o.stateNode,p=o.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=o.stateNode;break;default:throw Error(f(314))}d!==null&&d.delete(a),D0(o,l)}var W0;W0=function(o,a,l){if(o!==null)if(o.memoizedProps!==a.pendingProps||zt.current)Yn=!0;else{if(!(o.lanes&l)&&!(a.flags&128))return Yn=!1,L2(o,a,l);Yn=!!(o.flags&131072)}else Yn=!1,Gt&&a.flags&1048576&&Ty(a,Du,a.index);switch(a.lanes=0,a.tag){case 2:var d=a.type;tl(o,a),o=a.pendingProps;var p=On(a,Ct.current);Wa(a,l),p=Rp(null,a,d,o,p,l);var m=Cp();return a.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Vt(d)?(m=!0,po(a)):m=!1,a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Tp(a),p.updater=Zu,a.stateNode=p,p._reactInternals=a,wp(a,d,o,l),a=Lp(null,a,d,!0,m,l)):(a.tag=0,Gt&&m&&cp(a),Fn(null,a,p,l),a=a.child),a;case 16:d=a.elementType;e:{switch(tl(o,a),o=a.pendingProps,p=d._init,d=p(d._payload),a.type=d,p=a.tag=Q2(d),o=Wo(d,o),p){case 0:a=zp(null,a,d,o,l);break e;case 1:a=d0(null,a,d,o,l);break e;case 11:a=s0(null,a,d,o,l);break e;case 14:a=c0(null,a,d,Wo(d.type,o),l);break e}throw Error(f(306,d,""))}return a;case 0:return d=a.type,p=a.pendingProps,p=a.elementType===d?p:Wo(d,p),zp(o,a,d,p,l);case 1:return d=a.type,p=a.pendingProps,p=a.elementType===d?p:Wo(d,p),d0(o,a,d,p,l);case 3:e:{if(p0(a),o===null)throw Error(f(387));d=a.pendingProps,m=a.memoizedState,p=m.element,vy(o,a),qu(a,d,null,l);var S=a.memoizedState;if(d=S.element,gn&&m.isDehydrated)if(m={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){p=Va(Error(f(423)),a),a=m0(o,a,d,l,p);break e}else if(d!==p){p=Va(Error(f(424)),a),a=m0(o,a,d,l,p);break e}else for(gn&&(Eo=jt(a.stateNode.containerInfo),oo=a,Gt=!0,Do=null,bc=!1),l=Ry(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ua(),d===p){a=Mr(o,a,l);break e}Fn(o,a,d,l)}a=a.child}return a;case 5:return Oy(a),o===null&&fp(a),d=a.type,p=a.pendingProps,m=o!==null?o.memoizedProps:null,S=p.children,pn(d,p)?S=null:m!==null&&pn(d,m)&&(a.flags|=32),f0(o,a),Fn(o,a,S,l),a.child;case 6:return o===null&&fp(a),null;case 13:return h0(o,a,l);case 4:return gp(a,a.stateNode.containerInfo),d=a.pendingProps,o===null?a.child=Ba(a,null,d,l):Fn(o,a,d,l),a.child;case 11:return d=a.type,p=a.pendingProps,p=a.elementType===d?p:Wo(d,p),s0(o,a,d,p,l);case 7:return Fn(o,a,a.pendingProps,l),a.child;case 8:return Fn(o,a,a.pendingProps.children,l),a.child;case 12:return Fn(o,a,a.pendingProps.children,l),a.child;case 10:e:{if(d=a.type._context,p=a.pendingProps,m=a.memoizedProps,S=p.value,Cy(a,d,S),m!==null)if(Bo(m.value,S)){if(m.children===p.children&&!zt.current){a=Mr(o,a,l);break e}}else for(m=a.child,m!==null&&(m.return=a);m!==null;){var B=m.dependencies;if(B!==null){S=m.child;for(var Z=B.firstContext;Z!==null;){if(Z.context===d){if(m.tag===1){Z=wr(-1,l&-l),Z.tag=2;var Ee=m.updateQueue;if(Ee!==null){Ee=Ee.shared;var Oe=Ee.pending;Oe===null?Z.next=Z:(Z.next=Oe.next,Oe.next=Z),Ee.pending=Z}}m.lanes|=l,Z=m.alternate,Z!==null&&(Z.lanes|=l),yp(m.return,l,a),B.lanes|=l;break}Z=Z.next}}else if(m.tag===10)S=m.type===a.type?null:m.child;else if(m.tag===18){if(S=m.return,S===null)throw Error(f(341));S.lanes|=l,B=S.alternate,B!==null&&(B.lanes|=l),yp(S,l,a),S=m.sibling}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===a){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}Fn(o,a,p.children,l),a=a.child}return a;case 9:return p=a.type,d=a.pendingProps.children,Wa(a,l),p=To(p),d=d(p),a.flags|=1,Fn(o,a,d,l),a.child;case 14:return d=a.type,p=Wo(d,a.pendingProps),p=Wo(d.type,p),c0(o,a,d,p,l);case 15:return u0(o,a,a.type,a.pendingProps,l);case 17:return d=a.type,p=a.pendingProps,p=a.elementType===d?p:Wo(d,p),tl(o,a),a.tag=1,Vt(d)?(o=!0,po(a)):o=!1,Wa(a,l),e0(a,d,p),wp(a,d,p,l),Lp(null,a,d,!0,o,l);case 19:return E0(o,a,l);case 22:return l0(o,a,l)}throw Error(f(156,a.tag))};function j0(o,a){return xc(o,a)}function $2(o,a,l,d){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xo(o,a,l,d){return new $2(o,a,l,d)}function am(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Q2(o){if(typeof o=="function")return am(o)?1:0;if(o!=null){if(o=o.$$typeof,o===g)return 11;if(o===M)return 14}return 2}function fi(o,a){var l=o.alternate;return l===null?(l=xo(o.tag,a,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=a,l.type=o.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=o.flags&14680064,l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,a=o.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l}function gl(o,a,l,d,p,m){var S=2;if(d=o,typeof o=="function")am(o)&&(S=1);else if(typeof o=="string")S=5;else e:switch(o){case y:return ra(l.children,p,m,a);case w:S=8,p|=8;break;case x:return o=xo(12,l,a,p|2),o.elementType=x,o.lanes=m,o;case _:return o=xo(13,l,a,p),o.elementType=_,o.lanes=m,o;case b:return o=xo(19,l,a,p),o.elementType=b,o.lanes=m,o;case ue:return Sl(l,p,m,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:S=10;break e;case A:S=9;break e;case g:S=11;break e;case M:S=14;break e;case q:S=16,d=null;break e}throw Error(f(130,o==null?o:typeof o,""))}return a=xo(S,l,a,p),a.elementType=o,a.type=d,a.lanes=m,a}function ra(o,a,l,d){return o=xo(7,o,d,a),o.lanes=l,o}function Sl(o,a,l,d){return o=xo(22,o,d,a),o.elementType=ue,o.lanes=l,o.stateNode={isHidden:!1},o}function sm(o,a,l){return o=xo(6,o,null,a),o.lanes=l,o}function cm(o,a,l){return a=xo(4,o.children!==null?o.children:[],o.key,a),a.lanes=l,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function X2(o,a,l,d,p){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=j,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sc(0),this.expirationTimes=Sc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sc(0),this.identifierPrefix=d,this.onRecoverableError=p,gn&&(this.mutableSourceEagerHydrationData=null)}function F0(o,a,l,d,p,m,S,B,Z){return o=new X2(o,a,l,B,Z),a===1?(a=1,m===!0&&(a|=8)):a=0,m=xo(3,null,null,a),o.current=m,m.stateNode=o,m.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tp(m),o}function V0(o){if(!o)return an;o=o._reactInternals;e:{if(H(o)!==o||o.tag!==1)throw Error(f(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Vt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(f(171))}if(o.tag===1){var l=o.type;if(Vt(l))return Ht(o,l,a)}return a}function H0(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(f(188)):(o=Object.keys(o).join(","),Error(f(268,o)));return o=R(a),o===null?null:o.stateNode}function G0(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<a?l:a}}function _l(o,a){G0(o,a),(o=o.alternate)&&G0(o,a)}function Z2(o){return o=R(o),o===null?null:o.stateNode}function ex(){return null}return s.attemptContinuousHydration=function(o){if(o.tag===13){var a=rr(o,134217728);if(a!==null){var l=zn();_o(a,o,134217728,l)}_l(o,134217728)}},s.attemptDiscreteHydration=function(o){if(o.tag===13){var a=rr(o,1);if(a!==null){var l=zn();_o(a,o,1,l)}_l(o,1)}},s.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var a=ui(o),l=rr(o,a);if(l!==null){var d=zn();_o(l,o,a,d)}_l(o,a)}},s.attemptSynchronousHydration=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var l=ri(a.pendingLanes);l!==0&&(_c(a,l|1),Kn(a,Sn()),!(ct&6)&&(qa(),or()))}break;case 13:M0(function(){var d=rr(o,1);if(d!==null){var p=zn();_o(d,o,1,p)}}),_l(o,1)}},s.batchedUpdates=function(o,a){var l=ct;ct|=1;try{return o(a)}finally{ct=l,ct===0&&(qa(),Uu&&or())}},s.createComponentSelector=function(o){return{$$typeof:al,value:o}},s.createContainer=function(o,a,l,d,p,m,S){return F0(o,a,!1,null,l,d,p,m,S)},s.createHasPseudoClassSelector=function(o){return{$$typeof:sl,value:o}},s.createHydrationContainer=function(o,a,l,d,p,m,S,B,Z){return o=F0(l,d,!0,o,p,m,S,B,Z),o.context=V0(null),l=o.current,d=zn(),p=ui(l),m=wr(d,p),m.callback=a??null,ai(l,m,p),o.current.lanes=p,Ki(o,p,d),Kn(o,d),o},s.createPortal=function(o,a,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:d==null?null:""+d,children:o,containerInfo:a,implementation:l}},s.createRoleSelector=function(o){return{$$typeof:cl,value:o}},s.createTestNameSelector=function(o){return{$$typeof:ul,value:o}},s.createTextSelector=function(o){return{$$typeof:ll,value:o}},s.deferredUpdates=function(o){var a=dt,l=sn.transition;try{return sn.transition=null,dt=16,o()}finally{dt=a,sn.transition=l}},s.discreteUpdates=function(o,a,l,d,p){var m=dt,S=sn.transition;try{return sn.transition=null,dt=1,o(a,l,d,p)}finally{dt=m,sn.transition=S,ct===0&&qa()}},s.findAllNodes=Kp,s.findBoundingRects=function(o,a){if(!zo)throw Error(f(363));a=Kp(o,a),o=[];for(var l=0;l<a.length;l++)o.push(Ot(a[l]));for(a=o.length-1;0<a;a--){l=o[a];for(var d=l.x,p=d+l.width,m=l.y,S=m+l.height,B=a-1;0<=B;B--)if(a!==B){var Z=o[B],Ee=Z.x,Oe=Ee+Z.width,Qe=Z.y,Re=Qe+Z.height;if(d>=Ee&&m>=Qe&&p<=Oe&&S<=Re){o.splice(a,1);break}else if(d!==Ee||l.width!==Z.width||Re<m||Qe>S){if(!(m!==Qe||l.height!==Z.height||Oe<d||Ee>p)){Ee>d&&(Z.width+=Ee-d,Z.x=d),Oe<p&&(Z.width=p-Ee),o.splice(a,1);break}}else{Qe>m&&(Z.height+=Qe-m,Z.y=m),Re<S&&(Z.height=S-Qe),o.splice(a,1);break}}}return o},s.findHostInstance=H0,s.findHostInstanceWithNoPortals=function(o){return o=z(o),o=o!==null?$(o):null,o===null?null:o.stateNode},s.findHostInstanceWithWarning=function(o){return H0(o)},s.flushControlled=function(o){var a=ct;ct|=1;var l=sn.transition,d=dt;try{sn.transition=null,dt=1,o()}finally{dt=d,sn.transition=l,ct=a,ct===0&&(qa(),or())}},s.flushPassiveEffects=oa,s.flushSync=M0,s.focusWithin=function(o,a){if(!zo)throw Error(f(363));for(o=qp(o),a=I0(o,a),a=Array.from(a),o=0;o<a.length;){var l=a[o++];if(!Lo(l)){if(l.tag===5&&Di(l.stateNode))return!0;for(l=l.child;l!==null;)a.push(l),l=l.sibling}}return!1},s.getCurrentUpdatePriority=function(){return dt},s.getFindAllNodesFailureDescription=function(o,a){if(!zo)throw Error(f(363));var l=0,d=[];o=[qp(o),0];for(var p=0;p<o.length;){var m=o[p++],S=o[p++],B=a[S];if((m.tag!==5||!Lo(m))&&(Yp(m,B)&&(d.push(Jp(B)),S++,S>l&&(l=S)),S<a.length))for(m=m.child;m!==null;)o.push(m,S),m=m.sibling}if(l<a.length){for(o=[];l<a.length;l++)o.push(Jp(a[l]));return`findAllNodes was able to match part of the selector:
  `+(d.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},s.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return Te(o.child.stateNode);default:return o.child.stateNode}},s.injectIntoDevTools=function(o){if(o={bundleType:o.bundleType,version:o.version,rendererPackageName:o.rendererPackageName,rendererConfig:o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:Z2,findFiberByHostInstance:o.findFiberByHostInstance||ex,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled||!a.supportsFiber)o=!0;else{try{Lu=a.inject(o),nr=a}catch{}o=!!a.checkDCE}}return o},s.isAlreadyRendering=function(){return!1},s.observeVisibleRects=function(o,a,l,d){if(!zo)throw Error(f(363));o=Kp(o,a);var p=br(o,l,d).disconnect;return{disconnect:function(){p()}}},s.registerMutableSourceForHydration=function(o,a){var l=a._getVersion;l=l(a._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[a,l]:o.mutableSourceEagerHydrationData.push(a,l)},s.runWithPriority=function(o,a){var l=dt;try{return dt=o,a()}finally{dt=l}},s.shouldError=function(){return null},s.shouldSuspend=function(){return!1},s.updateContainer=function(o,a,l,d){var p=a.current,m=zn(),S=ui(p);return l=V0(l),a.context===null?a.context=l:a.pendingContext=l,a=wr(m,S),a.payload={element:o},d=d===void 0?null:d,d!==null&&(a.callback=d),o=ai(p,a,S),o!==null&&(_o(o,p,S,m),Gu(o,p,S)),S},s}});var OS=Yt((cB,IS)=>{"use strict";IS.exports=kS()});var JR={};sx(JR,{addScreen:()=>nS,addUmbrella:()=>ph,main:()=>xd,onStart:()=>YR,onUpdate:()=>qR,rendererTransport:()=>tp});module.exports=cx(JR);var sa=we(ze());function Tx(){return{states:[]}}var Ja;(function(e){function n(t,i=sa.default.Writer.create()){for(let r of t.states)vl.encode(r,i.uint32(10).fork()).ldelim();return i}e.encode=n;function s(t,i){let r=t instanceof sa.default.Reader?t:sa.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Tx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.states.push(vl.decode(r,r.uint32()));continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ja||(Ja={}));function gx(){return{clip:"",playing:void 0,weight:void 0,speed:void 0,loop:void 0,shouldReset:void 0}}var vl;(function(e){function n(t,i=sa.default.Writer.create()){return t.clip!==""&&i.uint32(18).string(t.clip),t.playing!==void 0&&i.uint32(24).bool(t.playing),t.weight!==void 0&&i.uint32(37).float(t.weight),t.speed!==void 0&&i.uint32(45).float(t.speed),t.loop!==void 0&&i.uint32(48).bool(t.loop),t.shouldReset!==void 0&&i.uint32(56).bool(t.shouldReset),i}e.encode=n;function s(t,i){let r=t instanceof sa.default.Reader?t:sa.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=gx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 2:if(c!==18)break;u.clip=r.string();continue;case 3:if(c!==24)break;u.playing=r.bool();continue;case 4:if(c!==37)break;u.weight=r.float();continue;case 5:if(c!==45)break;u.speed=r.float();continue;case 6:if(c!==48)break;u.loop=r.bool();continue;case 7:if(c!==56)break;u.shouldReset=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(vl||(vl={}));var FE={COMPONENT_ID:1042,serialize(e,n){let s=Ja.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Ja.decode(e.buffer(),e.remainingBytes())},create(){return Ja.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAnimator"}};var kl=we(ze());function Sx(){return{state:0,timestamp:0}}var Ka;(function(e){function n(t,i=kl.default.Writer.create()){return t.state!==0&&i.uint32(8).int32(t.state),t.timestamp!==0&&i.uint32(16).uint32(t.timestamp),i}e.encode=n;function s(t,i){let r=t instanceof kl.default.Reader?t:kl.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Sx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.state=r.int32();continue;case 2:if(c!==16)break;u.timestamp=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ka||(Ka={}));var VE={COMPONENT_ID:1105,serialize(e,n){let s=Ka.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Ka.decode(e.buffer(),e.remainingBytes())},create(){return Ka.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioEvent"}};var Il=we(ze());function _x(){return{playing:void 0,volume:void 0,loop:void 0,pitch:void 0,audioClipUrl:"",currentTime:void 0,global:void 0}}var $a;(function(e){function n(t,i=Il.default.Writer.create()){return t.playing!==void 0&&i.uint32(8).bool(t.playing),t.volume!==void 0&&i.uint32(21).float(t.volume),t.loop!==void 0&&i.uint32(24).bool(t.loop),t.pitch!==void 0&&i.uint32(37).float(t.pitch),t.audioClipUrl!==""&&i.uint32(42).string(t.audioClipUrl),t.currentTime!==void 0&&i.uint32(53).float(t.currentTime),t.global!==void 0&&i.uint32(56).bool(t.global),i}e.encode=n;function s(t,i){let r=t instanceof Il.default.Reader?t:Il.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=_x();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.playing=r.bool();continue;case 2:if(c!==21)break;u.volume=r.float();continue;case 3:if(c!==24)break;u.loop=r.bool();continue;case 4:if(c!==37)break;u.pitch=r.float();continue;case 5:if(c!==42)break;u.audioClipUrl=r.string();continue;case 6:if(c!==53)break;u.currentTime=r.float();continue;case 7:if(c!==56)break;u.global=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})($a||($a={}));var HE={COMPONENT_ID:1020,serialize(e,n){let s=$a.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return $a.decode(e.buffer(),e.remainingBytes())},create(){return $a.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioSource"}};var Ol=we(ze());function xx(){return{playing:void 0,volume:void 0,url:""}}var Qa;(function(e){function n(t,i=Ol.default.Writer.create()){return t.playing!==void 0&&i.uint32(8).bool(t.playing),t.volume!==void 0&&i.uint32(21).float(t.volume),t.url!==""&&i.uint32(26).string(t.url),i}e.encode=n;function s(t,i){let r=t instanceof Ol.default.Reader?t:Ol.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=xx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.playing=r.bool();continue;case 2:if(c!==21)break;u.volume=r.float();continue;case 3:if(c!==26)break;u.url=r.string();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Qa||(Qa={}));var GE={COMPONENT_ID:1021,serialize(e,n){let s=Qa.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Qa.decode(e.buffer(),e.remainingBytes())},create(){return Qa.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioStream"}};var wl=we(ze());var Ml;(function(e){e[e.AAPT_POSITION=0]="AAPT_POSITION",e[e.AAPT_NAME_TAG=1]="AAPT_NAME_TAG",e[e.AAPT_HEAD=4]="AAPT_HEAD",e[e.AAPT_NECK=5]="AAPT_NECK",e[e.AAPT_SPINE=6]="AAPT_SPINE",e[e.AAPT_SPINE1=7]="AAPT_SPINE1",e[e.AAPT_SPINE2=8]="AAPT_SPINE2",e[e.AAPT_HIP=9]="AAPT_HIP",e[e.AAPT_LEFT_SHOULDER=10]="AAPT_LEFT_SHOULDER",e[e.AAPT_LEFT_ARM=11]="AAPT_LEFT_ARM",e[e.AAPT_LEFT_FOREARM=12]="AAPT_LEFT_FOREARM",e[e.AAPT_LEFT_HAND=2]="AAPT_LEFT_HAND",e[e.AAPT_LEFT_HAND_INDEX=13]="AAPT_LEFT_HAND_INDEX",e[e.AAPT_RIGHT_SHOULDER=14]="AAPT_RIGHT_SHOULDER",e[e.AAPT_RIGHT_ARM=15]="AAPT_RIGHT_ARM",e[e.AAPT_RIGHT_FOREARM=16]="AAPT_RIGHT_FOREARM",e[e.AAPT_RIGHT_HAND=3]="AAPT_RIGHT_HAND",e[e.AAPT_RIGHT_HAND_INDEX=17]="AAPT_RIGHT_HAND_INDEX",e[e.AAPT_LEFT_UP_LEG=18]="AAPT_LEFT_UP_LEG",e[e.AAPT_LEFT_LEG=19]="AAPT_LEFT_LEG",e[e.AAPT_LEFT_FOOT=20]="AAPT_LEFT_FOOT",e[e.AAPT_LEFT_TOE_BASE=21]="AAPT_LEFT_TOE_BASE",e[e.AAPT_RIGHT_UP_LEG=22]="AAPT_RIGHT_UP_LEG",e[e.AAPT_RIGHT_LEG=23]="AAPT_RIGHT_LEG",e[e.AAPT_RIGHT_FOOT=24]="AAPT_RIGHT_FOOT",e[e.AAPT_RIGHT_TOE_BASE=25]="AAPT_RIGHT_TOE_BASE"})(Ml||(Ml={}));function bx(){return{avatarId:void 0,anchorPointId:0}}var Xa;(function(e){function n(t,i=wl.default.Writer.create()){return t.avatarId!==void 0&&i.uint32(10).string(t.avatarId),t.anchorPointId!==0&&i.uint32(16).int32(t.anchorPointId),i}e.encode=n;function s(t,i){let r=t instanceof wl.default.Reader?t:wl.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=bx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.avatarId=r.string();continue;case 2:if(c!==16)break;u.anchorPointId=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Xa||(Xa={}));var qE={COMPONENT_ID:1073,serialize(e,n){let s=Xa.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Xa.decode(e.buffer(),e.remainingBytes())},create(){return Xa.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarAttach"}};var Pl=we(ze());var ca=we(ze());function Ax(){return{r:0,g:0,b:0}}var _t;(function(e){function n(t,i=ca.default.Writer.create()){return t.r!==0&&i.uint32(13).float(t.r),t.g!==0&&i.uint32(21).float(t.g),t.b!==0&&i.uint32(29).float(t.b),i}e.encode=n;function s(t,i){let r=t instanceof ca.default.Reader?t:ca.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Ax();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;u.r=r.float();continue;case 2:if(c!==21)break;u.g=r.float();continue;case 3:if(c!==29)break;u.b=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(_t||(_t={}));function Rx(){return{r:0,g:0,b:0,a:0}}var yt;(function(e){function n(t,i=ca.default.Writer.create()){return t.r!==0&&i.uint32(13).float(t.r),t.g!==0&&i.uint32(21).float(t.g),t.b!==0&&i.uint32(29).float(t.b),t.a!==0&&i.uint32(37).float(t.a),i}e.encode=n;function s(t,i){let r=t instanceof ca.default.Reader?t:ca.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Rx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;u.r=r.float();continue;case 2:if(c!==21)break;u.g=r.float();continue;case 3:if(c!==29)break;u.b=r.float();continue;case 4:if(c!==37)break;u.a=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(yt||(yt={}));function Cx(){return{skinColor:void 0,eyesColor:void 0,hairColor:void 0,bodyShapeUrn:"",name:""}}var Za;(function(e){function n(t,i=Pl.default.Writer.create()){return t.skinColor!==void 0&&_t.encode(t.skinColor,i.uint32(10).fork()).ldelim(),t.eyesColor!==void 0&&_t.encode(t.eyesColor,i.uint32(18).fork()).ldelim(),t.hairColor!==void 0&&_t.encode(t.hairColor,i.uint32(26).fork()).ldelim(),t.bodyShapeUrn!==""&&i.uint32(34).string(t.bodyShapeUrn),t.name!==""&&i.uint32(42).string(t.name),i}e.encode=n;function s(t,i){let r=t instanceof Pl.default.Reader?t:Pl.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Cx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.skinColor=_t.decode(r,r.uint32());continue;case 2:if(c!==18)break;u.eyesColor=_t.decode(r,r.uint32());continue;case 3:if(c!==26)break;u.hairColor=_t.decode(r,r.uint32());continue;case 4:if(c!==34)break;u.bodyShapeUrn=r.string();continue;case 5:if(c!==42)break;u.name=r.string();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Za||(Za={}));var YE={COMPONENT_ID:1087,serialize(e,n){let s=Za.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Za.decode(e.buffer(),e.remainingBytes())},create(){return Za.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarBase"}};var zl=we(ze());function Nx(){return{emoteUrn:"",loop:!1,timestamp:0}}var es;(function(e){function n(t,i=zl.default.Writer.create()){return t.emoteUrn!==""&&i.uint32(10).string(t.emoteUrn),t.loop===!0&&i.uint32(16).bool(t.loop),t.timestamp!==0&&i.uint32(24).uint32(t.timestamp),i}e.encode=n;function s(t,i){let r=t instanceof zl.default.Reader?t:zl.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Nx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.emoteUrn=r.string();continue;case 2:if(c!==16)break;u.loop=r.bool();continue;case 3:if(c!==24)break;u.timestamp=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(es||(es={}));var JE={COMPONENT_ID:1088,serialize(e,n){let s=es.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return es.decode(e.buffer(),e.remainingBytes())},create(){return es.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEmoteCommand"}};var Ll=we(ze());function vx(){return{wearableUrns:[],emoteUrns:[]}}var ts;(function(e){function n(t,i=Ll.default.Writer.create()){for(let r of t.wearableUrns)i.uint32(10).string(r);for(let r of t.emoteUrns)i.uint32(18).string(r);return i}e.encode=n;function s(t,i){let r=t instanceof Ll.default.Reader?t:Ll.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=vx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.wearableUrns.push(r.string());continue;case 2:if(c!==18)break;u.emoteUrns.push(r.string());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(ts||(ts={}));var KE={COMPONENT_ID:1091,serialize(e,n){let s=ts.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return ts.decode(e.buffer(),e.remainingBytes())},create(){return ts.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarEquippedData"}};var Ul=we(ze());var io=we(ze());function kx(){return{x:0,y:0,z:0}}var $E;(function(e){function n(t,i=io.default.Writer.create()){return t.x!==0&&i.uint32(13).float(t.x),t.y!==0&&i.uint32(21).float(t.y),t.z!==0&&i.uint32(29).float(t.z),i}e.encode=n;function s(t,i){let r=t instanceof io.default.Reader?t:io.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=kx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;u.x=r.float();continue;case 2:if(c!==21)break;u.y=r.float();continue;case 3:if(c!==29)break;u.z=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})($E||($E={}));function Ix(){return{x:0,y:0,z:0}}var Ze;(function(e){function n(t,i=io.default.Writer.create()){return t.x!==0&&i.uint32(13).float(t.x),t.y!==0&&i.uint32(21).float(t.y),t.z!==0&&i.uint32(29).float(t.z),i}e.encode=n;function s(t,i){let r=t instanceof io.default.Reader?t:io.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Ix();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;u.x=r.float();continue;case 2:if(c!==21)break;u.y=r.float();continue;case 3:if(c!==29)break;u.z=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ze||(Ze={}));function Ox(){return{x:0,y:0}}var In;(function(e){function n(t,i=io.default.Writer.create()){return t.x!==0&&i.uint32(13).float(t.x),t.y!==0&&i.uint32(21).float(t.y),i}e.encode=n;function s(t,i){let r=t instanceof io.default.Reader?t:io.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Ox();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;u.x=r.float();continue;case 2:if(c!==21)break;u.y=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(In||(In={}));function wx(){return{x:0,y:0,z:0,w:0}}var ua;(function(e){function n(t,i=io.default.Writer.create()){return t.x!==0&&i.uint32(13).float(t.x),t.y!==0&&i.uint32(21).float(t.y),t.z!==0&&i.uint32(29).float(t.z),t.w!==0&&i.uint32(37).float(t.w),i}e.encode=n;function s(t,i){let r=t instanceof io.default.Reader?t:io.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=wx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;u.x=r.float();continue;case 2:if(c!==21)break;u.y=r.float();continue;case 3:if(c!==29)break;u.z=r.float();continue;case 4:if(c!==37)break;u.w=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(ua||(ua={}));var QE;(function(e){e[e.AMT_HIDE_AVATARS=0]="AMT_HIDE_AVATARS",e[e.AMT_DISABLE_PASSPORTS=1]="AMT_DISABLE_PASSPORTS"})(QE||(QE={}));function Mx(){return{area:void 0,excludeIds:[],modifiers:[]}}var ns;(function(e){function n(t,i=Ul.default.Writer.create()){t.area!==void 0&&Ze.encode(t.area,i.uint32(10).fork()).ldelim();for(let r of t.excludeIds)i.uint32(18).string(r);i.uint32(26).fork();for(let r of t.modifiers)i.int32(r);return i.ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof Ul.default.Reader?t:Ul.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Mx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.area=Ze.decode(r,r.uint32());continue;case 2:if(c!==18)break;u.excludeIds.push(r.string());continue;case 3:if(c===24){u.modifiers.push(r.int32());continue}if(c===26){let h=r.uint32()+r.pos;for(;r.pos<h;)u.modifiers.push(r.int32());continue}break}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(ns||(ns={}));var XE={COMPONENT_ID:1070,serialize(e,n){let s=ns.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return ns.decode(e.buffer(),e.remainingBytes())},create(){return ns.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarModifierArea"}};var Ao=null;try{Ao=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Nt(e,n,s){this.low=e|0,this.high=n|0,this.unsigned=!!s}Nt.prototype.__isLong__;Object.defineProperty(Nt.prototype,"__isLong__",{value:!0});function Ln(e){return(e&&e.__isLong__)===!0}function ZE(e){var n=Math.clz32(e&-e);return e?31-n:n}Nt.isLong=Ln;var eT={},tT={};function la(e,n){var s,t,i;return n?(e>>>=0,(i=0<=e&&e<256)&&(t=tT[e],t)?t:(s=Et(e,0,!0),i&&(tT[e]=s),s)):(e|=0,(i=-128<=e&&e<128)&&(t=eT[e],t)?t:(s=Et(e,e<0?-1:0,!1),i&&(eT[e]=s),s))}Nt.fromInt=la;function Ro(e,n){if(isNaN(e))return n?Lr:Go;if(n){if(e<0)return Lr;if(e>=iT)return cT}else{if(e<=-oT)return Xn;if(e+1>=oT)return sT}return e<0?Ro(-e,n).neg():Et(e%rs|0,e/rs|0,n)}Nt.fromNumber=Ro;function Et(e,n,s){return new Nt(e,n,s)}Nt.fromBits=Et;var Bl=Math.pow;function bm(e,n,s){if(e.length===0)throw Error("empty string");if(typeof n=="number"?(s=n,n=!1):n=!!n,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return n?Lr:Go;if(s=s||10,s<2||36<s)throw RangeError("radix");var t;if((t=e.indexOf("-"))>0)throw Error("interior hyphen");if(t===0)return bm(e.substring(1),n,s).neg();for(var i=Ro(Bl(s,8)),r=Go,f=0;f<e.length;f+=8){var u=Math.min(8,e.length-f),c=parseInt(e.substring(f,f+u),s);if(u<8){var h=Ro(Bl(s,u));r=r.mul(h).add(Ro(c))}else r=r.mul(i),r=r.add(Ro(c))}return r.unsigned=n,r}Nt.fromString=bm;function Co(e,n){return typeof e=="number"?Ro(e,n):typeof e=="string"?bm(e,n):Et(e.low,e.high,typeof n=="boolean"?n:e.unsigned)}Nt.fromValue=Co;var nT=65536,Px=1<<24,rs=nT*nT,iT=rs*rs,oT=iT/2,rT=la(Px),Go=la(0);Nt.ZERO=Go;var Lr=la(0,!0);Nt.UZERO=Lr;var os=la(1);Nt.ONE=os;var aT=la(1,!0);Nt.UONE=aT;var xm=la(-1);Nt.NEG_ONE=xm;var sT=Et(-1,2147483647,!1);Nt.MAX_VALUE=sT;var cT=Et(-1,-1,!0);Nt.MAX_UNSIGNED_VALUE=cT;var Xn=Et(0,-2147483648,!1);Nt.MIN_VALUE=Xn;var me=Nt.prototype;me.toInt=function(){return this.unsigned?this.low>>>0:this.low};me.toNumber=function(){return this.unsigned?(this.high>>>0)*rs+(this.low>>>0):this.high*rs+(this.low>>>0)};me.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Xn)){var s=Ro(n),t=this.div(s),i=t.mul(s).sub(this);return t.toString(n)+i.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var r=Ro(Bl(n,6),this.unsigned),f=this,u="";;){var c=f.div(r),h=f.sub(c.mul(r)).toInt()>>>0,y=h.toString(n);if(f=c,f.isZero())return y+u;for(;y.length<6;)y="0"+y;u=""+y+u}};me.getHighBits=function(){return this.high};me.getHighBitsUnsigned=function(){return this.high>>>0};me.getLowBits=function(){return this.low};me.getLowBitsUnsigned=function(){return this.low>>>0};me.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Xn)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,s=31;s>0&&!(n&1<<s);s--);return this.high!=0?s+33:s+1};me.isSafeInteger=function(){var n=this.high>>21;return n?this.unsigned?!1:n===-1&&!(this.low===0&&this.high===-2097152):!0};me.isZero=function(){return this.high===0&&this.low===0};me.eqz=me.isZero;me.isNegative=function(){return!this.unsigned&&this.high<0};me.isPositive=function(){return this.unsigned||this.high>=0};me.isOdd=function(){return(this.low&1)===1};me.isEven=function(){return(this.low&1)===0};me.equals=function(n){return Ln(n)||(n=Co(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};me.eq=me.equals;me.notEquals=function(n){return!this.eq(n)};me.neq=me.notEquals;me.ne=me.notEquals;me.lessThan=function(n){return this.comp(n)<0};me.lt=me.lessThan;me.lessThanOrEqual=function(n){return this.comp(n)<=0};me.lte=me.lessThanOrEqual;me.le=me.lessThanOrEqual;me.greaterThan=function(n){return this.comp(n)>0};me.gt=me.greaterThan;me.greaterThanOrEqual=function(n){return this.comp(n)>=0};me.gte=me.greaterThanOrEqual;me.ge=me.greaterThanOrEqual;me.compare=function(n){if(Ln(n)||(n=Co(n)),this.eq(n))return 0;var s=this.isNegative(),t=n.isNegative();return s&&!t?-1:!s&&t?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};me.comp=me.compare;me.negate=function(){return!this.unsigned&&this.eq(Xn)?Xn:this.not().add(os)};me.neg=me.negate;me.add=function(n){Ln(n)||(n=Co(n));var s=this.high>>>16,t=this.high&65535,i=this.low>>>16,r=this.low&65535,f=n.high>>>16,u=n.high&65535,c=n.low>>>16,h=n.low&65535,y=0,w=0,x=0,P=0;return P+=r+h,x+=P>>>16,P&=65535,x+=i+c,w+=x>>>16,x&=65535,w+=t+u,y+=w>>>16,w&=65535,y+=s+f,y&=65535,Et(x<<16|P,y<<16|w,this.unsigned)};me.subtract=function(n){return Ln(n)||(n=Co(n)),this.add(n.neg())};me.sub=me.subtract;me.multiply=function(n){if(this.isZero())return this;if(Ln(n)||(n=Co(n)),Ao){var s=Ao.mul(this.low,this.high,n.low,n.high);return Et(s,Ao.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?Lr:Go;if(this.eq(Xn))return n.isOdd()?Xn:Go;if(n.eq(Xn))return this.isOdd()?Xn:Go;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(rT)&&n.lt(rT))return Ro(this.toNumber()*n.toNumber(),this.unsigned);var t=this.high>>>16,i=this.high&65535,r=this.low>>>16,f=this.low&65535,u=n.high>>>16,c=n.high&65535,h=n.low>>>16,y=n.low&65535,w=0,x=0,P=0,A=0;return A+=f*y,P+=A>>>16,A&=65535,P+=r*y,x+=P>>>16,P&=65535,P+=f*h,x+=P>>>16,P&=65535,x+=i*y,w+=x>>>16,x&=65535,x+=r*h,w+=x>>>16,x&=65535,x+=f*c,w+=x>>>16,x&=65535,w+=t*y+i*h+r*c+f*u,w&=65535,Et(P<<16|A,w<<16|x,this.unsigned)};me.mul=me.multiply;me.divide=function(n){if(Ln(n)||(n=Co(n)),n.isZero())throw Error("division by zero");if(Ao){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var s=(this.unsigned?Ao.div_u:Ao.div_s)(this.low,this.high,n.low,n.high);return Et(s,Ao.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Lr:Go;var t,i,r;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return Lr;if(n.gt(this.shru(1)))return aT;r=Lr}else{if(this.eq(Xn)){if(n.eq(os)||n.eq(xm))return Xn;if(n.eq(Xn))return os;var f=this.shr(1);return t=f.div(n).shl(1),t.eq(Go)?n.isNegative()?os:xm:(i=this.sub(n.mul(t)),r=t.add(i.div(n)),r)}else if(n.eq(Xn))return this.unsigned?Lr:Go;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();r=Go}for(i=this;i.gte(n);){t=Math.max(1,Math.floor(i.toNumber()/n.toNumber()));for(var u=Math.ceil(Math.log(t)/Math.LN2),c=u<=48?1:Bl(2,u-48),h=Ro(t),y=h.mul(n);y.isNegative()||y.gt(i);)t-=c,h=Ro(t,this.unsigned),y=h.mul(n);h.isZero()&&(h=os),r=r.add(h),i=i.sub(y)}return r};me.div=me.divide;me.modulo=function(n){if(Ln(n)||(n=Co(n)),Ao){var s=(this.unsigned?Ao.rem_u:Ao.rem_s)(this.low,this.high,n.low,n.high);return Et(s,Ao.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};me.mod=me.modulo;me.rem=me.modulo;me.not=function(){return Et(~this.low,~this.high,this.unsigned)};me.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};me.clz=me.countLeadingZeros;me.countTrailingZeros=function(){return this.low?ZE(this.low):ZE(this.high)+32};me.ctz=me.countTrailingZeros;me.and=function(n){return Ln(n)||(n=Co(n)),Et(this.low&n.low,this.high&n.high,this.unsigned)};me.or=function(n){return Ln(n)||(n=Co(n)),Et(this.low|n.low,this.high|n.high,this.unsigned)};me.xor=function(n){return Ln(n)||(n=Co(n)),Et(this.low^n.low,this.high^n.high,this.unsigned)};me.shiftLeft=function(n){return Ln(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):Et(0,this.low<<n-32,this.unsigned)};me.shl=me.shiftLeft;me.shiftRight=function(n){return Ln(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):Et(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};me.shr=me.shiftRight;me.shiftRightUnsigned=function(n){return Ln(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Et(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?Et(this.high,0,this.unsigned):Et(this.high>>>n-32,0,this.unsigned)};me.shru=me.shiftRightUnsigned;me.shr_u=me.shiftRightUnsigned;me.rotateLeft=function(n){var s;return Ln(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Et(this.high,this.low,this.unsigned):n<32?(s=32-n,Et(this.low<<n|this.high>>>s,this.high<<n|this.low>>>s,this.unsigned)):(n-=32,s=32-n,Et(this.high<<n|this.low>>>s,this.low<<n|this.high>>>s,this.unsigned))};me.rotl=me.rotateLeft;me.rotateRight=function(n){var s;return Ln(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Et(this.high,this.low,this.unsigned):n<32?(s=32-n,Et(this.high<<s|this.low>>>n,this.low<<s|this.high>>>n,this.unsigned)):(n-=32,s=32-n,Et(this.low<<s|this.high>>>n,this.high<<s|this.low>>>n,this.unsigned))};me.rotr=me.rotateRight;me.toSigned=function(){return this.unsigned?Et(this.low,this.high,!1):this};me.toUnsigned=function(){return this.unsigned?this:Et(this.low,this.high,!0)};me.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};me.toBytesLE=function(){var n=this.high,s=this.low;return[s&255,s>>>8&255,s>>>16&255,s>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};me.toBytesBE=function(){var n=this.high,s=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,s>>>24,s>>>16&255,s>>>8&255,s&255]};Nt.fromBytes=function(n,s,t){return t?Nt.fromBytesLE(n,s):Nt.fromBytesBE(n,s)};Nt.fromBytesLE=function(n,s){return new Nt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,s)};Nt.fromBytesBE=function(n,s){return new Nt(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],s)};typeof BigInt=="function"&&(Nt.fromBigInt=function(n,s){var t=Number(BigInt.asIntN(32,n)),i=Number(BigInt.asIntN(32,n>>BigInt(32)));return Et(t,i,s)},Nt.fromValue=function(n,s){return typeof n=="bigint"?Nt.fromBigInt(n,s):Co(n,s)},me.toBigInt=function(){var n=BigInt(this.low>>>0),s=BigInt(this.unsigned?this.high>>>0:this.high);return s<<BigInt(32)|n});var Am=Nt;var fa=we(ze());function zx(){return{id:"",name:void 0,bodyShape:void 0,skinColor:void 0,hairColor:void 0,eyeColor:void 0,expressionTriggerId:void 0,expressionTriggerTimestamp:void 0,talking:void 0,wearables:[],emotes:[],showOnlyWearables:void 0}}var is;(function(e){function n(t,i=fa.default.Writer.create()){t.id!==""&&i.uint32(10).string(t.id),t.name!==void 0&&i.uint32(18).string(t.name),t.bodyShape!==void 0&&i.uint32(26).string(t.bodyShape),t.skinColor!==void 0&&_t.encode(t.skinColor,i.uint32(34).fork()).ldelim(),t.hairColor!==void 0&&_t.encode(t.hairColor,i.uint32(42).fork()).ldelim(),t.eyeColor!==void 0&&_t.encode(t.eyeColor,i.uint32(50).fork()).ldelim(),t.expressionTriggerId!==void 0&&i.uint32(58).string(t.expressionTriggerId),t.expressionTriggerTimestamp!==void 0&&i.uint32(64).int64(t.expressionTriggerTimestamp),t.talking!==void 0&&i.uint32(72).bool(t.talking);for(let r of t.wearables)i.uint32(82).string(r);for(let r of t.emotes)i.uint32(90).string(r);return t.showOnlyWearables!==void 0&&i.uint32(96).bool(t.showOnlyWearables),i}e.encode=n;function s(t,i){let r=t instanceof fa.default.Reader?t:fa.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=zx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.id=r.string();continue;case 2:if(c!==18)break;u.name=r.string();continue;case 3:if(c!==26)break;u.bodyShape=r.string();continue;case 4:if(c!==34)break;u.skinColor=_t.decode(r,r.uint32());continue;case 5:if(c!==42)break;u.hairColor=_t.decode(r,r.uint32());continue;case 6:if(c!==50)break;u.eyeColor=_t.decode(r,r.uint32());continue;case 7:if(c!==58)break;u.expressionTriggerId=r.string();continue;case 8:if(c!==64)break;u.expressionTriggerTimestamp=Ux(r.int64());continue;case 9:if(c!==72)break;u.talking=r.bool();continue;case 10:if(c!==82)break;u.wearables.push(r.string());continue;case 11:if(c!==90)break;u.emotes.push(r.string());continue;case 12:if(c!==96)break;u.showOnlyWearables=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(is||(is={}));var Lx=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function Ux(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new Lx.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}fa.default.util.Long!==Am&&(fa.default.util.Long=Am,fa.default.configure());var uT={COMPONENT_ID:1080,serialize(e,n){let s=is.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return is.decode(e.buffer(),e.remainingBytes())},create(){return is.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarShape"}};var Dl=we(ze());var lT;(function(e){e[e.BM_NONE=0]="BM_NONE",e[e.BM_X=1]="BM_X",e[e.BM_Y=2]="BM_Y",e[e.BM_Z=4]="BM_Z",e[e.BM_ALL=7]="BM_ALL"})(lT||(lT={}));function Bx(){return{billboardMode:void 0}}var as;(function(e){function n(t,i=Dl.default.Writer.create()){return t.billboardMode!==void 0&&i.uint32(8).int32(t.billboardMode),i}e.encode=n;function s(t,i){let r=t instanceof Dl.default.Reader?t:Dl.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Bx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.billboardMode=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(as||(as={}));var fT={COMPONENT_ID:1090,serialize(e,n){let s=as.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return as.decode(e.buffer(),e.remainingBytes())},create(){return as.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBBillboard"}};var Wl=we(ze());function Dx(){return{mode:0}}var ss;(function(e){function n(t,i=Wl.default.Writer.create()){return t.mode!==0&&i.uint32(8).int32(t.mode),i}e.encode=n;function s(t,i){let r=t instanceof Wl.default.Reader?t:Wl.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Dx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.mode=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(ss||(ss={}));var dT={COMPONENT_ID:1072,serialize(e,n){let s=ss.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return ss.decode(e.buffer(),e.remainingBytes())},create(){return ss.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraMode"}};var jl=we(ze());function Wx(){return{area:void 0,mode:0}}var cs;(function(e){function n(t,i=jl.default.Writer.create()){return t.area!==void 0&&Ze.encode(t.area,i.uint32(10).fork()).ldelim(),t.mode!==0&&i.uint32(16).int32(t.mode),i}e.encode=n;function s(t,i){let r=t instanceof jl.default.Reader?t:jl.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Wx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.area=Ze.decode(r,r.uint32());continue;case 2:if(c!==16)break;u.mode=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(cs||(cs={}));var pT={COMPONENT_ID:1071,serialize(e,n){let s=cs.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return cs.decode(e.buffer(),e.remainingBytes())},create(){return cs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraModeArea"}};var Fl=we(ze());function jx(){return{frameNumber:0,totalRuntime:0,tickNumber:0}}var us;(function(e){function n(t,i=Fl.default.Writer.create()){return t.frameNumber!==0&&i.uint32(8).uint32(t.frameNumber),t.totalRuntime!==0&&i.uint32(21).float(t.totalRuntime),t.tickNumber!==0&&i.uint32(24).uint32(t.tickNumber),i}e.encode=n;function s(t,i){let r=t instanceof Fl.default.Reader?t:Fl.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=jx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.frameNumber=r.uint32();continue;case 2:if(c!==21)break;u.totalRuntime=r.float();continue;case 3:if(c!==24)break;u.tickNumber=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(us||(us={}));var mT={COMPONENT_ID:1048,serialize(e,n){let s=us.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return us.decode(e.buffer(),e.remainingBytes())},create(){return us.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBEngineInfo"}};var Vl=we(ze());function Fx(){return{src:"",visibleMeshesCollisionMask:void 0,invisibleMeshesCollisionMask:void 0}}var ls;(function(e){function n(t,i=Vl.default.Writer.create()){return t.src!==""&&i.uint32(10).string(t.src),t.visibleMeshesCollisionMask!==void 0&&i.uint32(32).uint32(t.visibleMeshesCollisionMask),t.invisibleMeshesCollisionMask!==void 0&&i.uint32(40).uint32(t.invisibleMeshesCollisionMask),i}e.encode=n;function s(t,i){let r=t instanceof Vl.default.Reader?t:Vl.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Fx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.src=r.string();continue;case 4:if(c!==32)break;u.visibleMeshesCollisionMask=r.uint32();continue;case 5:if(c!==40)break;u.invisibleMeshesCollisionMask=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(ls||(ls={}));var hT={COMPONENT_ID:1041,serialize(e,n){let s=ls.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return ls.decode(e.buffer(),e.remainingBytes())},create(){return ls.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainer"}};var Hl=we(ze());function Vx(){return{currentState:0}}var fs;(function(e){function n(t,i=Hl.default.Writer.create()){return t.currentState!==0&&i.uint32(8).int32(t.currentState),i}e.encode=n;function s(t,i){let r=t instanceof Hl.default.Reader?t:Hl.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Vx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.currentState=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(fs||(fs={}));var yT={COMPONENT_ID:1049,serialize(e,n){let s=fs.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return fs.decode(e.buffer(),e.remainingBytes())},create(){return fs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainerLoadingState"}};var da=we(ze());var dr=we(ze());var ao=we(ze());var ET;(function(e){e[e.TWM_REPEAT=0]="TWM_REPEAT",e[e.TWM_CLAMP=1]="TWM_CLAMP",e[e.TWM_MIRROR=2]="TWM_MIRROR"})(ET||(ET={}));var TT;(function(e){e[e.TFM_POINT=0]="TFM_POINT",e[e.TFM_BILINEAR=1]="TFM_BILINEAR",e[e.TFM_TRILINEAR=2]="TFM_TRILINEAR"})(TT||(TT={}));function Hx(){return{src:"",wrapMode:void 0,filterMode:void 0,offset:void 0,tiling:void 0}}var Gl;(function(e){function n(t,i=ao.default.Writer.create()){return t.src!==""&&i.uint32(10).string(t.src),t.wrapMode!==void 0&&i.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&i.uint32(24).int32(t.filterMode),t.offset!==void 0&&In.encode(t.offset,i.uint32(34).fork()).ldelim(),t.tiling!==void 0&&In.encode(t.tiling,i.uint32(42).fork()).ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof ao.default.Reader?t:ao.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Hx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.src=r.string();continue;case 2:if(c!==16)break;u.wrapMode=r.int32();continue;case 3:if(c!==24)break;u.filterMode=r.int32();continue;case 4:if(c!==34)break;u.offset=In.decode(r,r.uint32());continue;case 5:if(c!==42)break;u.tiling=In.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Gl||(Gl={}));function Gx(){return{userId:"",wrapMode:void 0,filterMode:void 0}}var ql;(function(e){function n(t,i=ao.default.Writer.create()){return t.userId!==""&&i.uint32(10).string(t.userId),t.wrapMode!==void 0&&i.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&i.uint32(24).int32(t.filterMode),i}e.encode=n;function s(t,i){let r=t instanceof ao.default.Reader?t:ao.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Gx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.userId=r.string();continue;case 2:if(c!==16)break;u.wrapMode=r.int32();continue;case 3:if(c!==24)break;u.filterMode=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(ql||(ql={}));function qx(){return{videoPlayerEntity:0,wrapMode:void 0,filterMode:void 0}}var Yl;(function(e){function n(t,i=ao.default.Writer.create()){return t.videoPlayerEntity!==0&&i.uint32(8).uint32(t.videoPlayerEntity),t.wrapMode!==void 0&&i.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&i.uint32(24).int32(t.filterMode),i}e.encode=n;function s(t,i){let r=t instanceof ao.default.Reader?t:ao.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=qx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.videoPlayerEntity=r.uint32();continue;case 2:if(c!==16)break;u.wrapMode=r.int32();continue;case 3:if(c!==24)break;u.filterMode=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Yl||(Yl={}));function Yx(){return{tex:void 0}}var un;(function(e){function n(t,i=ao.default.Writer.create()){switch(t.tex?.$case){case"texture":Gl.encode(t.tex.texture,i.uint32(10).fork()).ldelim();break;case"avatarTexture":ql.encode(t.tex.avatarTexture,i.uint32(18).fork()).ldelim();break;case"videoTexture":Yl.encode(t.tex.videoTexture,i.uint32(26).fork()).ldelim();break}return i}e.encode=n;function s(t,i){let r=t instanceof ao.default.Reader?t:ao.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Yx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.tex={$case:"texture",texture:Gl.decode(r,r.uint32())};continue;case 2:if(c!==18)break;u.tex={$case:"avatarTexture",avatarTexture:ql.decode(r,r.uint32())};continue;case 3:if(c!==26)break;u.tex={$case:"videoTexture",videoTexture:Yl.decode(r,r.uint32())};continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(un||(un={}));var gT;(function(e){e[e.MTM_OPAQUE=0]="MTM_OPAQUE",e[e.MTM_ALPHA_TEST=1]="MTM_ALPHA_TEST",e[e.MTM_ALPHA_BLEND=2]="MTM_ALPHA_BLEND",e[e.MTM_ALPHA_TEST_AND_ALPHA_BLEND=3]="MTM_ALPHA_TEST_AND_ALPHA_BLEND",e[e.MTM_AUTO=4]="MTM_AUTO"})(gT||(gT={}));function Jx(){return{material:void 0}}var Ur;(function(e){function n(t,i=dr.default.Writer.create()){switch(t.material?.$case){case"unlit":Jl.encode(t.material.unlit,i.uint32(10).fork()).ldelim();break;case"pbr":Kl.encode(t.material.pbr,i.uint32(18).fork()).ldelim();break}return i}e.encode=n;function s(t,i){let r=t instanceof dr.default.Reader?t:dr.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Jx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.material={$case:"unlit",unlit:Jl.decode(r,r.uint32())};continue;case 2:if(c!==18)break;u.material={$case:"pbr",pbr:Kl.decode(r,r.uint32())};continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ur||(Ur={}));function Kx(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,diffuseColor:void 0,alphaTexture:void 0}}var Jl;(function(e){function n(t,i=dr.default.Writer.create()){return t.texture!==void 0&&un.encode(t.texture,i.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&i.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&i.uint32(24).bool(t.castShadows),t.diffuseColor!==void 0&&yt.encode(t.diffuseColor,i.uint32(34).fork()).ldelim(),t.alphaTexture!==void 0&&un.encode(t.alphaTexture,i.uint32(42).fork()).ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof dr.default.Reader?t:dr.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Kx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.texture=un.decode(r,r.uint32());continue;case 2:if(c!==21)break;u.alphaTest=r.float();continue;case 3:if(c!==24)break;u.castShadows=r.bool();continue;case 4:if(c!==34)break;u.diffuseColor=yt.decode(r,r.uint32());continue;case 5:if(c!==42)break;u.alphaTexture=un.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Jl||(Jl={}));function $x(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,alphaTexture:void 0,emissiveTexture:void 0,bumpTexture:void 0,albedoColor:void 0,emissiveColor:void 0,reflectivityColor:void 0,transparencyMode:void 0,metallic:void 0,roughness:void 0,specularIntensity:void 0,emissiveIntensity:void 0,directIntensity:void 0}}var Kl;(function(e){function n(t,i=dr.default.Writer.create()){return t.texture!==void 0&&un.encode(t.texture,i.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&i.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&i.uint32(24).bool(t.castShadows),t.alphaTexture!==void 0&&un.encode(t.alphaTexture,i.uint32(34).fork()).ldelim(),t.emissiveTexture!==void 0&&un.encode(t.emissiveTexture,i.uint32(42).fork()).ldelim(),t.bumpTexture!==void 0&&un.encode(t.bumpTexture,i.uint32(50).fork()).ldelim(),t.albedoColor!==void 0&&yt.encode(t.albedoColor,i.uint32(58).fork()).ldelim(),t.emissiveColor!==void 0&&_t.encode(t.emissiveColor,i.uint32(66).fork()).ldelim(),t.reflectivityColor!==void 0&&_t.encode(t.reflectivityColor,i.uint32(74).fork()).ldelim(),t.transparencyMode!==void 0&&i.uint32(80).int32(t.transparencyMode),t.metallic!==void 0&&i.uint32(93).float(t.metallic),t.roughness!==void 0&&i.uint32(101).float(t.roughness),t.specularIntensity!==void 0&&i.uint32(117).float(t.specularIntensity),t.emissiveIntensity!==void 0&&i.uint32(125).float(t.emissiveIntensity),t.directIntensity!==void 0&&i.uint32(133).float(t.directIntensity),i}e.encode=n;function s(t,i){let r=t instanceof dr.default.Reader?t:dr.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=$x();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.texture=un.decode(r,r.uint32());continue;case 2:if(c!==21)break;u.alphaTest=r.float();continue;case 3:if(c!==24)break;u.castShadows=r.bool();continue;case 4:if(c!==34)break;u.alphaTexture=un.decode(r,r.uint32());continue;case 5:if(c!==42)break;u.emissiveTexture=un.decode(r,r.uint32());continue;case 6:if(c!==50)break;u.bumpTexture=un.decode(r,r.uint32());continue;case 7:if(c!==58)break;u.albedoColor=yt.decode(r,r.uint32());continue;case 8:if(c!==66)break;u.emissiveColor=_t.decode(r,r.uint32());continue;case 9:if(c!==74)break;u.reflectivityColor=_t.decode(r,r.uint32());continue;case 10:if(c!==80)break;u.transparencyMode=r.int32();continue;case 11:if(c!==93)break;u.metallic=r.float();continue;case 12:if(c!==101)break;u.roughness=r.float();continue;case 14:if(c!==117)break;u.specularIntensity=r.float();continue;case 15:if(c!==125)break;u.emissiveIntensity=r.float();continue;case 16:if(c!==133)break;u.directIntensity=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Kl||(Kl={}));function Qx(){return{modifiers:[]}}var ds;(function(e){function n(t,i=da.default.Writer.create()){for(let r of t.modifiers)$l.encode(r,i.uint32(10).fork()).ldelim();return i}e.encode=n;function s(t,i){let r=t instanceof da.default.Reader?t:da.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Qx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.modifiers.push($l.decode(r,r.uint32()));continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(ds||(ds={}));function Xx(){return{path:"",castShadows:void 0,material:void 0}}var $l;(function(e){function n(t,i=da.default.Writer.create()){return t.path!==""&&i.uint32(10).string(t.path),t.castShadows!==void 0&&i.uint32(16).bool(t.castShadows),t.material!==void 0&&Ur.encode(t.material,i.uint32(26).fork()).ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof da.default.Reader?t:da.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Xx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.path=r.string();continue;case 2:if(c!==16)break;u.castShadows=r.bool();continue;case 3:if(c!==26)break;u.material=Ur.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})($l||($l={}));var ST={COMPONENT_ID:1099,serialize(e,n){let s=ds.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return ds.decode(e.buffer(),e.remainingBytes())},create(){return ds.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfNodeModifiers"}};var pa=we(ze());function Zx(){return{mode:void 0}}var ps;(function(e){function n(t,i=pa.default.Writer.create()){switch(t.mode?.$case){case"standard":Ql.encode(t.mode.standard,i.uint32(10).fork()).ldelim();break}return i}e.encode=n;function s(t,i){let r=t instanceof pa.default.Reader?t:pa.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Zx();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.mode={$case:"standard",standard:Ql.decode(r,r.uint32())};continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(ps||(ps={}));function eb(){return{disableAll:void 0,disableWalk:void 0,disableJog:void 0,disableRun:void 0,disableJump:void 0,disableEmote:void 0}}var Ql;(function(e){function n(t,i=pa.default.Writer.create()){return t.disableAll!==void 0&&i.uint32(8).bool(t.disableAll),t.disableWalk!==void 0&&i.uint32(16).bool(t.disableWalk),t.disableJog!==void 0&&i.uint32(24).bool(t.disableJog),t.disableRun!==void 0&&i.uint32(32).bool(t.disableRun),t.disableJump!==void 0&&i.uint32(40).bool(t.disableJump),t.disableEmote!==void 0&&i.uint32(48).bool(t.disableEmote),i}e.encode=n;function s(t,i){let r=t instanceof pa.default.Reader?t:pa.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=eb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.disableAll=r.bool();continue;case 2:if(c!==16)break;u.disableWalk=r.bool();continue;case 3:if(c!==24)break;u.disableJog=r.bool();continue;case 4:if(c!==32)break;u.disableRun=r.bool();continue;case 5:if(c!==40)break;u.disableJump=r.bool();continue;case 6:if(c!==48)break;u.disableEmote=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ql||(Ql={}));var _T={COMPONENT_ID:1078,serialize(e,n){let s=ps.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return ps.decode(e.buffer(),e.remainingBytes())},create(){return ps.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBInputModifier"}};var pr=we(ze());function tb(){return{active:void 0,color:void 0,intensity:void 0,range:void 0,shadow:void 0,shadowMaskTexture:void 0,type:void 0}}var ms;(function(e){function n(t,i=pr.default.Writer.create()){switch(t.active!==void 0&&i.uint32(8).bool(t.active),t.color!==void 0&&_t.encode(t.color,i.uint32(18).fork()).ldelim(),t.intensity!==void 0&&i.uint32(29).float(t.intensity),t.range!==void 0&&i.uint32(37).float(t.range),t.shadow!==void 0&&i.uint32(40).bool(t.shadow),t.shadowMaskTexture!==void 0&&un.encode(t.shadowMaskTexture,i.uint32(50).fork()).ldelim(),t.type?.$case){case"point":Xl.encode(t.type.point,i.uint32(58).fork()).ldelim();break;case"spot":Zl.encode(t.type.spot,i.uint32(66).fork()).ldelim();break}return i}e.encode=n;function s(t,i){let r=t instanceof pr.default.Reader?t:pr.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=tb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.active=r.bool();continue;case 2:if(c!==18)break;u.color=_t.decode(r,r.uint32());continue;case 3:if(c!==29)break;u.intensity=r.float();continue;case 4:if(c!==37)break;u.range=r.float();continue;case 5:if(c!==40)break;u.shadow=r.bool();continue;case 6:if(c!==50)break;u.shadowMaskTexture=un.decode(r,r.uint32());continue;case 7:if(c!==58)break;u.type={$case:"point",point:Xl.decode(r,r.uint32())};continue;case 8:if(c!==66)break;u.type={$case:"spot",spot:Zl.decode(r,r.uint32())};continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(ms||(ms={}));function nb(){return{}}var Xl;(function(e){function n(t,i=pr.default.Writer.create()){return i}e.encode=n;function s(t,i){let r=t instanceof pr.default.Reader?t:pr.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=nb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Xl||(Xl={}));function ob(){return{innerAngle:void 0,outerAngle:void 0}}var Zl;(function(e){function n(t,i=pr.default.Writer.create()){return t.innerAngle!==void 0&&i.uint32(77).float(t.innerAngle),t.outerAngle!==void 0&&i.uint32(85).float(t.outerAngle),i}e.encode=n;function s(t,i){let r=t instanceof pr.default.Reader?t:pr.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=ob();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 9:if(c!==77)break;u.innerAngle=r.float();continue;case 10:if(c!==85)break;u.outerAngle=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Zl||(Zl={}));var xT={COMPONENT_ID:1079,serialize(e,n){let s=ms.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return ms.decode(e.buffer(),e.remainingBytes())},create(){return ms.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBLightSource"}};var ef=we(ze());function rb(){return{virtualCameraEntity:void 0}}var hs;(function(e){function n(t,i=ef.default.Writer.create()){return t.virtualCameraEntity!==void 0&&i.uint32(8).uint32(t.virtualCameraEntity),i}e.encode=n;function s(t,i){let r=t instanceof ef.default.Reader?t:ef.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=rb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.virtualCameraEntity=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(hs||(hs={}));var bT={COMPONENT_ID:1075,serialize(e,n){let s=hs.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return hs.decode(e.buffer(),e.remainingBytes())},create(){return hs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMainCamera"}};var AT={COMPONENT_ID:1017,serialize(e,n){let s=Ur.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Ur.decode(e.buffer(),e.remainingBytes())},create(){return Ur.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMaterial"}};var Un=we(ze());var ma;(function(e){e[e.CL_NONE=0]="CL_NONE",e[e.CL_POINTER=1]="CL_POINTER",e[e.CL_PHYSICS=2]="CL_PHYSICS",e[e.CL_RESERVED1=4]="CL_RESERVED1",e[e.CL_RESERVED2=8]="CL_RESERVED2",e[e.CL_RESERVED3=16]="CL_RESERVED3",e[e.CL_RESERVED4=32]="CL_RESERVED4",e[e.CL_RESERVED5=64]="CL_RESERVED5",e[e.CL_RESERVED6=128]="CL_RESERVED6",e[e.CL_CUSTOM1=256]="CL_CUSTOM1",e[e.CL_CUSTOM2=512]="CL_CUSTOM2",e[e.CL_CUSTOM3=1024]="CL_CUSTOM3",e[e.CL_CUSTOM4=2048]="CL_CUSTOM4",e[e.CL_CUSTOM5=4096]="CL_CUSTOM5",e[e.CL_CUSTOM6=8192]="CL_CUSTOM6",e[e.CL_CUSTOM7=16384]="CL_CUSTOM7",e[e.CL_CUSTOM8=32768]="CL_CUSTOM8"})(ma||(ma={}));function ib(){return{collisionMask:void 0,mesh:void 0}}var ys;(function(e){function n(t,i=Un.default.Writer.create()){switch(t.collisionMask!==void 0&&i.uint32(8).uint32(t.collisionMask),t.mesh?.$case){case"box":tf.encode(t.mesh.box,i.uint32(18).fork()).ldelim();break;case"sphere":rf.encode(t.mesh.sphere,i.uint32(26).fork()).ldelim();break;case"cylinder":nf.encode(t.mesh.cylinder,i.uint32(34).fork()).ldelim();break;case"plane":of.encode(t.mesh.plane,i.uint32(42).fork()).ldelim();break}return i}e.encode=n;function s(t,i){let r=t instanceof Un.default.Reader?t:Un.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=ib();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.collisionMask=r.uint32();continue;case 2:if(c!==18)break;u.mesh={$case:"box",box:tf.decode(r,r.uint32())};continue;case 3:if(c!==26)break;u.mesh={$case:"sphere",sphere:rf.decode(r,r.uint32())};continue;case 4:if(c!==34)break;u.mesh={$case:"cylinder",cylinder:nf.decode(r,r.uint32())};continue;case 5:if(c!==42)break;u.mesh={$case:"plane",plane:of.decode(r,r.uint32())};continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(ys||(ys={}));function ab(){return{}}var tf;(function(e){function n(t,i=Un.default.Writer.create()){return i}e.encode=n;function s(t,i){let r=t instanceof Un.default.Reader?t:Un.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=ab();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(tf||(tf={}));function sb(){return{radiusTop:void 0,radiusBottom:void 0}}var nf;(function(e){function n(t,i=Un.default.Writer.create()){return t.radiusTop!==void 0&&i.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&i.uint32(21).float(t.radiusBottom),i}e.encode=n;function s(t,i){let r=t instanceof Un.default.Reader?t:Un.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=sb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;u.radiusTop=r.float();continue;case 2:if(c!==21)break;u.radiusBottom=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(nf||(nf={}));function cb(){return{}}var of;(function(e){function n(t,i=Un.default.Writer.create()){return i}e.encode=n;function s(t,i){let r=t instanceof Un.default.Reader?t:Un.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=cb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(of||(of={}));function ub(){return{}}var rf;(function(e){function n(t,i=Un.default.Writer.create()){return i}e.encode=n;function s(t,i){let r=t instanceof Un.default.Reader?t:Un.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=ub();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(rf||(rf={}));var RT={COMPONENT_ID:1019,serialize(e,n){let s=ys.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return ys.decode(e.buffer(),e.remainingBytes())},create(){return ys.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshCollider"}};var Bn=we(ze());function lb(){return{mesh:void 0}}var Es;(function(e){function n(t,i=Bn.default.Writer.create()){switch(t.mesh?.$case){case"box":af.encode(t.mesh.box,i.uint32(10).fork()).ldelim();break;case"sphere":uf.encode(t.mesh.sphere,i.uint32(18).fork()).ldelim();break;case"cylinder":sf.encode(t.mesh.cylinder,i.uint32(26).fork()).ldelim();break;case"plane":cf.encode(t.mesh.plane,i.uint32(34).fork()).ldelim();break}return i}e.encode=n;function s(t,i){let r=t instanceof Bn.default.Reader?t:Bn.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=lb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.mesh={$case:"box",box:af.decode(r,r.uint32())};continue;case 2:if(c!==18)break;u.mesh={$case:"sphere",sphere:uf.decode(r,r.uint32())};continue;case 3:if(c!==26)break;u.mesh={$case:"cylinder",cylinder:sf.decode(r,r.uint32())};continue;case 4:if(c!==34)break;u.mesh={$case:"plane",plane:cf.decode(r,r.uint32())};continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Es||(Es={}));function fb(){return{uvs:[]}}var af;(function(e){function n(t,i=Bn.default.Writer.create()){i.uint32(10).fork();for(let r of t.uvs)i.float(r);return i.ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof Bn.default.Reader?t:Bn.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=fb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c===13){u.uvs.push(r.float());continue}if(c===10){let h=r.uint32()+r.pos;for(;r.pos<h;)u.uvs.push(r.float());continue}break}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(af||(af={}));function db(){return{radiusTop:void 0,radiusBottom:void 0}}var sf;(function(e){function n(t,i=Bn.default.Writer.create()){return t.radiusTop!==void 0&&i.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&i.uint32(21).float(t.radiusBottom),i}e.encode=n;function s(t,i){let r=t instanceof Bn.default.Reader?t:Bn.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=db();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;u.radiusTop=r.float();continue;case 2:if(c!==21)break;u.radiusBottom=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(sf||(sf={}));function pb(){return{uvs:[]}}var cf;(function(e){function n(t,i=Bn.default.Writer.create()){i.uint32(10).fork();for(let r of t.uvs)i.float(r);return i.ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof Bn.default.Reader?t:Bn.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=pb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c===13){u.uvs.push(r.float());continue}if(c===10){let h=r.uint32()+r.pos;for(;r.pos<h;)u.uvs.push(r.float());continue}break}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(cf||(cf={}));function mb(){return{}}var uf;(function(e){function n(t,i=Bn.default.Writer.create()){return i}e.encode=n;function s(t,i){let r=t instanceof Bn.default.Reader?t:Bn.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=mb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(uf||(uf={}));var CT={COMPONENT_ID:1018,serialize(e,n){let s=Es.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Es.decode(e.buffer(),e.remainingBytes())},create(){return Es.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"}};var lf=we(ze());var NT;(function(e){e[e.NFT_CLASSIC=0]="NFT_CLASSIC",e[e.NFT_BAROQUE_ORNAMENT=1]="NFT_BAROQUE_ORNAMENT",e[e.NFT_DIAMOND_ORNAMENT=2]="NFT_DIAMOND_ORNAMENT",e[e.NFT_MINIMAL_WIDE=3]="NFT_MINIMAL_WIDE",e[e.NFT_MINIMAL_GREY=4]="NFT_MINIMAL_GREY",e[e.NFT_BLOCKY=5]="NFT_BLOCKY",e[e.NFT_GOLD_EDGES=6]="NFT_GOLD_EDGES",e[e.NFT_GOLD_CARVED=7]="NFT_GOLD_CARVED",e[e.NFT_GOLD_WIDE=8]="NFT_GOLD_WIDE",e[e.NFT_GOLD_ROUNDED=9]="NFT_GOLD_ROUNDED",e[e.NFT_METAL_MEDIUM=10]="NFT_METAL_MEDIUM",e[e.NFT_METAL_WIDE=11]="NFT_METAL_WIDE",e[e.NFT_METAL_SLIM=12]="NFT_METAL_SLIM",e[e.NFT_METAL_ROUNDED=13]="NFT_METAL_ROUNDED",e[e.NFT_PINS=14]="NFT_PINS",e[e.NFT_MINIMAL_BLACK=15]="NFT_MINIMAL_BLACK",e[e.NFT_MINIMAL_WHITE=16]="NFT_MINIMAL_WHITE",e[e.NFT_TAPE=17]="NFT_TAPE",e[e.NFT_WOOD_SLIM=18]="NFT_WOOD_SLIM",e[e.NFT_WOOD_WIDE=19]="NFT_WOOD_WIDE",e[e.NFT_WOOD_TWIGS=20]="NFT_WOOD_TWIGS",e[e.NFT_CANVAS=21]="NFT_CANVAS",e[e.NFT_NONE=22]="NFT_NONE"})(NT||(NT={}));function hb(){return{urn:"",style:void 0,color:void 0}}var Ts;(function(e){function n(t,i=lf.default.Writer.create()){return t.urn!==""&&i.uint32(10).string(t.urn),t.style!==void 0&&i.uint32(16).int32(t.style),t.color!==void 0&&_t.encode(t.color,i.uint32(26).fork()).ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof lf.default.Reader?t:lf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=hb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.urn=r.string();continue;case 2:if(c!==16)break;u.style=r.int32();continue;case 3:if(c!==26)break;u.color=_t.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ts||(Ts={}));var vT={COMPONENT_ID:1040,serialize(e,n){let s=Ts.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Ts.decode(e.buffer(),e.remainingBytes())},create(){return Ts.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBNftShape"}};var ff=we(ze());function yb(){return{address:"",isGuest:!1}}var gs;(function(e){function n(t,i=ff.default.Writer.create()){return t.address!==""&&i.uint32(10).string(t.address),t.isGuest===!0&&i.uint32(24).bool(t.isGuest),i}e.encode=n;function s(t,i){let r=t instanceof ff.default.Reader?t:ff.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=yb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.address=r.string();continue;case 3:if(c!==24)break;u.isGuest=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(gs||(gs={}));var kT={COMPONENT_ID:1089,serialize(e,n){let s=gs.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return gs.decode(e.buffer(),e.remainingBytes())},create(){return gs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPlayerIdentityData"}};var mr=we(ze());function Eb(){return{pointerEvents:[]}}var Ss;(function(e){function n(t,i=mr.default.Writer.create()){for(let r of t.pointerEvents)pf.encode(r,i.uint32(10).fork()).ldelim();return i}e.encode=n;function s(t,i){let r=t instanceof mr.default.Reader?t:mr.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Eb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.pointerEvents.push(pf.decode(r,r.uint32()));continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ss||(Ss={}));function Tb(){return{button:void 0,hoverText:void 0,maxDistance:void 0,showFeedback:void 0,showHighlight:void 0}}var df;(function(e){function n(t,i=mr.default.Writer.create()){return t.button!==void 0&&i.uint32(8).int32(t.button),t.hoverText!==void 0&&i.uint32(18).string(t.hoverText),t.maxDistance!==void 0&&i.uint32(29).float(t.maxDistance),t.showFeedback!==void 0&&i.uint32(32).bool(t.showFeedback),t.showHighlight!==void 0&&i.uint32(40).bool(t.showHighlight),i}e.encode=n;function s(t,i){let r=t instanceof mr.default.Reader?t:mr.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Tb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.button=r.int32();continue;case 2:if(c!==18)break;u.hoverText=r.string();continue;case 3:if(c!==29)break;u.maxDistance=r.float();continue;case 4:if(c!==32)break;u.showFeedback=r.bool();continue;case 5:if(c!==40)break;u.showHighlight=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(df||(df={}));function gb(){return{eventType:0,eventInfo:void 0}}var pf;(function(e){function n(t,i=mr.default.Writer.create()){return t.eventType!==0&&i.uint32(8).int32(t.eventType),t.eventInfo!==void 0&&df.encode(t.eventInfo,i.uint32(18).fork()).ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof mr.default.Reader?t:mr.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=gb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.eventType=r.int32();continue;case 2:if(c!==18)break;u.eventInfo=df.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(pf||(pf={}));var IT={COMPONENT_ID:1062,serialize(e,n){let s=Ss.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Ss.decode(e.buffer(),e.remainingBytes())},create(){return Ss.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEvents"}};var hf=we(ze());var mf=we(ze());function Sb(){return{position:void 0,globalOrigin:void 0,direction:void 0,normalHit:void 0,length:0,meshName:void 0,entityId:void 0}}var yi;(function(e){function n(t,i=mf.default.Writer.create()){return t.position!==void 0&&Ze.encode(t.position,i.uint32(10).fork()).ldelim(),t.globalOrigin!==void 0&&Ze.encode(t.globalOrigin,i.uint32(18).fork()).ldelim(),t.direction!==void 0&&Ze.encode(t.direction,i.uint32(26).fork()).ldelim(),t.normalHit!==void 0&&Ze.encode(t.normalHit,i.uint32(34).fork()).ldelim(),t.length!==0&&i.uint32(45).float(t.length),t.meshName!==void 0&&i.uint32(50).string(t.meshName),t.entityId!==void 0&&i.uint32(56).uint32(t.entityId),i}e.encode=n;function s(t,i){let r=t instanceof mf.default.Reader?t:mf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Sb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.position=Ze.decode(r,r.uint32());continue;case 2:if(c!==18)break;u.globalOrigin=Ze.decode(r,r.uint32());continue;case 3:if(c!==26)break;u.direction=Ze.decode(r,r.uint32());continue;case 4:if(c!==34)break;u.normalHit=Ze.decode(r,r.uint32());continue;case 5:if(c!==45)break;u.length=r.float();continue;case 6:if(c!==50)break;u.meshName=r.string();continue;case 7:if(c!==56)break;u.entityId=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(yi||(yi={}));function _b(){return{button:0,hit:void 0,state:0,timestamp:0,analog:void 0,tickNumber:0}}var _s;(function(e){function n(t,i=hf.default.Writer.create()){return t.button!==0&&i.uint32(8).int32(t.button),t.hit!==void 0&&yi.encode(t.hit,i.uint32(18).fork()).ldelim(),t.state!==0&&i.uint32(32).int32(t.state),t.timestamp!==0&&i.uint32(40).uint32(t.timestamp),t.analog!==void 0&&i.uint32(53).float(t.analog),t.tickNumber!==0&&i.uint32(56).uint32(t.tickNumber),i}e.encode=n;function s(t,i){let r=t instanceof hf.default.Reader?t:hf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=_b();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.button=r.int32();continue;case 2:if(c!==18)break;u.hit=yi.decode(r,r.uint32());continue;case 4:if(c!==32)break;u.state=r.int32();continue;case 5:if(c!==40)break;u.timestamp=r.uint32();continue;case 6:if(c!==53)break;u.analog=r.float();continue;case 7:if(c!==56)break;u.tickNumber=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(_s||(_s={}));var OT={COMPONENT_ID:1063,serialize(e,n){let s=_s.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return _s.decode(e.buffer(),e.remainingBytes())},create(){return _s.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEventsResult"}};var yf=we(ze());function xb(){return{isPointerLocked:!1}}var xs;(function(e){function n(t,i=yf.default.Writer.create()){return t.isPointerLocked===!0&&i.uint32(8).bool(t.isPointerLocked),i}e.encode=n;function s(t,i){let r=t instanceof yf.default.Reader?t:yf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=xb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.isPointerLocked=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(xs||(xs={}));var wT={COMPONENT_ID:1074,serialize(e,n){let s=xs.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return xs.decode(e.buffer(),e.remainingBytes())},create(){return xs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerLock"}};var Ef=we(ze());var MT;(function(e){e[e.POT_NONE=0]="POT_NONE",e[e.POT_MOUSE=1]="POT_MOUSE"})(MT||(MT={}));function bb(){return{pointerType:void 0,screenCoordinates:void 0,screenDelta:void 0,worldRayDirection:void 0}}var bs;(function(e){function n(t,i=Ef.default.Writer.create()){return t.pointerType!==void 0&&i.uint32(8).int32(t.pointerType),t.screenCoordinates!==void 0&&In.encode(t.screenCoordinates,i.uint32(18).fork()).ldelim(),t.screenDelta!==void 0&&In.encode(t.screenDelta,i.uint32(26).fork()).ldelim(),t.worldRayDirection!==void 0&&Ze.encode(t.worldRayDirection,i.uint32(34).fork()).ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof Ef.default.Reader?t:Ef.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=bb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.pointerType=r.int32();continue;case 2:if(c!==18)break;u.screenCoordinates=In.decode(r,r.uint32());continue;case 3:if(c!==26)break;u.screenDelta=In.decode(r,r.uint32());continue;case 4:if(c!==34)break;u.worldRayDirection=Ze.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(bs||(bs={}));var PT={COMPONENT_ID:1209,serialize(e,n){let s=bs.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return bs.decode(e.buffer(),e.remainingBytes())},create(){return bs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPrimaryPointerInfo"}};var Tf=we(ze());var zT;(function(e){e[e.RQT_HIT_FIRST=0]="RQT_HIT_FIRST",e[e.RQT_QUERY_ALL=1]="RQT_QUERY_ALL",e[e.RQT_NONE=2]="RQT_NONE"})(zT||(zT={}));function Ab(){return{timestamp:void 0,originOffset:void 0,direction:void 0,maxDistance:0,queryType:0,continuous:void 0,collisionMask:void 0}}var As;(function(e){function n(t,i=Tf.default.Writer.create()){switch(t.timestamp!==void 0&&i.uint32(8).uint32(t.timestamp),t.originOffset!==void 0&&Ze.encode(t.originOffset,i.uint32(18).fork()).ldelim(),t.direction?.$case){case"localDirection":Ze.encode(t.direction.localDirection,i.uint32(50).fork()).ldelim();break;case"globalDirection":Ze.encode(t.direction.globalDirection,i.uint32(26).fork()).ldelim();break;case"globalTarget":Ze.encode(t.direction.globalTarget,i.uint32(58).fork()).ldelim();break;case"targetEntity":i.uint32(80).uint32(t.direction.targetEntity);break}return t.maxDistance!==0&&i.uint32(37).float(t.maxDistance),t.queryType!==0&&i.uint32(40).int32(t.queryType),t.continuous!==void 0&&i.uint32(64).bool(t.continuous),t.collisionMask!==void 0&&i.uint32(72).uint32(t.collisionMask),i}e.encode=n;function s(t,i){let r=t instanceof Tf.default.Reader?t:Tf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Ab();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.timestamp=r.uint32();continue;case 2:if(c!==18)break;u.originOffset=Ze.decode(r,r.uint32());continue;case 6:if(c!==50)break;u.direction={$case:"localDirection",localDirection:Ze.decode(r,r.uint32())};continue;case 3:if(c!==26)break;u.direction={$case:"globalDirection",globalDirection:Ze.decode(r,r.uint32())};continue;case 7:if(c!==58)break;u.direction={$case:"globalTarget",globalTarget:Ze.decode(r,r.uint32())};continue;case 10:if(c!==80)break;u.direction={$case:"targetEntity",targetEntity:r.uint32()};continue;case 4:if(c!==37)break;u.maxDistance=r.float();continue;case 5:if(c!==40)break;u.queryType=r.int32();continue;case 8:if(c!==64)break;u.continuous=r.bool();continue;case 9:if(c!==72)break;u.collisionMask=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(As||(As={}));var LT={COMPONENT_ID:1067,serialize(e,n){let s=As.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return As.decode(e.buffer(),e.remainingBytes())},create(){return As.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycast"}};var gf=we(ze());function Rb(){return{timestamp:void 0,globalOrigin:void 0,direction:void 0,hits:[],tickNumber:0}}var Rs;(function(e){function n(t,i=gf.default.Writer.create()){t.timestamp!==void 0&&i.uint32(8).uint32(t.timestamp),t.globalOrigin!==void 0&&Ze.encode(t.globalOrigin,i.uint32(18).fork()).ldelim(),t.direction!==void 0&&Ze.encode(t.direction,i.uint32(26).fork()).ldelim();for(let r of t.hits)yi.encode(r,i.uint32(34).fork()).ldelim();return t.tickNumber!==0&&i.uint32(40).uint32(t.tickNumber),i}e.encode=n;function s(t,i){let r=t instanceof gf.default.Reader?t:gf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Rb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.timestamp=r.uint32();continue;case 2:if(c!==18)break;u.globalOrigin=Ze.decode(r,r.uint32());continue;case 3:if(c!==26)break;u.direction=Ze.decode(r,r.uint32());continue;case 4:if(c!==34)break;u.hits.push(yi.decode(r,r.uint32()));continue;case 5:if(c!==40)break;u.tickNumber=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Rs||(Rs={}));var UT={COMPONENT_ID:1068,serialize(e,n){let s=Rs.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Rs.decode(e.buffer(),e.remainingBytes())},create(){return Rs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycastResult"}};var Sf=we(ze());function Cb(){return{baseUrl:"",realmName:"",networkId:0,commsAdapter:"",isPreview:!1,room:void 0,isConnectedSceneRoom:void 0}}var Cs;(function(e){function n(t,i=Sf.default.Writer.create()){return t.baseUrl!==""&&i.uint32(10).string(t.baseUrl),t.realmName!==""&&i.uint32(18).string(t.realmName),t.networkId!==0&&i.uint32(24).int32(t.networkId),t.commsAdapter!==""&&i.uint32(34).string(t.commsAdapter),t.isPreview===!0&&i.uint32(40).bool(t.isPreview),t.room!==void 0&&i.uint32(50).string(t.room),t.isConnectedSceneRoom!==void 0&&i.uint32(56).bool(t.isConnectedSceneRoom),i}e.encode=n;function s(t,i){let r=t instanceof Sf.default.Reader?t:Sf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Cb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.baseUrl=r.string();continue;case 2:if(c!==18)break;u.realmName=r.string();continue;case 3:if(c!==24)break;u.networkId=r.int32();continue;case 4:if(c!==34)break;u.commsAdapter=r.string();continue;case 5:if(c!==40)break;u.isPreview=r.bool();continue;case 6:if(c!==50)break;u.room=r.string();continue;case 7:if(c!==56)break;u.isConnectedSceneRoom=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Cs||(Cs={}));var BT={COMPONENT_ID:1106,serialize(e,n){let s=Cs.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Cs.decode(e.buffer(),e.remainingBytes())},create(){return Cs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRealmInfo"}};var _f=we(ze());var DT;(function(e){e[e.TM_FORWARD=0]="TM_FORWARD",e[e.TM_BACKWARD=1]="TM_BACKWARD"})(DT||(DT={}));function Nb(){return{fixedTime:0,transitionMode:void 0}}var Ns;(function(e){function n(t,i=_f.default.Writer.create()){return t.fixedTime!==0&&i.uint32(8).uint32(t.fixedTime),t.transitionMode!==void 0&&i.uint32(16).int32(t.transitionMode),i}e.encode=n;function s(t,i){let r=t instanceof _f.default.Reader?t:_f.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Nb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.fixedTime=r.uint32();continue;case 2:if(c!==16)break;u.transitionMode=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ns||(Ns={}));var WT={COMPONENT_ID:1210,serialize(e,n){let s=Ns.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Ns.decode(e.buffer(),e.remainingBytes())},create(){return Ns.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBSkyboxTime"}};var xf=we(ze());function vb(){return{text:"",font:void 0,fontSize:void 0,fontAutoSize:void 0,textAlign:void 0,width:void 0,height:void 0,paddingTop:void 0,paddingRight:void 0,paddingBottom:void 0,paddingLeft:void 0,lineSpacing:void 0,lineCount:void 0,textWrapping:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,outlineWidth:void 0,shadowColor:void 0,outlineColor:void 0,textColor:void 0}}var vs;(function(e){function n(t,i=xf.default.Writer.create()){return t.text!==""&&i.uint32(10).string(t.text),t.font!==void 0&&i.uint32(16).int32(t.font),t.fontSize!==void 0&&i.uint32(29).float(t.fontSize),t.fontAutoSize!==void 0&&i.uint32(32).bool(t.fontAutoSize),t.textAlign!==void 0&&i.uint32(40).int32(t.textAlign),t.width!==void 0&&i.uint32(53).float(t.width),t.height!==void 0&&i.uint32(61).float(t.height),t.paddingTop!==void 0&&i.uint32(69).float(t.paddingTop),t.paddingRight!==void 0&&i.uint32(77).float(t.paddingRight),t.paddingBottom!==void 0&&i.uint32(85).float(t.paddingBottom),t.paddingLeft!==void 0&&i.uint32(93).float(t.paddingLeft),t.lineSpacing!==void 0&&i.uint32(101).float(t.lineSpacing),t.lineCount!==void 0&&i.uint32(104).int32(t.lineCount),t.textWrapping!==void 0&&i.uint32(112).bool(t.textWrapping),t.shadowBlur!==void 0&&i.uint32(125).float(t.shadowBlur),t.shadowOffsetX!==void 0&&i.uint32(133).float(t.shadowOffsetX),t.shadowOffsetY!==void 0&&i.uint32(141).float(t.shadowOffsetY),t.outlineWidth!==void 0&&i.uint32(149).float(t.outlineWidth),t.shadowColor!==void 0&&_t.encode(t.shadowColor,i.uint32(154).fork()).ldelim(),t.outlineColor!==void 0&&_t.encode(t.outlineColor,i.uint32(162).fork()).ldelim(),t.textColor!==void 0&&yt.encode(t.textColor,i.uint32(170).fork()).ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof xf.default.Reader?t:xf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=vb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.text=r.string();continue;case 2:if(c!==16)break;u.font=r.int32();continue;case 3:if(c!==29)break;u.fontSize=r.float();continue;case 4:if(c!==32)break;u.fontAutoSize=r.bool();continue;case 5:if(c!==40)break;u.textAlign=r.int32();continue;case 6:if(c!==53)break;u.width=r.float();continue;case 7:if(c!==61)break;u.height=r.float();continue;case 8:if(c!==69)break;u.paddingTop=r.float();continue;case 9:if(c!==77)break;u.paddingRight=r.float();continue;case 10:if(c!==85)break;u.paddingBottom=r.float();continue;case 11:if(c!==93)break;u.paddingLeft=r.float();continue;case 12:if(c!==101)break;u.lineSpacing=r.float();continue;case 13:if(c!==104)break;u.lineCount=r.int32();continue;case 14:if(c!==112)break;u.textWrapping=r.bool();continue;case 15:if(c!==125)break;u.shadowBlur=r.float();continue;case 16:if(c!==133)break;u.shadowOffsetX=r.float();continue;case 17:if(c!==141)break;u.shadowOffsetY=r.float();continue;case 18:if(c!==149)break;u.outlineWidth=r.float();continue;case 19:if(c!==154)break;u.shadowColor=_t.decode(r,r.uint32());continue;case 20:if(c!==162)break;u.outlineColor=_t.decode(r,r.uint32());continue;case 21:if(c!==170)break;u.textColor=yt.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(vs||(vs={}));var jT={COMPONENT_ID:1030,serialize(e,n){let s=vs.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return vs.decode(e.buffer(),e.remainingBytes())},create(){return vs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTextShape"}};var Dn=we(ze());var FT;(function(e){e[e.TMT_OFFSET=0]="TMT_OFFSET",e[e.TMT_TILING=1]="TMT_TILING"})(FT||(FT={}));var VT;(function(e){e[e.EF_LINEAR=0]="EF_LINEAR",e[e.EF_EASEINQUAD=1]="EF_EASEINQUAD",e[e.EF_EASEOUTQUAD=2]="EF_EASEOUTQUAD",e[e.EF_EASEQUAD=3]="EF_EASEQUAD",e[e.EF_EASEINSINE=4]="EF_EASEINSINE",e[e.EF_EASEOUTSINE=5]="EF_EASEOUTSINE",e[e.EF_EASESINE=6]="EF_EASESINE",e[e.EF_EASEINEXPO=7]="EF_EASEINEXPO",e[e.EF_EASEOUTEXPO=8]="EF_EASEOUTEXPO",e[e.EF_EASEEXPO=9]="EF_EASEEXPO",e[e.EF_EASEINELASTIC=10]="EF_EASEINELASTIC",e[e.EF_EASEOUTELASTIC=11]="EF_EASEOUTELASTIC",e[e.EF_EASEELASTIC=12]="EF_EASEELASTIC",e[e.EF_EASEINBOUNCE=13]="EF_EASEINBOUNCE",e[e.EF_EASEOUTBOUNCE=14]="EF_EASEOUTBOUNCE",e[e.EF_EASEBOUNCE=15]="EF_EASEBOUNCE",e[e.EF_EASEINCUBIC=16]="EF_EASEINCUBIC",e[e.EF_EASEOUTCUBIC=17]="EF_EASEOUTCUBIC",e[e.EF_EASECUBIC=18]="EF_EASECUBIC",e[e.EF_EASEINQUART=19]="EF_EASEINQUART",e[e.EF_EASEOUTQUART=20]="EF_EASEOUTQUART",e[e.EF_EASEQUART=21]="EF_EASEQUART",e[e.EF_EASEINQUINT=22]="EF_EASEINQUINT",e[e.EF_EASEOUTQUINT=23]="EF_EASEOUTQUINT",e[e.EF_EASEQUINT=24]="EF_EASEQUINT",e[e.EF_EASEINCIRC=25]="EF_EASEINCIRC",e[e.EF_EASEOUTCIRC=26]="EF_EASEOUTCIRC",e[e.EF_EASECIRC=27]="EF_EASECIRC",e[e.EF_EASEINBACK=28]="EF_EASEINBACK",e[e.EF_EASEOUTBACK=29]="EF_EASEOUTBACK",e[e.EF_EASEBACK=30]="EF_EASEBACK"})(VT||(VT={}));function kb(){return{duration:0,easingFunction:0,mode:void 0,playing:void 0,currentTime:void 0}}var Br;(function(e){function n(t,i=Dn.default.Writer.create()){switch(t.duration!==0&&i.uint32(13).float(t.duration),t.easingFunction!==0&&i.uint32(16).int32(t.easingFunction),t.mode?.$case){case"move":bf.encode(t.mode.move,i.uint32(26).fork()).ldelim();break;case"rotate":Af.encode(t.mode.rotate,i.uint32(34).fork()).ldelim();break;case"scale":Rf.encode(t.mode.scale,i.uint32(42).fork()).ldelim();break;case"textureMove":Cf.encode(t.mode.textureMove,i.uint32(66).fork()).ldelim();break}return t.playing!==void 0&&i.uint32(48).bool(t.playing),t.currentTime!==void 0&&i.uint32(61).float(t.currentTime),i}e.encode=n;function s(t,i){let r=t instanceof Dn.default.Reader?t:Dn.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=kb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;u.duration=r.float();continue;case 2:if(c!==16)break;u.easingFunction=r.int32();continue;case 3:if(c!==26)break;u.mode={$case:"move",move:bf.decode(r,r.uint32())};continue;case 4:if(c!==34)break;u.mode={$case:"rotate",rotate:Af.decode(r,r.uint32())};continue;case 5:if(c!==42)break;u.mode={$case:"scale",scale:Rf.decode(r,r.uint32())};continue;case 8:if(c!==66)break;u.mode={$case:"textureMove",textureMove:Cf.decode(r,r.uint32())};continue;case 6:if(c!==48)break;u.playing=r.bool();continue;case 7:if(c!==61)break;u.currentTime=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Br||(Br={}));function Ib(){return{start:void 0,end:void 0,faceDirection:void 0}}var bf;(function(e){function n(t,i=Dn.default.Writer.create()){return t.start!==void 0&&Ze.encode(t.start,i.uint32(10).fork()).ldelim(),t.end!==void 0&&Ze.encode(t.end,i.uint32(18).fork()).ldelim(),t.faceDirection!==void 0&&i.uint32(24).bool(t.faceDirection),i}e.encode=n;function s(t,i){let r=t instanceof Dn.default.Reader?t:Dn.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Ib();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.start=Ze.decode(r,r.uint32());continue;case 2:if(c!==18)break;u.end=Ze.decode(r,r.uint32());continue;case 3:if(c!==24)break;u.faceDirection=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(bf||(bf={}));function Ob(){return{start:void 0,end:void 0}}var Af;(function(e){function n(t,i=Dn.default.Writer.create()){return t.start!==void 0&&ua.encode(t.start,i.uint32(10).fork()).ldelim(),t.end!==void 0&&ua.encode(t.end,i.uint32(18).fork()).ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof Dn.default.Reader?t:Dn.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Ob();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.start=ua.decode(r,r.uint32());continue;case 2:if(c!==18)break;u.end=ua.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Af||(Af={}));function wb(){return{start:void 0,end:void 0}}var Rf;(function(e){function n(t,i=Dn.default.Writer.create()){return t.start!==void 0&&Ze.encode(t.start,i.uint32(10).fork()).ldelim(),t.end!==void 0&&Ze.encode(t.end,i.uint32(18).fork()).ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof Dn.default.Reader?t:Dn.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=wb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.start=Ze.decode(r,r.uint32());continue;case 2:if(c!==18)break;u.end=Ze.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Rf||(Rf={}));function Mb(){return{start:void 0,end:void 0,movementType:void 0}}var Cf;(function(e){function n(t,i=Dn.default.Writer.create()){return t.start!==void 0&&In.encode(t.start,i.uint32(10).fork()).ldelim(),t.end!==void 0&&In.encode(t.end,i.uint32(18).fork()).ldelim(),t.movementType!==void 0&&i.uint32(24).int32(t.movementType),i}e.encode=n;function s(t,i){let r=t instanceof Dn.default.Reader?t:Dn.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Mb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.start=In.decode(r,r.uint32());continue;case 2:if(c!==18)break;u.end=In.decode(r,r.uint32());continue;case 3:if(c!==24)break;u.movementType=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Cf||(Cf={}));var HT={COMPONENT_ID:1102,serialize(e,n){let s=Br.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Br.decode(e.buffer(),e.remainingBytes())},create(){return Br.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTween"}};var Nf=we(ze());var GT;(function(e){e[e.TL_RESTART=0]="TL_RESTART",e[e.TL_YOYO=1]="TL_YOYO"})(GT||(GT={}));function Pb(){return{sequence:[],loop:void 0}}var ks;(function(e){function n(t,i=Nf.default.Writer.create()){for(let r of t.sequence)Br.encode(r,i.uint32(10).fork()).ldelim();return t.loop!==void 0&&i.uint32(16).int32(t.loop),i}e.encode=n;function s(t,i){let r=t instanceof Nf.default.Reader?t:Nf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Pb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.sequence.push(Br.decode(r,r.uint32()));continue;case 2:if(c!==16)break;u.loop=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(ks||(ks={}));var qT={COMPONENT_ID:1104,serialize(e,n){let s=ks.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return ks.decode(e.buffer(),e.remainingBytes())},create(){return ks.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenSequence"}};var vf=we(ze());var YT;(function(e){e[e.TS_ACTIVE=0]="TS_ACTIVE",e[e.TS_COMPLETED=1]="TS_COMPLETED",e[e.TS_PAUSED=2]="TS_PAUSED"})(YT||(YT={}));function zb(){return{state:0,currentTime:0}}var Is;(function(e){function n(t,i=vf.default.Writer.create()){return t.state!==0&&i.uint32(8).int32(t.state),t.currentTime!==0&&i.uint32(21).float(t.currentTime),i}e.encode=n;function s(t,i){let r=t instanceof vf.default.Reader?t:vf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=zb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.state=r.int32();continue;case 2:if(c!==21)break;u.currentTime=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Is||(Is={}));var JT={COMPONENT_ID:1103,serialize(e,n){let s=Is.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Is.decode(e.buffer(),e.remainingBytes())},create(){return Is.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenState"}};var kf=we(ze());var ha=we(ze());function Lb(){return{top:0,left:0,right:0,bottom:0}}var Ei;(function(e){function n(t,i=ha.default.Writer.create()){return t.top!==0&&i.uint32(13).float(t.top),t.left!==0&&i.uint32(21).float(t.left),t.right!==0&&i.uint32(29).float(t.right),t.bottom!==0&&i.uint32(37).float(t.bottom),i}e.encode=n;function s(t,i){let r=t instanceof ha.default.Reader?t:ha.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Lb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;u.top=r.float();continue;case 2:if(c!==21)break;u.left=r.float();continue;case 3:if(c!==29)break;u.right=r.float();continue;case 4:if(c!==37)break;u.bottom=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ei||(Ei={}));function Ub(){return{x:0,y:0,width:0,height:0}}var KT;(function(e){function n(t,i=ha.default.Writer.create()){return t.x!==0&&i.uint32(13).float(t.x),t.y!==0&&i.uint32(21).float(t.y),t.width!==0&&i.uint32(29).float(t.width),t.height!==0&&i.uint32(37).float(t.height),i}e.encode=n;function s(t,i){let r=t instanceof ha.default.Reader?t:ha.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Ub();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;u.x=r.float();continue;case 2:if(c!==21)break;u.y=r.float();continue;case 3:if(c!==29)break;u.width=r.float();continue;case 4:if(c!==37)break;u.height=r.float();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(KT||(KT={}));var $T;(function(e){e[e.NINE_SLICES=0]="NINE_SLICES",e[e.CENTER=1]="CENTER",e[e.STRETCH=2]="STRETCH"})($T||($T={}));function Bb(){return{color:void 0,texture:void 0,textureMode:0,textureSlices:void 0,uvs:[]}}var Os;(function(e){function n(t,i=kf.default.Writer.create()){t.color!==void 0&&yt.encode(t.color,i.uint32(10).fork()).ldelim(),t.texture!==void 0&&un.encode(t.texture,i.uint32(18).fork()).ldelim(),t.textureMode!==0&&i.uint32(24).int32(t.textureMode),t.textureSlices!==void 0&&Ei.encode(t.textureSlices,i.uint32(34).fork()).ldelim(),i.uint32(42).fork();for(let r of t.uvs)i.float(r);return i.ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof kf.default.Reader?t:kf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Bb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.color=yt.decode(r,r.uint32());continue;case 2:if(c!==18)break;u.texture=un.decode(r,r.uint32());continue;case 3:if(c!==24)break;u.textureMode=r.int32();continue;case 4:if(c!==34)break;u.textureSlices=Ei.decode(r,r.uint32());continue;case 5:if(c===45){u.uvs.push(r.float());continue}if(c===42){let h=r.uint32()+r.pos;for(;r.pos<h;)u.uvs.push(r.float());continue}break}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Os||(Os={}));var QT={COMPONENT_ID:1053,serialize(e,n){let s=Os.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Os.decode(e.buffer(),e.remainingBytes())},create(){return Os.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiBackground"}};var If=we(ze());function Db(){return{devicePixelRatio:0,width:0,height:0,interactableArea:void 0}}var ws;(function(e){function n(t,i=If.default.Writer.create()){return t.devicePixelRatio!==0&&i.uint32(13).float(t.devicePixelRatio),t.width!==0&&i.uint32(16).int32(t.width),t.height!==0&&i.uint32(24).int32(t.height),t.interactableArea!==void 0&&Ei.encode(t.interactableArea,i.uint32(34).fork()).ldelim(),i}e.encode=n;function s(t,i){let r=t instanceof If.default.Reader?t:If.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Db();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;u.devicePixelRatio=r.float();continue;case 2:if(c!==16)break;u.width=r.int32();continue;case 3:if(c!==24)break;u.height=r.int32();continue;case 4:if(c!==34)break;u.interactableArea=Ei.decode(r,r.uint32());continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(ws||(ws={}));var XT={COMPONENT_ID:1054,serialize(e,n){let s=ws.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return ws.decode(e.buffer(),e.remainingBytes())},create(){return ws.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiCanvasInformation"}};var Of=we(ze());function Wb(){return{acceptEmpty:!1,emptyLabel:void 0,options:[],selectedIndex:void 0,disabled:!1,color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var Ms;(function(e){function n(t,i=Of.default.Writer.create()){t.acceptEmpty===!0&&i.uint32(8).bool(t.acceptEmpty),t.emptyLabel!==void 0&&i.uint32(18).string(t.emptyLabel);for(let r of t.options)i.uint32(26).string(r);return t.selectedIndex!==void 0&&i.uint32(32).int32(t.selectedIndex),t.disabled===!0&&i.uint32(40).bool(t.disabled),t.color!==void 0&&yt.encode(t.color,i.uint32(50).fork()).ldelim(),t.textAlign!==void 0&&i.uint32(80).int32(t.textAlign),t.font!==void 0&&i.uint32(88).int32(t.font),t.fontSize!==void 0&&i.uint32(96).int32(t.fontSize),i}e.encode=n;function s(t,i){let r=t instanceof Of.default.Reader?t:Of.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Wb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.acceptEmpty=r.bool();continue;case 2:if(c!==18)break;u.emptyLabel=r.string();continue;case 3:if(c!==26)break;u.options.push(r.string());continue;case 4:if(c!==32)break;u.selectedIndex=r.int32();continue;case 5:if(c!==40)break;u.disabled=r.bool();continue;case 6:if(c!==50)break;u.color=yt.decode(r,r.uint32());continue;case 10:if(c!==80)break;u.textAlign=r.int32();continue;case 11:if(c!==88)break;u.font=r.int32();continue;case 12:if(c!==96)break;u.fontSize=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ms||(Ms={}));var ZT={COMPONENT_ID:1094,serialize(e,n){let s=Ms.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Ms.decode(e.buffer(),e.remainingBytes())},create(){return Ms.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdown"}};var wf=we(ze());function jb(){return{value:0}}var Ps;(function(e){function n(t,i=wf.default.Writer.create()){return t.value!==0&&i.uint32(8).int32(t.value),i}e.encode=n;function s(t,i){let r=t instanceof wf.default.Reader?t:wf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=jb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.value=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ps||(Ps={}));var eg={COMPONENT_ID:1096,serialize(e,n){let s=Ps.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Ps.decode(e.buffer(),e.remainingBytes())},create(){return Ps.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdownResult"}};var Mf=we(ze());function Fb(){return{placeholder:"",color:void 0,placeholderColor:void 0,disabled:!1,textAlign:void 0,font:void 0,fontSize:void 0,value:void 0}}var zs;(function(e){function n(t,i=Mf.default.Writer.create()){return t.placeholder!==""&&i.uint32(10).string(t.placeholder),t.color!==void 0&&yt.encode(t.color,i.uint32(18).fork()).ldelim(),t.placeholderColor!==void 0&&yt.encode(t.placeholderColor,i.uint32(26).fork()).ldelim(),t.disabled===!0&&i.uint32(32).bool(t.disabled),t.textAlign!==void 0&&i.uint32(80).int32(t.textAlign),t.font!==void 0&&i.uint32(88).int32(t.font),t.fontSize!==void 0&&i.uint32(96).int32(t.fontSize),t.value!==void 0&&i.uint32(106).string(t.value),i}e.encode=n;function s(t,i){let r=t instanceof Mf.default.Reader?t:Mf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Fb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.placeholder=r.string();continue;case 2:if(c!==18)break;u.color=yt.decode(r,r.uint32());continue;case 3:if(c!==26)break;u.placeholderColor=yt.decode(r,r.uint32());continue;case 4:if(c!==32)break;u.disabled=r.bool();continue;case 10:if(c!==80)break;u.textAlign=r.int32();continue;case 11:if(c!==88)break;u.font=r.int32();continue;case 12:if(c!==96)break;u.fontSize=r.int32();continue;case 13:if(c!==106)break;u.value=r.string();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(zs||(zs={}));var tg={COMPONENT_ID:1093,serialize(e,n){let s=zs.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return zs.decode(e.buffer(),e.remainingBytes())},create(){return zs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInput"}};var Pf=we(ze());function Vb(){return{value:"",isSubmit:void 0}}var Ls;(function(e){function n(t,i=Pf.default.Writer.create()){return t.value!==""&&i.uint32(10).string(t.value),t.isSubmit!==void 0&&i.uint32(16).bool(t.isSubmit),i}e.encode=n;function s(t,i){let r=t instanceof Pf.default.Reader?t:Pf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Vb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.value=r.string();continue;case 2:if(c!==16)break;u.isSubmit=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ls||(Ls={}));var ng={COMPONENT_ID:1095,serialize(e,n){let s=Ls.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Ls.decode(e.buffer(),e.remainingBytes())},create(){return Ls.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInputResult"}};var zf=we(ze());var og;(function(e){e[e.TW_WRAP=0]="TW_WRAP",e[e.TW_NO_WRAP=1]="TW_NO_WRAP"})(og||(og={}));function Hb(){return{value:"",color:void 0,textAlign:void 0,font:void 0,fontSize:void 0,textWrap:void 0}}var Us;(function(e){function n(t,i=zf.default.Writer.create()){return t.value!==""&&i.uint32(10).string(t.value),t.color!==void 0&&yt.encode(t.color,i.uint32(18).fork()).ldelim(),t.textAlign!==void 0&&i.uint32(24).int32(t.textAlign),t.font!==void 0&&i.uint32(32).int32(t.font),t.fontSize!==void 0&&i.uint32(40).int32(t.fontSize),t.textWrap!==void 0&&i.uint32(48).int32(t.textWrap),i}e.encode=n;function s(t,i){let r=t instanceof zf.default.Reader?t:zf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Hb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.value=r.string();continue;case 2:if(c!==18)break;u.color=yt.decode(r,r.uint32());continue;case 3:if(c!==24)break;u.textAlign=r.int32();continue;case 4:if(c!==32)break;u.font=r.int32();continue;case 5:if(c!==40)break;u.fontSize=r.int32();continue;case 6:if(c!==48)break;u.textWrap=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Us||(Us={}));var rg={COMPONENT_ID:1052,serialize(e,n){let s=Us.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Us.decode(e.buffer(),e.remainingBytes())},create(){return Us.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiText"}};var Lf=we(ze());var ig;(function(e){e[e.YGPT_RELATIVE=0]="YGPT_RELATIVE",e[e.YGPT_ABSOLUTE=1]="YGPT_ABSOLUTE"})(ig||(ig={}));var ag;(function(e){e[e.YGA_AUTO=0]="YGA_AUTO",e[e.YGA_FLEX_START=1]="YGA_FLEX_START",e[e.YGA_CENTER=2]="YGA_CENTER",e[e.YGA_FLEX_END=3]="YGA_FLEX_END",e[e.YGA_STRETCH=4]="YGA_STRETCH",e[e.YGA_BASELINE=5]="YGA_BASELINE",e[e.YGA_SPACE_BETWEEN=6]="YGA_SPACE_BETWEEN",e[e.YGA_SPACE_AROUND=7]="YGA_SPACE_AROUND"})(ag||(ag={}));var sg;(function(e){e[e.YGU_UNDEFINED=0]="YGU_UNDEFINED",e[e.YGU_POINT=1]="YGU_POINT",e[e.YGU_PERCENT=2]="YGU_PERCENT",e[e.YGU_AUTO=3]="YGU_AUTO"})(sg||(sg={}));var cg;(function(e){e[e.YGFD_ROW=0]="YGFD_ROW",e[e.YGFD_COLUMN=1]="YGFD_COLUMN",e[e.YGFD_COLUMN_REVERSE=2]="YGFD_COLUMN_REVERSE",e[e.YGFD_ROW_REVERSE=3]="YGFD_ROW_REVERSE"})(cg||(cg={}));var ug;(function(e){e[e.YGW_NO_WRAP=0]="YGW_NO_WRAP",e[e.YGW_WRAP=1]="YGW_WRAP",e[e.YGW_WRAP_REVERSE=2]="YGW_WRAP_REVERSE"})(ug||(ug={}));var lg;(function(e){e[e.YGJ_FLEX_START=0]="YGJ_FLEX_START",e[e.YGJ_CENTER=1]="YGJ_CENTER",e[e.YGJ_FLEX_END=2]="YGJ_FLEX_END",e[e.YGJ_SPACE_BETWEEN=3]="YGJ_SPACE_BETWEEN",e[e.YGJ_SPACE_AROUND=4]="YGJ_SPACE_AROUND",e[e.YGJ_SPACE_EVENLY=5]="YGJ_SPACE_EVENLY"})(lg||(lg={}));var fg;(function(e){e[e.YGO_VISIBLE=0]="YGO_VISIBLE",e[e.YGO_HIDDEN=1]="YGO_HIDDEN",e[e.YGO_SCROLL=2]="YGO_SCROLL"})(fg||(fg={}));var dg;(function(e){e[e.YGD_FLEX=0]="YGD_FLEX",e[e.YGD_NONE=1]="YGD_NONE"})(dg||(dg={}));var pg;(function(e){e[e.YGE_LEFT=0]="YGE_LEFT",e[e.YGE_TOP=1]="YGE_TOP",e[e.YGE_RIGHT=2]="YGE_RIGHT",e[e.YGE_BOTTOM=3]="YGE_BOTTOM",e[e.YGE_START=4]="YGE_START",e[e.YGE_END=5]="YGE_END",e[e.YGE_HORIZONTAL=6]="YGE_HORIZONTAL",e[e.YGE_VERTICAL=7]="YGE_VERTICAL",e[e.YGE_ALL=8]="YGE_ALL"})(pg||(pg={}));var mg;(function(e){e[e.PFM_NONE=0]="PFM_NONE",e[e.PFM_BLOCK=1]="PFM_BLOCK"})(mg||(mg={}));function Gb(){return{parent:0,rightOf:0,alignContent:void 0,alignItems:void 0,flexWrap:void 0,flexShrink:void 0,positionType:0,alignSelf:0,flexDirection:0,justifyContent:0,overflow:0,display:0,flexBasisUnit:0,flexBasis:0,flexGrow:0,widthUnit:0,width:0,heightUnit:0,height:0,minWidthUnit:0,minWidth:0,minHeightUnit:0,minHeight:0,maxWidthUnit:0,maxWidth:0,maxHeightUnit:0,maxHeight:0,positionLeftUnit:0,positionLeft:0,positionTopUnit:0,positionTop:0,positionRightUnit:0,positionRight:0,positionBottomUnit:0,positionBottom:0,marginLeftUnit:0,marginLeft:0,marginTopUnit:0,marginTop:0,marginRightUnit:0,marginRight:0,marginBottomUnit:0,marginBottom:0,paddingLeftUnit:0,paddingLeft:0,paddingTopUnit:0,paddingTop:0,paddingRightUnit:0,paddingRight:0,paddingBottomUnit:0,paddingBottom:0,pointerFilter:void 0,borderLeftWidthUnit:void 0,borderLeftWidth:void 0,borderTopWidthUnit:void 0,borderTopWidth:void 0,borderRightWidthUnit:void 0,borderRightWidth:void 0,borderBottomWidthUnit:void 0,borderBottomWidth:void 0,borderTopLeftRadiusUnit:void 0,borderTopLeftRadius:void 0,borderTopRightRadiusUnit:void 0,borderTopRightRadius:void 0,borderBottomLeftRadiusUnit:void 0,borderBottomLeftRadius:void 0,borderBottomRightRadiusUnit:void 0,borderBottomRightRadius:void 0,borderTopColor:void 0,borderBottomColor:void 0,borderLeftColor:void 0,borderRightColor:void 0,opacity:void 0,zIndex:void 0}}var Bs;(function(e){function n(t,i=Lf.default.Writer.create()){return t.parent!==0&&i.uint32(8).int32(t.parent),t.rightOf!==0&&i.uint32(16).int32(t.rightOf),t.alignContent!==void 0&&i.uint32(24).int32(t.alignContent),t.alignItems!==void 0&&i.uint32(32).int32(t.alignItems),t.flexWrap!==void 0&&i.uint32(40).int32(t.flexWrap),t.flexShrink!==void 0&&i.uint32(53).float(t.flexShrink),t.positionType!==0&&i.uint32(56).int32(t.positionType),t.alignSelf!==0&&i.uint32(64).int32(t.alignSelf),t.flexDirection!==0&&i.uint32(72).int32(t.flexDirection),t.justifyContent!==0&&i.uint32(80).int32(t.justifyContent),t.overflow!==0&&i.uint32(88).int32(t.overflow),t.display!==0&&i.uint32(96).int32(t.display),t.flexBasisUnit!==0&&i.uint32(104).int32(t.flexBasisUnit),t.flexBasis!==0&&i.uint32(117).float(t.flexBasis),t.flexGrow!==0&&i.uint32(125).float(t.flexGrow),t.widthUnit!==0&&i.uint32(128).int32(t.widthUnit),t.width!==0&&i.uint32(141).float(t.width),t.heightUnit!==0&&i.uint32(144).int32(t.heightUnit),t.height!==0&&i.uint32(157).float(t.height),t.minWidthUnit!==0&&i.uint32(160).int32(t.minWidthUnit),t.minWidth!==0&&i.uint32(173).float(t.minWidth),t.minHeightUnit!==0&&i.uint32(176).int32(t.minHeightUnit),t.minHeight!==0&&i.uint32(189).float(t.minHeight),t.maxWidthUnit!==0&&i.uint32(192).int32(t.maxWidthUnit),t.maxWidth!==0&&i.uint32(205).float(t.maxWidth),t.maxHeightUnit!==0&&i.uint32(208).int32(t.maxHeightUnit),t.maxHeight!==0&&i.uint32(221).float(t.maxHeight),t.positionLeftUnit!==0&&i.uint32(224).int32(t.positionLeftUnit),t.positionLeft!==0&&i.uint32(237).float(t.positionLeft),t.positionTopUnit!==0&&i.uint32(240).int32(t.positionTopUnit),t.positionTop!==0&&i.uint32(253).float(t.positionTop),t.positionRightUnit!==0&&i.uint32(256).int32(t.positionRightUnit),t.positionRight!==0&&i.uint32(269).float(t.positionRight),t.positionBottomUnit!==0&&i.uint32(272).int32(t.positionBottomUnit),t.positionBottom!==0&&i.uint32(285).float(t.positionBottom),t.marginLeftUnit!==0&&i.uint32(288).int32(t.marginLeftUnit),t.marginLeft!==0&&i.uint32(301).float(t.marginLeft),t.marginTopUnit!==0&&i.uint32(304).int32(t.marginTopUnit),t.marginTop!==0&&i.uint32(317).float(t.marginTop),t.marginRightUnit!==0&&i.uint32(320).int32(t.marginRightUnit),t.marginRight!==0&&i.uint32(333).float(t.marginRight),t.marginBottomUnit!==0&&i.uint32(336).int32(t.marginBottomUnit),t.marginBottom!==0&&i.uint32(349).float(t.marginBottom),t.paddingLeftUnit!==0&&i.uint32(352).int32(t.paddingLeftUnit),t.paddingLeft!==0&&i.uint32(365).float(t.paddingLeft),t.paddingTopUnit!==0&&i.uint32(368).int32(t.paddingTopUnit),t.paddingTop!==0&&i.uint32(381).float(t.paddingTop),t.paddingRightUnit!==0&&i.uint32(384).int32(t.paddingRightUnit),t.paddingRight!==0&&i.uint32(397).float(t.paddingRight),t.paddingBottomUnit!==0&&i.uint32(400).int32(t.paddingBottomUnit),t.paddingBottom!==0&&i.uint32(413).float(t.paddingBottom),t.pointerFilter!==void 0&&i.uint32(416).int32(t.pointerFilter),t.borderLeftWidthUnit!==void 0&&i.uint32(424).int32(t.borderLeftWidthUnit),t.borderLeftWidth!==void 0&&i.uint32(437).float(t.borderLeftWidth),t.borderTopWidthUnit!==void 0&&i.uint32(440).int32(t.borderTopWidthUnit),t.borderTopWidth!==void 0&&i.uint32(453).float(t.borderTopWidth),t.borderRightWidthUnit!==void 0&&i.uint32(456).int32(t.borderRightWidthUnit),t.borderRightWidth!==void 0&&i.uint32(469).float(t.borderRightWidth),t.borderBottomWidthUnit!==void 0&&i.uint32(472).int32(t.borderBottomWidthUnit),t.borderBottomWidth!==void 0&&i.uint32(485).float(t.borderBottomWidth),t.borderTopLeftRadiusUnit!==void 0&&i.uint32(488).int32(t.borderTopLeftRadiusUnit),t.borderTopLeftRadius!==void 0&&i.uint32(501).float(t.borderTopLeftRadius),t.borderTopRightRadiusUnit!==void 0&&i.uint32(504).int32(t.borderTopRightRadiusUnit),t.borderTopRightRadius!==void 0&&i.uint32(517).float(t.borderTopRightRadius),t.borderBottomLeftRadiusUnit!==void 0&&i.uint32(520).int32(t.borderBottomLeftRadiusUnit),t.borderBottomLeftRadius!==void 0&&i.uint32(533).float(t.borderBottomLeftRadius),t.borderBottomRightRadiusUnit!==void 0&&i.uint32(536).int32(t.borderBottomRightRadiusUnit),t.borderBottomRightRadius!==void 0&&i.uint32(549).float(t.borderBottomRightRadius),t.borderTopColor!==void 0&&yt.encode(t.borderTopColor,i.uint32(554).fork()).ldelim(),t.borderBottomColor!==void 0&&yt.encode(t.borderBottomColor,i.uint32(562).fork()).ldelim(),t.borderLeftColor!==void 0&&yt.encode(t.borderLeftColor,i.uint32(570).fork()).ldelim(),t.borderRightColor!==void 0&&yt.encode(t.borderRightColor,i.uint32(578).fork()).ldelim(),t.opacity!==void 0&&i.uint32(589).float(t.opacity),t.zIndex!==void 0&&i.uint32(616).int32(t.zIndex),i}e.encode=n;function s(t,i){let r=t instanceof Lf.default.Reader?t:Lf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Gb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.parent=r.int32();continue;case 2:if(c!==16)break;u.rightOf=r.int32();continue;case 3:if(c!==24)break;u.alignContent=r.int32();continue;case 4:if(c!==32)break;u.alignItems=r.int32();continue;case 5:if(c!==40)break;u.flexWrap=r.int32();continue;case 6:if(c!==53)break;u.flexShrink=r.float();continue;case 7:if(c!==56)break;u.positionType=r.int32();continue;case 8:if(c!==64)break;u.alignSelf=r.int32();continue;case 9:if(c!==72)break;u.flexDirection=r.int32();continue;case 10:if(c!==80)break;u.justifyContent=r.int32();continue;case 11:if(c!==88)break;u.overflow=r.int32();continue;case 12:if(c!==96)break;u.display=r.int32();continue;case 13:if(c!==104)break;u.flexBasisUnit=r.int32();continue;case 14:if(c!==117)break;u.flexBasis=r.float();continue;case 15:if(c!==125)break;u.flexGrow=r.float();continue;case 16:if(c!==128)break;u.widthUnit=r.int32();continue;case 17:if(c!==141)break;u.width=r.float();continue;case 18:if(c!==144)break;u.heightUnit=r.int32();continue;case 19:if(c!==157)break;u.height=r.float();continue;case 20:if(c!==160)break;u.minWidthUnit=r.int32();continue;case 21:if(c!==173)break;u.minWidth=r.float();continue;case 22:if(c!==176)break;u.minHeightUnit=r.int32();continue;case 23:if(c!==189)break;u.minHeight=r.float();continue;case 24:if(c!==192)break;u.maxWidthUnit=r.int32();continue;case 25:if(c!==205)break;u.maxWidth=r.float();continue;case 26:if(c!==208)break;u.maxHeightUnit=r.int32();continue;case 27:if(c!==221)break;u.maxHeight=r.float();continue;case 28:if(c!==224)break;u.positionLeftUnit=r.int32();continue;case 29:if(c!==237)break;u.positionLeft=r.float();continue;case 30:if(c!==240)break;u.positionTopUnit=r.int32();continue;case 31:if(c!==253)break;u.positionTop=r.float();continue;case 32:if(c!==256)break;u.positionRightUnit=r.int32();continue;case 33:if(c!==269)break;u.positionRight=r.float();continue;case 34:if(c!==272)break;u.positionBottomUnit=r.int32();continue;case 35:if(c!==285)break;u.positionBottom=r.float();continue;case 36:if(c!==288)break;u.marginLeftUnit=r.int32();continue;case 37:if(c!==301)break;u.marginLeft=r.float();continue;case 38:if(c!==304)break;u.marginTopUnit=r.int32();continue;case 39:if(c!==317)break;u.marginTop=r.float();continue;case 40:if(c!==320)break;u.marginRightUnit=r.int32();continue;case 41:if(c!==333)break;u.marginRight=r.float();continue;case 42:if(c!==336)break;u.marginBottomUnit=r.int32();continue;case 43:if(c!==349)break;u.marginBottom=r.float();continue;case 44:if(c!==352)break;u.paddingLeftUnit=r.int32();continue;case 45:if(c!==365)break;u.paddingLeft=r.float();continue;case 46:if(c!==368)break;u.paddingTopUnit=r.int32();continue;case 47:if(c!==381)break;u.paddingTop=r.float();continue;case 48:if(c!==384)break;u.paddingRightUnit=r.int32();continue;case 49:if(c!==397)break;u.paddingRight=r.float();continue;case 50:if(c!==400)break;u.paddingBottomUnit=r.int32();continue;case 51:if(c!==413)break;u.paddingBottom=r.float();continue;case 52:if(c!==416)break;u.pointerFilter=r.int32();continue;case 53:if(c!==424)break;u.borderLeftWidthUnit=r.int32();continue;case 54:if(c!==437)break;u.borderLeftWidth=r.float();continue;case 55:if(c!==440)break;u.borderTopWidthUnit=r.int32();continue;case 56:if(c!==453)break;u.borderTopWidth=r.float();continue;case 57:if(c!==456)break;u.borderRightWidthUnit=r.int32();continue;case 58:if(c!==469)break;u.borderRightWidth=r.float();continue;case 59:if(c!==472)break;u.borderBottomWidthUnit=r.int32();continue;case 60:if(c!==485)break;u.borderBottomWidth=r.float();continue;case 61:if(c!==488)break;u.borderTopLeftRadiusUnit=r.int32();continue;case 62:if(c!==501)break;u.borderTopLeftRadius=r.float();continue;case 63:if(c!==504)break;u.borderTopRightRadiusUnit=r.int32();continue;case 64:if(c!==517)break;u.borderTopRightRadius=r.float();continue;case 65:if(c!==520)break;u.borderBottomLeftRadiusUnit=r.int32();continue;case 66:if(c!==533)break;u.borderBottomLeftRadius=r.float();continue;case 67:if(c!==536)break;u.borderBottomRightRadiusUnit=r.int32();continue;case 68:if(c!==549)break;u.borderBottomRightRadius=r.float();continue;case 69:if(c!==554)break;u.borderTopColor=yt.decode(r,r.uint32());continue;case 70:if(c!==562)break;u.borderBottomColor=yt.decode(r,r.uint32());continue;case 71:if(c!==570)break;u.borderLeftColor=yt.decode(r,r.uint32());continue;case 72:if(c!==578)break;u.borderRightColor=yt.decode(r,r.uint32());continue;case 73:if(c!==589)break;u.opacity=r.float();continue;case 77:if(c!==616)break;u.zIndex=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Bs||(Bs={}));var hg={COMPONENT_ID:1050,serialize(e,n){let s=Bs.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Bs.decode(e.buffer(),e.remainingBytes())},create(){return Bs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiTransform"}};var Uf=we(ze());var yg;(function(e){e[e.VS_NONE=0]="VS_NONE",e[e.VS_ERROR=1]="VS_ERROR",e[e.VS_LOADING=2]="VS_LOADING",e[e.VS_READY=3]="VS_READY",e[e.VS_PLAYING=4]="VS_PLAYING",e[e.VS_BUFFERING=5]="VS_BUFFERING",e[e.VS_SEEKING=6]="VS_SEEKING",e[e.VS_PAUSED=7]="VS_PAUSED"})(yg||(yg={}));function qb(){return{timestamp:0,tickNumber:0,currentOffset:0,videoLength:0,state:0}}var Ds;(function(e){function n(t,i=Uf.default.Writer.create()){return t.timestamp!==0&&i.uint32(8).uint32(t.timestamp),t.tickNumber!==0&&i.uint32(16).uint32(t.tickNumber),t.currentOffset!==0&&i.uint32(29).float(t.currentOffset),t.videoLength!==0&&i.uint32(37).float(t.videoLength),t.state!==0&&i.uint32(40).int32(t.state),i}e.encode=n;function s(t,i){let r=t instanceof Uf.default.Reader?t:Uf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=qb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.timestamp=r.uint32();continue;case 2:if(c!==16)break;u.tickNumber=r.uint32();continue;case 3:if(c!==29)break;u.currentOffset=r.float();continue;case 4:if(c!==37)break;u.videoLength=r.float();continue;case 5:if(c!==40)break;u.state=r.int32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ds||(Ds={}));var Eg={COMPONENT_ID:1044,serialize(e,n){let s=Ds.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Ds.decode(e.buffer(),e.remainingBytes())},create(){return Ds.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoEvent"}};var Bf=we(ze());function Yb(){return{src:"",playing:void 0,position:void 0,volume:void 0,playbackRate:void 0,loop:void 0}}var Ws;(function(e){function n(t,i=Bf.default.Writer.create()){return t.src!==""&&i.uint32(10).string(t.src),t.playing!==void 0&&i.uint32(16).bool(t.playing),t.position!==void 0&&i.uint32(29).float(t.position),t.volume!==void 0&&i.uint32(37).float(t.volume),t.playbackRate!==void 0&&i.uint32(45).float(t.playbackRate),t.loop!==void 0&&i.uint32(48).bool(t.loop),i}e.encode=n;function s(t,i){let r=t instanceof Bf.default.Reader?t:Bf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Yb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.src=r.string();continue;case 2:if(c!==16)break;u.playing=r.bool();continue;case 3:if(c!==29)break;u.position=r.float();continue;case 4:if(c!==37)break;u.volume=r.float();continue;case 5:if(c!==45)break;u.playbackRate=r.float();continue;case 6:if(c!==48)break;u.loop=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Ws||(Ws={}));var Tg={COMPONENT_ID:1043,serialize(e,n){let s=Ws.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Ws.decode(e.buffer(),e.remainingBytes())},create(){return Ws.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoPlayer"}};var Wf=we(ze());var Df=we(ze());function Jb(){return{transitionMode:void 0}}var Fc;(function(e){function n(t,i=Df.default.Writer.create()){switch(t.transitionMode?.$case){case"time":i.uint32(13).float(t.transitionMode.time);break;case"speed":i.uint32(21).float(t.transitionMode.speed);break}return i}e.encode=n;function s(t,i){let r=t instanceof Df.default.Reader?t:Df.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Jb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==13)break;u.transitionMode={$case:"time",time:r.float()};continue;case 2:if(c!==21)break;u.transitionMode={$case:"speed",speed:r.float()};continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Fc||(Fc={}));function Kb(){return{defaultTransition:void 0,lookAtEntity:void 0}}var js;(function(e){function n(t,i=Wf.default.Writer.create()){return t.defaultTransition!==void 0&&Fc.encode(t.defaultTransition,i.uint32(10).fork()).ldelim(),t.lookAtEntity!==void 0&&i.uint32(16).uint32(t.lookAtEntity),i}e.encode=n;function s(t,i){let r=t instanceof Wf.default.Reader?t:Wf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=Kb();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==10)break;u.defaultTransition=Fc.decode(r,r.uint32());continue;case 2:if(c!==16)break;u.lookAtEntity=r.uint32();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(js||(js={}));var gg={COMPONENT_ID:1076,serialize(e,n){let s=js.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return js.decode(e.buffer(),e.remainingBytes())},create(){return js.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVirtualCamera"}};var jf=we(ze());function $b(){return{visible:void 0}}var Fs;(function(e){function n(t,i=jf.default.Writer.create()){return t.visible!==void 0&&i.uint32(8).bool(t.visible),i}e.encode=n;function s(t,i){let r=t instanceof jf.default.Reader?t:jf.default.Reader.create(t),f=i===void 0?r.len:r.pos+i,u=$b();for(;r.pos<f;){let c=r.uint32();switch(c>>>3){case 1:if(c!==8)break;u.visible=r.bool();continue}if((c&7)===4||c===0)break;r.skipType(c&7)}return u}e.decode=s})(Fs||(Fs={}));var Sg={COMPONENT_ID:1081,serialize(e,n){let s=Fs.encode(e),t=new Uint8Array(s.finish(),0,s.len);n.writeBuffer(t,!1)},deserialize(e){return Fs.decode(e.buffer(),e.remainingBytes())},create(){return Fs.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVisibilityComponent"}};var Rm=e=>e.defineComponentFromSchema("core::Animator",FE),Vc=e=>e.defineValueSetComponentFromSchema("core::AudioEvent",VE,{timestampFunction:n=>n.timestamp,maxElements:100}),Ff=e=>e.defineComponentFromSchema("core::AudioSource",HE),Vf=e=>e.defineComponentFromSchema("core::AudioStream",GE),Hc=e=>e.defineComponentFromSchema("core::AvatarAttach",qE),ya=e=>e.defineComponentFromSchema("core::AvatarBase",YE),Cm=e=>e.defineValueSetComponentFromSchema("core::AvatarEmoteCommand",JE,{timestampFunction:n=>n.timestamp,maxElements:100}),Ea=e=>e.defineComponentFromSchema("core::AvatarEquippedData",KE),_g=e=>e.defineComponentFromSchema("core::AvatarModifierArea",XE),xg=e=>e.defineComponentFromSchema("core::AvatarShape",uT),Hf=e=>e.defineComponentFromSchema("core::Billboard",fT),bg=e=>e.defineComponentFromSchema("core::CameraMode",dT),Ag=e=>e.defineComponentFromSchema("core::CameraModeArea",pT),Nm=e=>e.defineComponentFromSchema("core::EngineInfo",mT),Ta=e=>e.defineComponentFromSchema("core::GltfContainer",hT),vm=e=>e.defineComponentFromSchema("core::GltfContainerLoadingState",yT),Rg=e=>e.defineComponentFromSchema("core::GltfNodeModifiers",ST),km=e=>e.defineComponentFromSchema("core::InputModifier",_T),Im=e=>e.defineComponentFromSchema("core::LightSource",xT),Cg=e=>e.defineComponentFromSchema("core::MainCamera",bT),Om=e=>e.defineComponentFromSchema("core::Material",AT),wm=e=>e.defineComponentFromSchema("core::MeshCollider",RT),Mm=e=>e.defineComponentFromSchema("core::MeshRenderer",CT),Ng=e=>e.defineComponentFromSchema("core::NftShape",vT),ga=e=>e.defineComponentFromSchema("core::PlayerIdentityData",kT),Ti=e=>e.defineComponentFromSchema("core::PointerEvents",IT),Gc=e=>e.defineValueSetComponentFromSchema("core::PointerEventsResult",OT,{timestampFunction:n=>n.timestamp,maxElements:100}),vg=e=>e.defineComponentFromSchema("core::PointerLock",wT),kg=e=>e.defineComponentFromSchema("core::PrimaryPointerInfo",PT),Pm=e=>e.defineComponentFromSchema("core::Raycast",LT),Gf=e=>e.defineComponentFromSchema("core::RaycastResult",UT),zm=e=>e.defineComponentFromSchema("core::RealmInfo",BT),Ig=e=>e.defineComponentFromSchema("core::SkyboxTime",WT),Og=e=>e.defineComponentFromSchema("core::TextShape",jT),Lm=e=>e.defineComponentFromSchema("core::Tween",HT),Sa=e=>e.defineComponentFromSchema("core::TweenSequence",qT),qc=e=>e.defineComponentFromSchema("core::TweenState",JT),Vs=e=>e.defineComponentFromSchema("core::UiBackground",QT),Yc=e=>e.defineComponentFromSchema("core::UiCanvasInformation",XT),Jc=e=>e.defineComponentFromSchema("core::UiDropdown",ZT),Kc=e=>e.defineComponentFromSchema("core::UiDropdownResult",eg),_a=e=>e.defineComponentFromSchema("core::UiInput",tg),xa=e=>e.defineComponentFromSchema("core::UiInputResult",ng),ba=e=>e.defineComponentFromSchema("core::UiText",rg),Dr=e=>e.defineComponentFromSchema("core::UiTransform",hg),qf=e=>e.defineValueSetComponentFromSchema("core::VideoEvent",Eg,{timestampFunction:n=>n.timestamp,maxElements:100}),$c=e=>e.defineComponentFromSchema("core::VideoPlayer",Tg),Um=e=>e.defineComponentFromSchema("core::VirtualCamera",gg),Yf=e=>e.defineComponentFromSchema("core::VisibilityComponent",Sg),Bm={"core::Animator":Rm,"core::AudioEvent":Vc,"core::AudioSource":Ff,"core::AudioStream":Vf,"core::AvatarAttach":Hc,"core::AvatarBase":ya,"core::AvatarEmoteCommand":Cm,"core::AvatarEquippedData":Ea,"core::AvatarModifierArea":_g,"core::AvatarShape":xg,"core::Billboard":Hf,"core::CameraMode":bg,"core::CameraModeArea":Ag,"core::EngineInfo":Nm,"core::GltfContainer":Ta,"core::GltfContainerLoadingState":vm,"core::GltfNodeModifiers":Rg,"core::InputModifier":km,"core::LightSource":Im,"core::MainCamera":Cg,"core::Material":Om,"core::MeshCollider":wm,"core::MeshRenderer":Mm,"core::NftShape":Ng,"core::PlayerIdentityData":ga,"core::PointerEvents":Ti,"core::PointerEventsResult":Gc,"core::PointerLock":vg,"core::PrimaryPointerInfo":kg,"core::Raycast":Pm,"core::RaycastResult":Gf,"core::RealmInfo":zm,"core::SkyboxTime":Ig,"core::TextShape":Og,"core::Tween":Lm,"core::TweenSequence":Sa,"core::TweenState":qc,"core::UiBackground":Vs,"core::UiCanvasInformation":Yc,"core::UiDropdown":Jc,"core::UiDropdownResult":Kc,"core::UiInput":_a,"core::UiInputResult":xa,"core::UiText":ba,"core::UiTransform":Dr,"core::VideoEvent":qf,"core::VideoPlayer":$c,"core::VirtualCamera":Um,"core::VisibilityComponent":Yf};function wg(e){let n=Rm(e);function s(t,i){let r=n.getMutableOrNull(t);if(!r)return[null,null];let f=r.states.find(u=>u.clip===i);return f?[r,f]:[r,null]}return{...n,getClipOrNull(t,i){let[r,f]=s(t,i);return f},getClip(t,i){let[r,f]=s(t,i);if(!r)throw new Error(`There is no Animator found in the entity ${t}`);if(!f)throw new Error(`The Animator component of ${t} has no the state ${i}`);return f},playSingleAnimation(t,i,r=!0){let[f,u]=s(t,i);if(!f||!u)return!1;for(let c of f.states)c.playing=!1,c.shouldReset=!0;return u.playing=!0,u.shouldReset=r,!0},stopAllAnimations(t,i=!0){let r=n.getMutableOrNull(t);if(!r)return!1;for(let f of r.states)f.playing=!1,f.shouldReset=i;return!0}}}function Mg(e){let n=Ff(e);return{...n,playSound(s,t,i=!0){let r=n.getMutableOrNull(s);return r?(r.audioClipUrl=t,r.playing=!0,r.currentTime=i?0:r.currentTime,!0):!1},stopSound(s,t=!0){let i=n.getMutableOrNull(s);return i?(i.playing=!1,i.currentTime=t?0:i.currentTime,!0):!1}}}var Xb={Common(e){return{tex:{$case:"texture",texture:e}}},Avatar(e){return{tex:{$case:"avatarTexture",avatarTexture:e}}},Video(e){return{tex:{$case:"videoTexture",videoTexture:e}}}};function Pg(e){let n=Om(e);return{...n,Texture:Xb,setBasicMaterial(s,t){n.createOrReplace(s,{material:{$case:"unlit",unlit:t}})},setPbrMaterial(s,t){n.createOrReplace(s,{material:{$case:"pbr",pbr:t}})}}}function zg(e){let n=wm(e);function s(t){if(Array.isArray(t))return t.map(i=>i).reduce((i,r)=>i|r,0);if(t)return t}return{...n,setBox(t,i){n.createOrReplace(t,{mesh:{$case:"box",box:{}},collisionMask:s(i)})},setPlane(t,i){n.createOrReplace(t,{mesh:{$case:"plane",plane:{}},collisionMask:s(i)})},setCylinder(t,i,r,f){n.createOrReplace(t,{mesh:{$case:"cylinder",cylinder:{radiusBottom:i,radiusTop:r}},collisionMask:s(f)})},setSphere(t,i){n.createOrReplace(t,{mesh:{$case:"sphere",sphere:{}},collisionMask:s(i)})}}}function Lg(e){let n=Mm(e);return{...n,setBox(s,t){n.createOrReplace(s,{mesh:{$case:"box",box:{uvs:t||[]}}})},setPlane(s,t){n.createOrReplace(s,{mesh:{$case:"plane",plane:{uvs:t||[]}}})},setCylinder(s,t,i){n.createOrReplace(s,{mesh:{$case:"cylinder",cylinder:{radiusBottom:t,radiusTop:i}}})},setSphere(s){n.createOrReplace(s,{mesh:{$case:"sphere",sphere:{}}})}}}var Zb={Move(e){return{$case:"move",move:e}},Rotate(e){return{$case:"rotate",rotate:e}},Scale(e){return{$case:"scale",scale:e}},TextureMove(e){return{$case:"textureMove",textureMove:e}}};function Ug(e){return{...Lm(e),Mode:Zb}}var Jf=e=>({serialize(n,s){s.writeUint32(n.length);for(let t of n)e.serialize(t,s)},deserialize(n){let s=[],t=n.readUint32();for(let i=0;i<t;i++)s.push(e.deserialize(n));return s},create(){return[]},jsonSchema:{type:"array",items:e.jsonSchema,serializationType:"array"}});var Qc={serialize(e,n){n.writeInt8(e?1:0)},deserialize(e){return e.readInt8()===1},create(){return!1},jsonSchema:{type:"boolean",serializationType:"boolean"}};var Xc={serialize(e,n){n.writeInt64(BigInt(e))},deserialize(e){return Number(e.readInt64())},create(){return 0},jsonSchema:{type:"integer",serializationType:"int64"}},gi={serialize(e,n){n.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int32"}},Zc={serialize(e,n){n.writeInt16(e)},deserialize(e){return e.readInt16()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int16"}},eu={serialize(e,n){n.writeInt8(e)},deserialize(e){return e.readInt8()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int8"}};var Kf={serialize(e,n){n.writeUtf8String(e)},deserialize(e){return e.readUtf8String()},create(){return""},jsonSchema:{type:"string",serializationType:"utf8-string"}},tu=Kf;function e3(e){let t=0,i=0;for(let r in e){if(typeof e[r]=="number"){if(e[r]>2147483647||e[r]<-2147483648)throw new Error("Enum member values must be numbers within the range of -2147483648 to 2147483647.");t++}i++}if(i!==t*2)throw new Error("All enum member values must be of numeric type.")}function t3(e){for(let n in e)if(typeof e[n]!="string")throw new Error("All enum member values must be of string type.")}var n3="enum-int",$f=(e,n)=>(e3(e),{serialize(s,t){gi.serialize(s,t)},deserialize(s){return gi.deserialize(s)},create(){return n},jsonSchema:{type:"integer",enum:Object.values(e).filter(s=>Number.isInteger(s)),default:n,serializationType:n3,enumObject:e}}),o3="enum-string",Qf=(e,n)=>(t3(e),{serialize(s,t){Kf.serialize(s,t)},deserialize(s){return Kf.deserialize(s)},create(){return n},jsonSchema:{type:"string",enum:Object.values(e),default:n,serializationType:o3,enumObject:e}});var Hs={serialize(e,n){n.writeFloat32(e)},deserialize(e){return e.readFloat32()},create(){return 0},jsonSchema:{type:"number",serializationType:"float32"}},nu={serialize(e,n){n.writeFloat64(e)},deserialize(e){return e.readFloat64()},create(){return 0},jsonSchema:{type:"number",serializationType:"float64"}};var ou={serialize(e,n){n.writeFloat32(e.r),n.writeFloat32(e.g),n.writeFloat32(e.b)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32()}},create(){return{r:0,g:0,b:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"}},serializationType:"color3"}};var ru={serialize(e,n){n.writeFloat32(e.r),n.writeFloat32(e.g),n.writeFloat32(e.b),n.writeFloat32(e.a)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32(),a:e.readFloat32()}},create(){return{r:0,g:0,b:0,a:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"},a:{type:"number"}},serializationType:"color4"}};var iu={serialize(e,n){n.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"entity"}};var au={serialize(e,n){n.writeFloat32(e.x),n.writeFloat32(e.y),n.writeFloat32(e.z),n.writeFloat32(e.w)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32(),w:e.readFloat32()}},create(){return{x:0,y:0,z:0,w:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"quaternion"}};var su={serialize(e,n){n.writeFloat32(e.x),n.writeFloat32(e.y),n.writeFloat32(e.z)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32()}},create(){return{x:0,y:0,z:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"vector3"}};var Xf=(e,n)=>{let s=Object.keys(e).reduce((t,i)=>(t[i]=e[i].jsonSchema,t),{});return{serialize(t,i){for(let r in e)e[r].serialize(t[r],i)},deserialize(t){let i={};for(let r in e)i[r]=e[r].deserialize(t);return i},create(){let t={};for(let i in e)t[i]=e[i].create();return{...t,...n}},extend:t=>{let i={};for(let r in e)i[r]=e[r].create();return{...i,...n,...t}},jsonSchema:{type:"object",properties:s,serializationType:"map"}}};var Zf=e=>({serialize(n,s){n?(s.writeInt8(1),e.serialize(n,s)):s.writeInt8(0)},deserialize(n){if(n.readInt8())return e.deserialize(n)},create(){},jsonSchema:{type:e.jsonSchema.type,serializationType:"optional",optionalJsonSchema:e.jsonSchema}});var ed=e=>{let n=Object.keys(e),s=n.reduce((i,r,f)=>(i[r]=f,i),{}),t=n.reduce((i,r)=>(i[r]=e[r].jsonSchema,i),{});return{serialize({$case:i,value:r},f){let u=s[i.toString()]+1;f.writeUint8(u),e[i].serialize(r,f)},deserialize(i){let r=n[i.readInt8()-1],f=e[r].deserialize(i);return{$case:r,value:f}},create(){return{}},jsonSchema:{type:"object",properties:t,serializationType:"one-of"}}};var Bg=(e,n)=>n.includes(e.serializationType),r3=e=>Bg(e,["one-of"]),i3=()=>({type:{type:"object",serializationType:"unknown"},value:void 0}),td=e=>Bg(e,["array","map"]),Dm=(e,n,s)=>{let t=e[s],i=n[s];if(r3(t)){let r=i;if(!r.$case)return i3();let f=t.properties[r.$case];return td(f)&&(n[s]={[r.$case]:r.value}),{type:f,value:r.value}}return{type:t,value:i}};var Dg={[Qc.jsonSchema.serializationType]:Qc,[tu.jsonSchema.serializationType]:tu,[Hs.jsonSchema.serializationType]:Hs,[nu.jsonSchema.serializationType]:nu,[eu.jsonSchema.serializationType]:eu,[Zc.jsonSchema.serializationType]:Zc,[gi.jsonSchema.serializationType]:gi,[Xc.jsonSchema.serializationType]:Xc,[su.jsonSchema.serializationType]:su,[au.jsonSchema.serializationType]:au,[ou.jsonSchema.serializationType]:ou,[ru.jsonSchema.serializationType]:ru,[iu.jsonSchema.serializationType]:iu};function Gs(e){if(Dg[e.serializationType])return Dg[e.serializationType];if(e.serializationType==="map"){let n=e,s={};for(let t in n.properties)s[t]=Gs(n.properties[t]);return Xf(s)}if(e.serializationType==="optional")return Zf(Gs(e.optionalJsonSchema));if(e.serializationType==="array")return Jf(Gs(e.items));if(e.serializationType==="enum-int"){let n=e;return $f(n.enumObject,n.default)}if(e.serializationType==="enum-string"){let n=e;return Qf(n.enumObject,n.default)}if(e.serializationType==="one-of"){let n=e,s={};for(let t in n.properties)s[t]=Gs(n.properties[t]);return ed(s)}throw new Error(`${e.serializationType} is not supported as reverse schema generation.`)}function nd(e,n,s){if(e.serializationType==="map"){let{properties:t}=e,i=n;for(let r in t){let{type:f,value:u}=Dm(t,i,r);if(f.serializationType!=="unknown")if(td(f))nd(f,u,s);else{let c=s(u,f);c.changed&&(i[r]=c.value)}}}else if(e.serializationType==="array"){let{items:t}=e,i=n;for(let r=0,f=i.length;r<f;r++){let{type:u,value:c}=Dm({items:t},{items:i[r]},"items");if(td(u))nd(u,c,s);else{let h=s(c,u);h.changed&&(i[r]=h.value)}}}}var T;(function(e){e.Boolean=Qc,e.String=tu,e.Float=Hs,e.Double=nu,e.Byte=eu,e.Short=Zc,e.Int=gi,e.Int64=Xc,e.Number=Hs,e.Vector3=su,e.Quaternion=au,e.Color3=ou,e.Color4=ru,e.Entity=iu,e.EnumNumber=$f,e.EnumString=Qf,e.Array=Jf,e.Map=Xf,e.Optional=Zf,e.OneOf=ed,e.fromJson=Gs,e.mutateNestedValues=nd})(T||(T={}));function a3(e){return e.defineComponent("core-schema::Name",{value:T.String})}var Wg=a3;function s3(e){return e.defineComponent("core-schema::Sync-Components",{componentIds:T.Array(T.Int64)})}var jg=s3;function c3(e){return e.defineComponent("core-schema::Network-Entity",{networkId:T.Int64,entityId:T.Entity})}var Fg=c3;function u3(e){return e.defineComponent("core-schema::Network-Parent",{networkId:T.Int64,entityId:T.Entity})}var Vg=u3;var qs={serialize(e,n){let s=n.incrementWriteOffset(44);n.setFloat32(s,e.position.x),n.setFloat32(s+4,e.position.y),n.setFloat32(s+8,e.position.z),n.setFloat32(s+12,e.rotation.x),n.setFloat32(s+16,e.rotation.y),n.setFloat32(s+20,e.rotation.z),n.setFloat32(s+24,e.rotation.w),n.setFloat32(s+28,e.scale.x),n.setFloat32(s+32,e.scale.y),n.setFloat32(s+36,e.scale.z),n.setUint32(s+40,e.parent||0)},deserialize(e){let n=e.incrementReadOffset(44);return{position:{x:e.getFloat32(n),y:e.getFloat32(n+4),z:e.getFloat32(n+8)},rotation:{x:e.getFloat32(n+12),y:e.getFloat32(n+16),z:e.getFloat32(n+20),w:e.getFloat32(n+24)},scale:{x:e.getFloat32(n+28),y:e.getFloat32(n+32),z:e.getFloat32(n+36)},parent:e.getUint32(n+40)}},create(){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},extend(e){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0,...e}},jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"}};function Hg(e){let n=e.defineComponentFromSchema("core::Transform",qs);return{...n,create(s,t){return n.create(s,qs.extend(t))},createOrReplace(s,t){return n.createOrReplace(s,qs.extend(t))}}}function Gg(e){let n=Vf(e),s=Vc(e);return{...n,getAudioState(t){return!n.getMutableOrNull(t)||!s.has(t)?void 0:Array.from(s.get(t)).pop()}}}var Wm;(function(e){e[e.MS_NONE=0]="MS_NONE",e[e.MS_ERROR=1]="MS_ERROR",e[e.MS_LOADING=2]="MS_LOADING",e[e.MS_READY=3]="MS_READY",e[e.MS_PLAYING=4]="MS_PLAYING",e[e.MS_BUFFERING=5]="MS_BUFFERING",e[e.MS_SEEKING=6]="MS_SEEKING",e[e.MS_PAUSED=7]="MS_PAUSED"})(Wm||(Wm={}));var Vn=e=>Hg(e),od=e=>Pg(e),jm=e=>wg(e),Fm=e=>Mg(e),qg=e=>Gg(e),rd=e=>Lg(e),id=e=>zg(e),Ys=e=>Ug(e);var Js=e=>Wg(e),ad=e=>jg(e),Wr=e=>Fg(e),Ks=e=>Vg(e);var Vm={"core::Transform":1,"core::Animator":1042,"core::AudioEvent":1105,"core::AudioSource":1020,"core::AudioStream":1021,"core::AvatarAttach":1073,"core::AvatarBase":1087,"core::AvatarEmoteCommand":1088,"core::AvatarEquippedData":1091,"core::AvatarModifierArea":1070,"core::AvatarShape":1080,"core::Billboard":1090,"core::CameraMode":1072,"core::CameraModeArea":1071,"core::EngineInfo":1048,"core::GltfContainer":1041,"core::GltfContainerLoadingState":1049,"core::GltfNodeModifiers":1099,"core::InputModifier":1078,"core::LightSource":1079,"core::MainCamera":1075,"core::MapPin":1097,"core::Material":1017,"core::MeshCollider":1019,"core::MeshRenderer":1018,"core::NftShape":1040,"core::PlayerIdentityData":1089,"core::PointerEvents":1062,"core::PointerEventsResult":1063,"core::PointerLock":1074,"core::PrimaryPointerInfo":1209,"core::Raycast":1067,"core::RaycastResult":1068,"core::RealmInfo":1106,"core::SkyboxTime":1210,"core::TextShape":1030,"core::Tween":1102,"core::TweenSequence":1104,"core::TweenState":1103,"core::UiBackground":1053,"core::UiCanvasInformation":1054,"core::UiDropdown":1094,"core::UiDropdownResult":1096,"core::UiInput":1093,"core::UiInputResult":1095,"core::UiText":1052,"core::UiTransform":1050,"core::VideoEvent":1044,"core::VideoPlayer":1043,"core::VirtualCamera":1076,"core::VisibilityComponent":1081};var Jg=we(Rl());var l3=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function f3(e,n){let s=~~n^-1;for(let t=0;t<e.length;t++)s=l3[(s^e[t])&255]^s>>>8;return s^-1}function Yg(e,n=0){return f3(e,n)>>>0}var Hm=2048;function No(e){if(Vm[e])return Vm[e];let n=new Uint8Array(128);return Jg.write(e,n,0),(Yg(n)+Hm&4294967295)>>>0}var Gm=typeof process=="object"&&!1||!1;function cu(e,n){if(Gm&&e&&typeof e=="object"&&typeof e.then=="function")throw new Error(n);return e}function Kg(){let e=new Map;return{addTo(n,s){if(s<0)return!1;let t=e.get(n);return t!==void 0&&t>=s||e.set(n,s),!0},has(n,s){let t=e.get(n);return t!==void 0&&t>=s},getMap(){return e}}}var Aa=65535,d3=4294901760,AM=Aa+1,$g=Aa,qm=512,vo;(function(e){function n(t){return[(t&Aa)>>>0,((t&d3)>>16&Aa)>>>0]}e.fromEntityId=n;function s(t,i){return(t&Aa|(i&Aa)<<16)>>>0}e.toEntityId=s})(vo||(vo={}));var ln;(function(e){e[e.Unknown=0]="Unknown",e[e.UsedEntity=1]="UsedEntity",e[e.Removed=2]="Removed",e[e.Reserved=3]="Reserved"})(ln||(ln={}));function Qg(e){let n=e?.reservedStaticEntities??qm,s=n,t=new Set,i=[],r=Kg();function f(){if(s>$g-1)throw new Error(`It fails trying to generate an entity out of range ${$g}.`);let P=s++,A=r.getMap().has(P)?r.getMap().get(P)+1:0,g=vo.toEntityId(P,A);return t.has(g)?f():(t.add(g),g)}function u(){if(t.size+n>=s)return f();for(let[A,g]of r.getMap())if(g<Aa){let _=vo.toEntityId(A,g+1);if(!t.has(_)&&!i.includes(_))return t.add(_),_}return f()}function c(P){return P<n?!1:(t.has(P)?(t.delete(P),i.push(P)):y(P),!0)}function h(){let P=i;if(P.length){i=[];for(let A of P){let[g,_]=vo.fromEntityId(A);r.addTo(g,_)}}return P}function y(P){let[A,g]=vo.fromEntityId(P);r.addTo(A,g);for(let _=0;_<=g;_++)t.delete(vo.toEntityId(A,_));return!0}function w(P){let[A,g]=vo.fromEntityId(P);if(r.has(A,g))return!1;if(g>0){for(let _=0;_<=g-1;_++)t.delete(vo.toEntityId(A,_));r.addTo(A,g-1)}return t.add(P),!0}function x(P){let[A,g]=vo.fromEntityId(P);if(A<n)return ln.Reserved;if(t.has(P))return ln.UsedEntity;let _=r.getMap().get(A);return _!==void 0&&_>=g?ln.Removed:ln.Unknown}return{generateEntity:u,removeEntity:c,getExistingEntities(){return new Set(t)},getEntityState:x,releaseRemovedEntities:h,updateRemovedEntity:y,updateUsedEntity:w}}var $s=we(Rl()),At=function(e,n,s,t){if(s==="a"&&!t)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!t:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?t:s==="a"?t.call(e):t?t.value:n.get(e)},xt,Zn,Rn;function p3(e,n){let s=Math.max(e,n)+1024;return Math.ceil(s/1024)*1024}var m3=10240,pt=class{constructor(n,s,t){xt.add(this),this._buffer=n||new Uint8Array(m3),this.view=new DataView(this._buffer.buffer,this._buffer.byteOffset),this.woffset=t??(n?this._buffer.length:null)??0,this.roffset=s??0}buffer(){return this._buffer}bufferLength(){return this._buffer.length}resetBuffer(){this.roffset=0,this.woffset=0}currentReadOffset(){return this.roffset}currentWriteOffset(){return this.woffset}incrementReadOffset(n){return At(this,xt,"m",Rn).call(this,n)}remainingBytes(){return this.woffset-this.roffset}readFloat32(){return this.view.getFloat32(At(this,xt,"m",Rn).call(this,4),!0)}readFloat64(){return this.view.getFloat64(At(this,xt,"m",Rn).call(this,8),!0)}readInt8(){return this.view.getInt8(At(this,xt,"m",Rn).call(this,1))}readInt16(){return this.view.getInt16(At(this,xt,"m",Rn).call(this,2),!0)}readInt32(){return this.view.getInt32(At(this,xt,"m",Rn).call(this,4),!0)}readInt64(){return this.view.getBigInt64(At(this,xt,"m",Rn).call(this,8),!0)}readUint8(){return this.view.getUint8(At(this,xt,"m",Rn).call(this,1))}readUint16(){return this.view.getUint16(At(this,xt,"m",Rn).call(this,2),!0)}readUint32(){return this.view.getUint32(At(this,xt,"m",Rn).call(this,4),!0)}readUint64(){return this.view.getBigUint64(At(this,xt,"m",Rn).call(this,8),!0)}readBuffer(){let n=this.view.getUint32(At(this,xt,"m",Rn).call(this,4),!0);return this._buffer.subarray(At(this,xt,"m",Rn).call(this,n),At(this,xt,"m",Rn).call(this,0))}readUtf8String(){let n=this.view.getUint32(At(this,xt,"m",Rn).call(this,4),!0);return $s.read(this._buffer,At(this,xt,"m",Rn).call(this,n),At(this,xt,"m",Rn).call(this,0))}incrementWriteOffset(n){return At(this,xt,"m",Zn).call(this,n)}toBinary(){return this._buffer.subarray(0,this.woffset)}toCopiedBinary(){return new Uint8Array(this.toBinary())}writeBuffer(n,s=!0){s&&this.writeUint32(n.byteLength);let t=At(this,xt,"m",Zn).call(this,n.byteLength);this._buffer.set(n,t)}writeUtf8String(n,s=!0){let t=$s.length(n);s&&this.writeUint32(t);let i=At(this,xt,"m",Zn).call(this,t);$s.write(n,this._buffer,i)}writeFloat32(n){let s=At(this,xt,"m",Zn).call(this,4);this.view.setFloat32(s,n,!0)}writeFloat64(n){let s=At(this,xt,"m",Zn).call(this,8);this.view.setFloat64(s,n,!0)}writeInt8(n){let s=At(this,xt,"m",Zn).call(this,1);this.view.setInt8(s,n)}writeInt16(n){let s=At(this,xt,"m",Zn).call(this,2);this.view.setInt16(s,n,!0)}writeInt32(n){let s=At(this,xt,"m",Zn).call(this,4);this.view.setInt32(s,n,!0)}writeInt64(n){let s=At(this,xt,"m",Zn).call(this,8);this.view.setBigInt64(s,n,!0)}writeUint8(n){let s=At(this,xt,"m",Zn).call(this,1);this.view.setUint8(s,n)}writeUint16(n){let s=At(this,xt,"m",Zn).call(this,2);this.view.setUint16(s,n,!0)}writeUint32(n){let s=At(this,xt,"m",Zn).call(this,4);this.view.setUint32(s,n,!0)}writeUint64(n){let s=At(this,xt,"m",Zn).call(this,8);this.view.setBigUint64(s,n,!0)}getFloat32(n){return this.view.getFloat32(n,!0)}getFloat64(n){return this.view.getFloat64(n,!0)}getInt8(n){return this.view.getInt8(n)}getInt16(n){return this.view.getInt16(n,!0)}getInt32(n){return this.view.getInt32(n,!0)}getInt64(n){return this.view.getBigInt64(n,!0)}getUint8(n){return this.view.getUint8(n)}getUint16(n){return this.view.getUint16(n,!0)}getUint32(n){return this.view.getUint32(n,!0)}getUint64(n){return this.view.getBigUint64(n,!0)}setFloat32(n,s){this.view.setFloat32(n,s,!0)}setFloat64(n,s){this.view.setFloat64(n,s,!0)}setInt8(n,s){this.view.setInt8(n,s)}setInt16(n,s){this.view.setInt16(n,s,!0)}setInt32(n,s){this.view.setInt32(n,s,!0)}setInt64(n,s){this.view.setBigInt64(n,s,!0)}setUint8(n,s){this.view.setUint8(n,s)}setUint16(n,s){this.view.setUint16(n,s,!0)}setUint32(n,s){this.view.setUint32(n,s,!0)}setUint64(n,s){this.view.setBigUint64(n,s,!0)}};xt=new WeakSet,Zn=function(n){if(this.woffset+n>this._buffer.byteLength){let s=p3(this._buffer.byteLength,this.woffset+n),t=new Uint8Array(s);t.set(this._buffer);let i=this._buffer.byteOffset;this._buffer=t,this.view=new DataView(this._buffer.buffer,i)}return this.woffset+=n,this.woffset-n},Rn=function(n){if(this.roffset+n>this.woffset)throw new Error("Outside of the bounds of writen data.");return this.roffset+=n,this.roffset-n};var he;(function(e){e[e.RESERVED=0]="RESERVED",e[e.PUT_COMPONENT=1]="PUT_COMPONENT",e[e.DELETE_COMPONENT=2]="DELETE_COMPONENT",e[e.DELETE_ENTITY=3]="DELETE_ENTITY",e[e.APPEND_VALUE=4]="APPEND_VALUE",e[e.PUT_COMPONENT_NETWORK=5]="PUT_COMPONENT_NETWORK",e[e.DELETE_COMPONENT_NETWORK=6]="DELETE_COMPONENT_NETWORK",e[e.DELETE_ENTITY_NETWORK=7]="DELETE_ENTITY_NETWORK",e[e.MAX_MESSAGE_TYPE=8]="MAX_MESSAGE_TYPE"})(he||(he={}));var En=8,so;(function(e){e[e.StateUpdatedTimestamp=1]="StateUpdatedTimestamp",e[e.StateOutdatedTimestamp=2]="StateOutdatedTimestamp",e[e.NoChanges=3]="NoChanges",e[e.StateOutdatedData=4]="StateOutdatedData",e[e.StateUpdatedData=5]="StateUpdatedData",e[e.EntityWasDeleted=6]="EntityWasDeleted",e[e.EntityDeleted=7]="EntityDeleted"})(so||(so={}));var en;(function(e){function n(r){let f=r.remainingBytes();if(f<En)return!1;let u=r.getUint32(r.currentReadOffset());return!(f<u)}e.validate=n;function s(r){return n(r)?{length:r.readUint32(),type:r.readUint32()}:null}e.readHeader=s;function t(r){if(!n(r))return null;let f=r.currentReadOffset();return{length:r.getUint32(f),type:r.getUint32(f+4)}}e.getHeader=t;function i(r){let f=t(r);return f?(r.incrementReadOffset(f.length),!0):!1}e.consumeMessage=i})(en||(en={}));var Yo;(function(e){e.MESSAGE_HEADER_LENGTH=12;function n(t,i,r,f){let u=En+e.MESSAGE_HEADER_LENGTH,c=f.incrementWriteOffset(u);f.setUint32(c,u),f.setUint32(c+4,he.DELETE_COMPONENT),f.setUint32(c+8,t),f.setUint32(c+12,i),f.setUint32(c+16,r)}e.write=n;function s(t){let i=en.readHeader(t);if(!i)return null;if(i.type!==he.DELETE_COMPONENT)throw new Error("DeleteComponentOperation tried to read another message type.");return{...i,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32()}}e.read=s})(Yo||(Yo={}));var jr;(function(e){e.MESSAGE_HEADER_LENGTH=16;function n(t,i,r,f,u){let c=u.incrementWriteOffset(En+e.MESSAGE_HEADER_LENGTH);u.writeBuffer(f,!1);let h=u.currentWriteOffset()-c;u.setUint32(c,h),u.setUint32(c+4,he.APPEND_VALUE),u.setUint32(c+8,t),u.setUint32(c+12,r),u.setUint32(c+16,i);let y=h-e.MESSAGE_HEADER_LENGTH-En;u.setUint32(c+20,y)}e.write=n;function s(t){let i=en.readHeader(t);if(!i)return null;if(i.type!==he.APPEND_VALUE)throw new Error("AppendValueOperation tried to read another message type.");return{...i,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}e.read=s})(jr||(jr={}));var Fr;(function(e){e.MESSAGE_HEADER_LENGTH=4;function n(t,i){i.writeUint32(En+4),i.writeUint32(he.DELETE_ENTITY),i.writeUint32(t)}e.write=n;function s(t){let i=en.readHeader(t);if(!i)return null;if(i.type!==he.DELETE_ENTITY)throw new Error("DeleteEntity tried to read another message type.");return{...i,entityId:t.readUint32()}}e.read=s})(Fr||(Fr={}));var eo;(function(e){e.MESSAGE_HEADER_LENGTH=16;function n(t,i,r,f,u){let c=u.incrementWriteOffset(En+e.MESSAGE_HEADER_LENGTH);u.writeBuffer(f,!1);let h=u.currentWriteOffset()-c;u.setUint32(c,h),u.setUint32(c+4,he.PUT_COMPONENT),u.setUint32(c+8,t),u.setUint32(c+12,r),u.setUint32(c+16,i);let y=h-e.MESSAGE_HEADER_LENGTH-En;u.setUint32(c+20,y)}e.write=n;function s(t){let i=en.readHeader(t);if(!i)return null;if(i.type!==he.PUT_COMPONENT)throw new Error("PutComponentOperation tried to read another message type.");return{...i,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}e.read=s})(eo||(eo={}));var hr;(function(e){e.MESSAGE_HEADER_LENGTH=20;function n(t,i,r,f,u,c){let h=c.incrementWriteOffset(En+e.MESSAGE_HEADER_LENGTH);c.writeBuffer(u,!1);let y=c.currentWriteOffset()-h;c.setUint32(h,y),c.setUint32(h+4,he.PUT_COMPONENT_NETWORK),c.setUint32(h+8,t),c.setUint32(h+12,r),c.setUint32(h+16,i),c.setUint32(h+20,f);let w=y-e.MESSAGE_HEADER_LENGTH-En;c.setUint32(h+24,w)}e.write=n;function s(t){let i=en.readHeader(t);if(!i)return null;if(i.type!==he.PUT_COMPONENT_NETWORK)throw new Error("PutComponentNetworkOperation tried to read another message type.");return{...i,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),networkId:t.readUint32(),data:t.readBuffer()}}e.read=s})(hr||(hr={}));var Si;(function(e){e.MESSAGE_HEADER_LENGTH=16;function n(t,i,r,f,u){let c=En+e.MESSAGE_HEADER_LENGTH,h=u.incrementWriteOffset(c);u.setUint32(h,c),u.setUint32(h+4,he.DELETE_COMPONENT_NETWORK),u.setUint32(h+8,t),u.setUint32(h+12,i),u.setUint32(h+16,r),u.setUint32(h+20,f)}e.write=n;function s(t){let i=en.readHeader(t);if(!i)return null;if(i.type!==he.DELETE_COMPONENT_NETWORK)throw new Error("DeleteComponentOperation tried to read another message type.");return{...i,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),networkId:t.readUint32()}}e.read=s})(Si||(Si={}));var _i;(function(e){e.MESSAGE_HEADER_LENGTH=8;function n(t,i,r){r.writeUint32(En+4),r.writeUint32(he.DELETE_ENTITY_NETWORK),r.writeUint32(t),r.writeUint32(i)}e.write=n;function s(t){let i=en.readHeader(t);if(!i)return null;if(i.type!==he.DELETE_ENTITY_NETWORK)throw new Error("DeleteEntityNetwork tried to read another message type.");return{...i,entityId:t.readUint32(),networkId:t.readUint32()}}e.read=s})(_i||(_i={}));function sd(e){return[he.DELETE_COMPONENT_NETWORK,he.DELETE_ENTITY_NETWORK,he.PUT_COMPONENT_NETWORK].includes(e.type)}function Xg(e,n,s,t){let i=s.currentWriteOffset();e.type===he.PUT_COMPONENT_NETWORK?eo.write(n,e.timestamp,e.componentId,e.data,s):e.type===he.DELETE_COMPONENT_NETWORK?Yo.write(n,e.componentId,e.timestamp,s):e.type===he.DELETE_ENTITY_NETWORK&&Fr.write(n,s),t.writeBuffer(s.buffer().subarray(i,s.currentWriteOffset()),!1)}function Zg(e,n,s,t){let i=s.currentWriteOffset();e.type===he.PUT_COMPONENT?hr.write(n.entityId,e.timestamp,e.componentId,n.networkId,e.data,s):e.type===he.DELETE_COMPONENT?Si.write(n.entityId,e.componentId,e.timestamp,n.networkId,s):e.type===he.DELETE_ENTITY&&_i.write(n.entityId,n.networkId,s),t.writeBuffer(s.buffer().subarray(i,s.currentWriteOffset()),!1)}var Ym=new pt;function cd(e,n,s){Ym.resetBuffer();let t=n;if(!t&&"data"in e&&(t=qs.deserialize(new pt(e.data))),!t)throw new Error("Invalid parent transform");let i={...t,parent:s};return qs.serialize(i,Ym),Ym.toBinary()}var uu=12;function e1(e,n){let s=[],t=Wr(e),i=Ks(e),r=Vn(e),f=[],u=[];function c(A){return function(_){let b=new pt(_),M;for(;M=en.getHeader(b);){let q=b.currentReadOffset(),ue;M.type===he.DELETE_COMPONENT?ue=Yo.read(b):M.type===he.DELETE_COMPONENT_NETWORK?ue=Si.read(b):M.type===he.PUT_COMPONENT?ue=eo.read(b):M.type===he.PUT_COMPONENT_NETWORK?ue=hr.read(b):M.type===he.DELETE_ENTITY?ue=Fr.read(b):M.type===he.DELETE_ENTITY_NETWORK?ue=_i.read(b):M.type===he.APPEND_VALUE?ue=jr.read(b):b.incrementReadOffset(M.length),ue&&f.push({...ue,transportId:A,messageBuffer:b.buffer().subarray(q,b.currentReadOffset())})}}}function h(A){return A.splice(0,A.length)}function y(A){if("networkId"in A){for(let[_,b]of e.getEntitiesWith(t))if(b.networkId===A.networkId&&b.entityId===A.entityId)return{entityId:_,network:b}}return{entityId:A.entityId}}async function w(){let A=h(f),g=[];for(let _ of A){let{entityId:b,network:M}=y(_);if(sd(_)&&!M&&(b=e.addEntity(),M={entityId:_.entityId,networkId:_.networkId},t.createOrReplace(b,M)),_.type===he.DELETE_ENTITY||_.type===he.DELETE_ENTITY_NETWORK)g.push(b),u.push(_);else{let q=e.entityContainer.getEntityState(b);if(q===ln.Removed)continue;q===ln.Unknown&&e.entityContainer.updateUsedEntity(b);let ue=e.getComponentOrNull(_.componentId);if(ue){_.type===he.PUT_COMPONENT&&ue.componentId===r.componentId&&t.has(b)&&i.has(b)&&(_.data=cd(_));let[be,ae]=ue.updateFromCrdt({..._,entityId:b});be||(u.push(_),n&&n(b,_.type,ue,ae))}else u.push(_)}}for(let _ of g){for(let b of e.componentsIter())b.entityDeleted(_,!0);e.entityContainer.updateRemovedEntity(_),n&&n(_,he.DELETE_ENTITY)}}async function x(A){let g=h(u),_=new pt;for(let M of e.componentsIter())for(let q of M.getCrdtUpdates()){let ue=_.currentWriteOffset();if(s.some(be=>be.filter(q))&&(q.type===he.PUT_COMPONENT?eo.write(q.entityId,q.timestamp,q.componentId,q.data,_):q.type===he.DELETE_COMPONENT?Yo.write(q.entityId,M.componentId,q.timestamp,_):q.type===he.APPEND_VALUE&&jr.write(q.entityId,q.timestamp,q.componentId,q.data,_),g.push({...q,messageBuffer:_.buffer().subarray(ue,_.currentWriteOffset())})),n){let be=q.type===he.PUT_COMPONENT||q.type===he.APPEND_VALUE?M.get(q.entityId):void 0;n(q.entityId,q.type,M,be)}}for(let M of A){let q=_.currentWriteOffset();Fr.write(M,_),g.push({type:he.DELETE_ENTITY,entityId:M,messageBuffer:_.buffer().subarray(q,_.currentWriteOffset())}),n&&n(M,he.DELETE_ENTITY)}let b=new pt;for(let M in s){let q=[],ue=Number(M),be=s[ue],ae=be.type==="renderer",se=be.type==="network";b.resetBuffer();let ee=new pt;for(let F of g){let z=b.toBinary().byteLength,R=F.messageBuffer.byteLength;if(se&&(z+R)/1024>uu&&(z>0&&(q.push(b.toCopiedBinary()),b.resetBuffer()),R/1024>uu)){console.error(`Message too large (${R} bytes), skipping message for entity ${F.entityId}`);continue}if(F.transportId===ue||!be.filter(F))continue;let{entityId:G}=y(F),$="componentId"in F&&F.componentId===r.componentId&&r.has(G)&&i.has(G)&&t.has(G);if(ae&&F.type===he.PUT_COMPONENT&&$){let ie=y(i.get(G)),Te=cd(F,r.get(G),ie.entityId),Pe=ee.currentWriteOffset();eo.write(G,F.timestamp,F.componentId,Te,ee),b.writeBuffer(ee.buffer().subarray(Pe,ee.currentWriteOffset()),!1);continue}if(ae&&sd(F)){let ie="data"in F?F.data:new Uint8Array;if($){let Te=y(i.get(G));ie=cd(F,r.get(G),Te.entityId)}Xg({...F,data:ie},G,ee,b);continue}if(se&&!sd(F)){let ie=t.getOrNull(F.entityId);if(ie){Zg(F,ie,ee,b);continue}}b.writeBuffer(F.messageBuffer,!1)}se&&b.currentWriteOffset()&&q.push(b.toBinary());let H=se?q:b.toBinary();await be.send(H)}}function P(A){let g=s.push(A)-1;A.onmessage=c(g)}return{sendMessages:x,receiveMessages:w,addTransport:P}}var t1;(function(e){let n;(function(s){s[s.NETWORKED=0]="NETWORKED",s[s.RENDERER=1]="RENDERER"})(n=e.SynchronizedEntityType||(e.SynchronizedEntityType={}))})(t1||(t1={}));function lu(e,n){if(e===n)return 0;if(e===null&&n!==null)return-1;if(e!==null&&n===null)return 1;if(e instanceof Uint8Array&&n instanceof Uint8Array){let s=e.byteLength-n.byteLength;if(s!==0)return s>0?1:-1;let t;for(let i=0,r=e.byteLength;i<r;i++)if(t=e[i]-n[i],t!==0)return t>0?1:-1;return 0}if(typeof e=="string"){let s=e.length-n.length;return s!==0?s>0?1:-1:e.localeCompare(n)}return e>n?1:-1}function Jm(e){return Object.freeze({...e})}function y3(e,n){let s=(n.get(e)||0)+1;return n.set(e,s),s}function E3(e,n,s,t){return function(r,f){for(let[u,c]of n)if(!(f&&!f(u)))if(t.has(u)){let h=t.get(u),y=new pt;s.serialize(h,y),eo.write(u,c,e,y.toBinary(),r)}else Yo.write(u,e,c,r)}}function T3(e,n,s,t){function i(r){let{entityId:f,timestamp:u}=r,c=n.get(f);if(c===void 0||c<u)return so.StateUpdatedTimestamp;if(c>u)return so.StateOutdatedTimestamp;if(r.type===he.DELETE_COMPONENT&&!t.has(f))return so.NoChanges;let h=0;if(t.has(f)){let y=new pt;s.serialize(t.get(f),y),h=lu(y.toBinary(),r.data||null)}else h=lu(null,r.data);return h===0?so.NoChanges:h>0?so.StateOutdatedData:so.StateUpdatedData}return r=>{if(r.type!==he.PUT_COMPONENT&&r.type!==he.PUT_COMPONENT_NETWORK&&r.type!==he.DELETE_COMPONENT&&r.type!==he.DELETE_COMPONENT_NETWORK)return[null,t.get(r.entityId)];let f=i(r),u=r.entityId;switch(f){case so.StateUpdatedData:case so.StateUpdatedTimestamp:{if(n.set(u,r.timestamp),r.type===he.PUT_COMPONENT||r.type===he.PUT_COMPONENT_NETWORK){let c=new pt(r.data);t.set(u,s.deserialize(c))}else t.delete(u);return[null,t.get(u)]}case so.StateOutdatedTimestamp:case so.StateOutdatedData:if(t.has(u)){let c=new pt;return s.serialize(t.get(u),c),[{type:he.PUT_COMPONENT,componentId:e,data:c.toBinary(),entityId:u,timestamp:n.get(u)},t.get(u)]}else return[{type:he.DELETE_COMPONENT,componentId:e,entityId:u,timestamp:n.get(u)},void 0]}return[null,t.get(u)]}}function g3(e,n,s,t,i){return function*(){for(let r of s){let f=y3(r,n);if(i.has(r)){let u=new pt;t.serialize(i.get(r),u),yield{type:he.PUT_COMPONENT,componentId:e,entityId:r,data:u.toBinary(),timestamp:f}}else yield{type:he.DELETE_COMPONENT,componentId:e,entityId:r,timestamp:f}}s.clear()}}function Km(e,n,s){let t=new Map,i=new Set,r=new Map,f=new Map;return{get componentId(){return n},get componentName(){return e},get componentType(){return 0},schema:s,has(u){return t.has(u)},deleteFrom(u,c=!0){let h=t.get(u);return t.delete(u)&&c&&i.add(u),h||null},entityDeleted(u,c){t.delete(u)&&c&&i.add(u)},getOrNull(u){let c=t.get(u);return c?Jm(c):null},get(u){let c=t.get(u);if(!c)throw new Error(`[getFrom] Component ${e} for entity #${u} not found`);return Jm(c)},create(u,c){if(t.get(u))throw new Error(`[create] Component ${e} for ${u} already exists`);let y=c===void 0?s.create():s.extend?s.extend(c):c;return t.set(u,y),i.add(u),y},createOrReplace(u,c){let h=c===void 0?s.create():s.extend?s.extend(c):c;return t.set(u,h),i.add(u),h},getMutableOrNull(u){let c=t.get(u);return c?(i.add(u),c):null},getOrCreateMutable(u,c){let h=t.get(u);return h?(i.add(u),h):this.create(u,c)},getMutable(u){let c=this.getMutableOrNull(u);if(c===null)throw new Error(`[mutable] Component ${e} for ${u} not found`);return c},*iterator(){for(let[u,c]of t)yield[u,c]},*dirtyIterator(){for(let u of i)yield u},getCrdtUpdates:g3(n,r,i,s,t),updateFromCrdt:T3(n,r,s,t),dumpCrdtStateToBuffer:E3(n,r,s,t),onChange(u,c){let h=f.get(u)??[];h.push(c),f.set(u,h)},__onChangeCallbacks(u,c){let h=f.get(u);if(h)for(let y of h)y(c)}}}function n1(){let e=[];function n(){e.sort((i,r)=>r.priority-i.priority)}function s(i,r,f){let u=f??i.name;if(e.find(c=>c.fn===i))throw new Error(`System ${JSON.stringify(u)} already added to the engine`);e.push({fn:i,priority:r,name:u}),n()}function t(i){let r=-1;return typeof i=="string"?r=e.findIndex(f=>f.name===i):r=e.findIndex(f=>f.fn===i),r===-1?!1:(e.splice(r,1),n(),!0)}return{add:s,remove:t,getSystems(){return e}}}var $m=r1(new Set);function o1(){throw new Error("The set is frozen")}function r1(e){return e.add=o1,e.clear=o1,e}function S3(e,n){return e.timestamp>n.timestamp?1:-1}function i1(e,n,s,t){let i=new Map,r=new Set,f=[],u=new Map;function c(x){let P=x.raw.length;return P>1&&x.raw[P-1].timestamp<=x.raw[P-2].timestamp}function h(x){let P=i.get(x);if(P){for(c(P)&&P.raw.sort(S3);P.raw.length>t.maxElements;)P.raw.shift();let A=r1(new Set(P?.raw.map(g=>g.value)));return P.frozenSet=A,A}else return $m}function y(x,P){let A=i.get(x);A||(A={raw:[],frozenSet:$m},i.set(x,A));let g=s.extend?s.extend(P):P,_=t.timestampFunction(g);return Gm&&Object.freeze(g),A.raw.push({value:g,timestamp:_}),{set:h(x),value:g}}return{get componentId(){return n},get componentName(){return e},get componentType(){return 1},schema:s,has(x){return i.has(x)},entityDeleted(x){i.delete(x)},get(x){let P=i.get(x);return P?P.frozenSet:$m},addValue(x,P){let{set:A,value:g}=y(x,P);r.add(x);let _=new pt;return s.serialize(g,_),f.push({componentId:n,data:_.toBinary(),entityId:x,timestamp:0,type:he.APPEND_VALUE}),A},*iterator(){for(let[x,P]of i)yield[x,P.frozenSet]},*dirtyIterator(){for(let x of r)yield x},getCrdtUpdates(){return r.clear(),f.splice(0,f.length)},updateFromCrdt(x){if(x.type===he.APPEND_VALUE){let P=new pt(x.data),{value:A}=y(x.entityId,s.deserialize(P));return[null,A]}return[null,void 0]},dumpCrdtStateToBuffer:function(x,P){for(let[A,{raw:g}]of i)if(!(P&&!P(A)))for(let _ of g){let b=new pt;s.serialize(_.value,b),jr.write(A,0,n,b.toBinary(),x)}},onChange(x,P){let A=u.get(x)??[];A.push(P),u.set(x,A)},__onChangeCallbacks(x,P){let A=u.get(x);if(A)for(let g of A)g(P)}}}function*a1(e,n){if(n.has(e)){n.delete(e);for(let[s,t]of n)t.parent===e&&(yield*a1(s,n));yield e}}function Qs(e,n,s){let t=new Map(e.getEntitiesWith(s));return a1(n,t)}function s1(e,n){let s=Ks(e),t=Wr(e);e.removeEntity(n);let i=t.getOrNull(n);if(i)for(let[r,f]of e.getEntitiesWith(s))f.entityId===i.entityId&&f.networkId===i.networkId&&s1(e,r)}function c1(e,n){let s=Vn(e);if(Wr(e).has(n))return s1(e,n);for(let i of Qs(e,n,s))e.removeEntity(i)}var u1=[0,1,2,4,5,6,7,8,9,10,11,12,13],_3=1<<20;function Qm(e){let n=Gc(e),s={previousFrameMaxTimestamp:0,currentFrameMaxTimestamp:0,buttonState:new Map,thisFrameCommands:[]};function t(g,_,b){let M=n.get(b);for(let q of Array.from(M).reverse())if(q.button===_&&q.state===g)return q}function*i(g,_){let b=n.get(_);for(let M of Array.from(b).reverse())M.button===g&&(yield M)}function r(){let g=s.currentFrameMaxTimestamp;s.previousFrameMaxTimestamp=g,s.thisFrameCommands.length&&(s.thisFrameCommands=[]);for(let[,_]of e.getEntitiesWith(n)){let b=Array.from(_);for(let M=b.length-1;M>=0;M--){let q=b[M];if(q.timestamp>g&&(g=q.timestamp),q.timestamp>s.previousFrameMaxTimestamp&&s.thisFrameCommands.push(q),q.state===0||q.state===1){let ue=s.buttonState.get(q.button);if(!ue||q.timestamp>ue.timestamp)s.buttonState.set(q.button,q);else break}}}s.currentFrameMaxTimestamp=g}e.addSystem(r,_3,"@dcl/ecs#inputSystem");function f(g){return g>s.previousFrameMaxTimestamp&&g<=s.currentFrameMaxTimestamp}function u(g,_){if(g!==3)return c(g,_);for(let b of u1){let M=c(b,_);if(M)return M}return null}function c(g,_){let b=null,M=null;for(let q of i(g,_))if(M){if(!b&&q.state===1){b=q;break}}else if(q.state===0){M=q;continue}return!M||!b?null:b.timestamp<M.timestamp&&f(M.timestamp)?{up:M,down:b}:null}function h(g,_,b){if(g!==3)return w(g,_,b);for(let M of u1){let q=w(M,_,b);if(q)return q}return null}function y(g,_,b){if(b)return h(g,_,b);for(let M of s.thisFrameCommands)if((M.button===g||g===3)&&M.state===_)return M;return null}function w(g,_,b){let M=t(_,g,b);return M&&f(M.timestamp)?M:null}function x(g,_){return u(g,_)!==null}function P(g,_,b){if(b){let M=t(_,g,b);return M&&f(M.timestamp)||!1}else{for(let M of s.thisFrameCommands)if((M.button===g||g===3)&&M.state===_)return!0;return!1}}function A(g){return s.buttonState.get(g)?.state===1}return{isPressed:A,getClick:u,getInputCommand:y,isClicked:x,isTriggered:P}}var l1;(function(e){e[e.LastWriteWinElementSet=0]="LastWriteWinElementSet",e[e.GrowOnlyValueSet=1]="GrowOnlyValueSet"})(l1||(l1={}));function b3(e){let n=e?.entityContainer??Qg(),s=new Map,t=n1(),i=!1;function r(ee,H=1e5,F){t.add(ee,H,F)}function f(ee){return t.remove(ee)}function u(){return n.generateEntity()}function c(ee){for(let[,H]of s)H.componentName!=="core-schema::Network-Entity"&&H.entityDeleted(ee,!0);return n.removeEntity(ee)}function h(ee){return c1({removeEntity:c,defineComponentFromSchema:w,getEntitiesWith:_,defineComponent:P},ee)}function y(ee,H){if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let F=No(ee);if(s.get(F))throw new Error(`Component number ${F} was already registered.`);if(H.componentName!==ee)throw new Error(`Component name doesn't match componentDefinition.componentName ${ee} != ${H.componentName}`);if(H.componentId!==F)throw new Error(`Component number doesn't match componentDefinition.componentId ${F} != ${H.componentId}`);return s.set(F,H),H}function w(ee,H){let F=No(ee),z=s.get(F);if(z)return z;if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let R=Km(ee,F,H);return s.set(F,R),R}function x(ee,H,F){let z=No(ee),R=s.get(z);if(R)return R;if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let G=i1(ee,z,H,F);return s.set(z,G),G}function P(ee,H,F){let z=No(ee),R=s.get(z);if(R)return R;if(i)throw new Error("Engine is already sealed. No components can be added at this stage");let G=T.Map(H,F),$=Km(ee,z,G),ie={...$,create(Te,Pe){return $.create(Te,Pe)},createOrReplace(Te,Pe){return $.createOrReplace(Te,Pe)}};return s.set(z,ie),ie}function A(ee){let H=typeof ee=="number"?ee:No(ee),F=s.get(H);if(!F)throw new Error(`Component ${ee} not found. You need to declare the components at the beginnig of the engine declaration`);return F}function g(ee){let H=typeof ee=="number"?ee:No(ee);return s.get(H)??null}function*_(...ee){for(let[H,...F]of q(...ee))yield[H,...F.map(z=>z.get(H))]}function b(ee){let H=Js({defineComponent:P});for(let[F,z]of _(H))if(z.value===ee)return F;return null}function M(ee){return b(ee)}function*q(...ee){let[H,...F]=ee;for(let[z]of H.iterator()){let R=!0;for(let G of F)if(!G.has(z)){R=!1;break}R&&(yield[z,...ee])}}function ue(){return t.getSystems()}function be(){return s.values()}function ae(ee){if(i)throw new Error("Engine is already sealed. No components can be removed at this stage");let H=typeof ee=="number"?ee:No(ee);s.delete(H)}Vn({defineComponentFromSchema:w});function se(){i||(i=!0)}return{addEntity:u,removeEntity:c,removeEntityWithChildren:h,addSystem:r,getSystems:ue,removeSystem:f,defineComponent:P,defineComponentFromSchema:w,defineValueSetComponentFromSchema:x,getEntitiesWith:_,getComponent:A,getComponentOrNull:g,getEntityOrNullByName:b,getEntityByName:M,removeComponentDefinition:ae,registerComponentDefinition:y,entityContainer:n,componentsIter:be,seal:se}}function f1(e){let n=b3(e),t=e1(n,(r,f,u,c)=>{if(f===he.DELETE_ENTITY)for(let h of n.componentsIter())h?.__onChangeCallbacks(r,void 0);else u?.__onChangeCallbacks(r,c);return e?.onChangeFunction(r,f,u,c)});async function i(r){await t.receiveMessages();for(let u of n.getSystems()){let c=u.fn(r);cu(c,`A system (${u.name||"anonymous"}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`)}let f=n.entityContainer.releaseRemovedEntities();await t.sendMessages(f)}return{_id:Date.now(),addEntity:n.addEntity,removeEntity:n.removeEntity,removeEntityWithChildren:n.removeEntityWithChildren,addSystem:n.addSystem,removeSystem:n.removeSystem,defineComponent:n.defineComponent,defineComponentFromSchema:n.defineComponentFromSchema,defineValueSetComponentFromSchema:n.defineValueSetComponentFromSchema,registerComponentDefinition:n.registerComponentDefinition,getEntitiesWith:n.getEntitiesWith,getComponent:n.getComponent,getComponentOrNull:n.getComponentOrNull,removeComponentDefinition:n.removeComponentDefinition,componentsIter:n.componentsIter,seal:n.seal,getEntityOrNullByName:n.getEntityOrNullByName,getEntityByName:n.getEntityByName,update:i,RootEntity:0,PlayerEntity:1,CameraEntity:2,getEntityState:n.entityContainer.getEntityState,addTransport:t.addTransport,entityContainer:n.entityContainer}}var fu=(e={})=>({button:3,...e});function Xm(e,n){let s=Ti(e),t;(function(A){A[A.Click=0]="Click",A[A.Down=1]="Down",A[A.Up=2]="Up",A[A.HoverEnter=3]="HoverEnter",A[A.HoverLeave=4]="HoverLeave"})(t||(t={}));let i=new Map;function r(A){return i.get(A)||i.set(A,new Map).get(A)}function f(A,g,_){(s.getMutableOrNull(A)||s.create(A)).pointerEvents.push({eventType:g,eventInfo:{button:_.button,showFeedback:_.showFeedback,showHighlight:_.showHighlight,hoverText:_.hoverText,maxDistance:_.maxDistance}})}function u(A,g,_){let b=s.getMutableOrNull(A);b&&(b.pointerEvents=b.pointerEvents.filter(M=>!(M.eventInfo?.button===_&&M.eventType===g)))}function c(A){return A===t.Up?0:A===t.HoverLeave?3:A===t.HoverEnter?2:1}function h(A,g){let _=r(A),b=_.get(g);b?.opts.hoverText&&u(A,c(g),b.opts.button),_.delete(g)}e.addSystem(function(){for(let[g,_]of i){if(e.getEntityState(g)===ln.Removed){i.delete(g);continue}for(let[b,{cb:M,opts:q}]of _){if(b===t.Click){let ue=n.getClick(q.button,g);ue&&cu(M(ue.up),"Click event returned a thenable. Only synchronous functions are allowed")}if(b===t.Down||b===t.Up||b===t.HoverEnter||b===t.HoverLeave){let ue=n.getInputCommand(q.button,c(b),g);ue&&cu(M(ue),"Event handler returned a thenable. Only synchronous functions are allowed")}}}});let y=(...A)=>{let[g,_,b]=A;if(typeof g=="number")return y({entity:g,opts:b??{}},_);let{entity:M,opts:q}=g,ue=fu(q);h(M,t.Down),r(M).set(t.Down,{cb:_,opts:ue}),f(M,1,ue)},w=(...A)=>{let[g,_,b]=A;if(typeof g=="number")return w({entity:g,opts:b??{}},_);let{entity:M,opts:q}=g,ue=fu(q);h(M,t.Up),r(M).set(t.Up,{cb:_,opts:ue}),f(M,0,ue)};return{removeOnClick(A){h(A,t.Click)},removeOnPointerDown(A){h(A,t.Down)},removeOnPointerUp(A){h(A,t.Up)},removeOnPointerHoverEnter(A){h(A,t.HoverEnter)},removeOnPointerHoverLeave(A){h(A,t.HoverLeave)},onClick(A,g){let{entity:_}=A,b=fu(A.opts);h(_,t.Click),r(_).set(t.Click,{cb:g,opts:b}),f(_,1,b)},onPointerDown:y,onPointerUp:w,onPointerHoverEnter:(...A)=>{let[g,_]=A,{entity:b,opts:M}=g,q=fu(M);h(b,t.HoverEnter),r(b).set(t.HoverEnter,{cb:_,opts:q}),f(b,2,q)},onPointerHoverLeave:(...A)=>{let[g,_]=A,{entity:b,opts:M}=g,q=fu(M);h(b,t.HoverLeave),r(b).set(t.HoverLeave,{cb:_,opts:q}),f(b,3,q)}}}var Zm=new Map;function ud(e){if(Zm.has(e._id))return Zm.get(e._id);let n=Ys(e),s=qc(e),t=Sa(e),i=new Map;function r(y){let w=s.getOrNull(y),x=n.getOrNull(y),P=i.get(y);return!w||!x?!1:!!((f(y)||w.state===1)&&!P?.completed&&(P?.frames??0)>2)}function f(y){let w=n.getOrNull(y),x=i.get(y)?.tween;if(w&&!x||!w&&x)return!0;let P=new pt;return n.schema.serialize(w,P),lu(P.toBinary(),x)}let u=[];e.addSystem(()=>{for(let y of u)y();u.length=0;for(let[y,w]of e.getEntitiesWith(n)){if(f(y)){let P=new pt;n.schema.serialize(w,P),i.set(y,{tween:P.toBinary(),frames:0,completed:!1,changed:!0});continue}let x=i.get(y);if(x.frames+=1,x.changed=!1,r(y)){x.frames=0,x.completed=!0;let P=t.getOrNull(y);if(!P)continue;let{sequence:A}=P;if(A&&A.length){let[g,..._]=A;n.createOrReplace(y,g);let b=t.getMutable(y);b.sequence=_,P.loop===0&&b.sequence.push(w)}else P.loop===1?n.createOrReplace(y,c(w)):P.loop===0&&(n.deleteFrom(y),i.delete(y),u.push(()=>{n.createOrReplace(y,w)}))}}},Number.NEGATIVE_INFINITY);function c(y){if(y.mode?.$case==="move"&&y.mode.move)return{...y,mode:{...y.mode,move:{start:y.mode.move.end,end:y.mode.move.start}}};if(y.mode?.$case==="rotate"&&y.mode.rotate)return{...y,mode:{...y.mode,rotate:{start:y.mode.rotate.end,end:y.mode.rotate.start}}};if(y.mode?.$case==="scale"&&y.mode.scale)return{...y,mode:{...y.mode,scale:{start:y.mode.scale.end,end:y.mode.scale.start}}};if(y.mode?.$case==="textureMove"&&y.mode.textureMove)return{...y,mode:{...y.mode,textureMove:{start:y.mode.textureMove.end,end:y.mode.textureMove.start}}};throw new Error("Invalid tween")}let h={tweenCompleted:r};return Zm.set(e._id,h),h}function d1(e){let n=Ti(e),s=id(e),t=Ta(e),i=Dr(e),r=new Set,f=0;function u(c){if(f+=c,!(f<=10)){f=0;for(let[h]of e.getEntitiesWith(n)){if(r.has(h)||t.has(h)||i.has(h))continue;let y=s.getOrNull(h);y&&(y.collisionMask===void 0||y.collisionMask&1)||(r.add(h),console.log(`\u26A0\uFE0F Missing MeshCollider component on entity ${h}. Add a MeshCollider to the entity so it can be clickeable by the player.
See https://docs.decentraland.org/creator/development-guide/sdk7/colliders/#pointer-blocking`))}}}e.removeSystem(u),e.addSystem(u)}var ye=f1();var Cz=ud(ye);d1(ye);var p1=Vc(ye);var m1=Hc(ye),h1=ya(ye),y1=Cm(ye),E1=Ea(ye);var T1=Nm(ye),eh=Ta(ye),g1=vm(ye);var Ra=ga(ye);var ld=Gc(ye);var S1=Gf(ye),Ca=zm(ye);var fd=Sa(ye),dd=qc(ye);var _1=Yc(ye),x1=Jc(ye),b1=Kc(ye),A1=_a(ye),R1=xa(ye),C1=ba(ye),N1=Dr(ye),v1=qf(ye);var k1;(function(e){e[e.CT_FIRST_PERSON=0]="CT_FIRST_PERSON",e[e.CT_THIRD_PERSON=1]="CT_THIRD_PERSON",e[e.CT_CINEMATIC=2]="CT_CINEMATIC"})(k1||(k1={}));var I1;(function(e){e[e.IA_POINTER=0]="IA_POINTER",e[e.IA_PRIMARY=1]="IA_PRIMARY",e[e.IA_SECONDARY=2]="IA_SECONDARY",e[e.IA_ANY=3]="IA_ANY",e[e.IA_FORWARD=4]="IA_FORWARD",e[e.IA_BACKWARD=5]="IA_BACKWARD",e[e.IA_RIGHT=6]="IA_RIGHT",e[e.IA_LEFT=7]="IA_LEFT",e[e.IA_JUMP=8]="IA_JUMP",e[e.IA_WALK=9]="IA_WALK",e[e.IA_ACTION_3=10]="IA_ACTION_3",e[e.IA_ACTION_4=11]="IA_ACTION_4",e[e.IA_ACTION_5=12]="IA_ACTION_5",e[e.IA_ACTION_6=13]="IA_ACTION_6"})(I1||(I1={}));var O1;(function(e){e[e.PET_UP=0]="PET_UP",e[e.PET_DOWN=1]="PET_DOWN",e[e.PET_HOVER_ENTER=2]="PET_HOVER_ENTER",e[e.PET_HOVER_LEAVE=3]="PET_HOVER_LEAVE"})(O1||(O1={}));var w1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.NOT_FOUND=2]="NOT_FOUND",e[e.FINISHED_WITH_ERROR=3]="FINISHED_WITH_ERROR",e[e.FINISHED=4]="FINISHED"})(w1||(w1={}));var M1;(function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"})(M1||(M1={}));var P1;(function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"})(P1||(P1={}));function th(e){let n=e.getComponentOrNull("composite::root");return n||e.defineComponent("composite::root",{src:T.String,entities:T.Array(T.Map({src:T.Entity,dest:T.Entity}))})}var A3="/";function R3(e,n=!1){let s="",t=0,i=-1,r=0,f;for(let u=0;u<=e.length;++u){if(u<e.length)f=e.charCodeAt(u);else{if(f===47)break;f=47}if(f===47){if(!(i===u-1||r===1))if(i!==u-1&&r===2){if(s.length<2||t!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){let c=s.lastIndexOf("/");if(c!==s.length-1){c===-1?(s="",t=0):(s=s.slice(0,c),t=s.length-1-s.lastIndexOf("/")),i=u,r=0;continue}}else if(s.length===2||s.length===1){s="",t=0,i=u,r=0;continue}}n&&(s.length>0?s+="/..":s="..",t=2)}else s.length>0?s+="/"+e.slice(i+1,u):s=e.slice(i+1,u),t=u-i-1;i=u,r=0}else f===46&&r!==-1?++r:r=-1}return s}function pd(...e){let n="",s=!1,t;for(let i=e.length-1;i>=-1&&!s;i--){let r;i>=0?r=e[i]:(t===void 0&&(t=A3),r=t),r.length!==0&&(n=r+"/"+n,s=r.charCodeAt(0)===47)}return n=R3(n,!s),s?n.length>0?"/"+n:"/":n.length>0?n:"."}function z1(e){if(e.length===0)return".";let n=e.charCodeAt(0),s=n===47,t=-1,i=!0;for(let r=e.length-1;r>=1;--r)if(n=e.charCodeAt(r),n===47){if(!i){t=r;break}}else i=!1;return t===-1?s?"/":".":s&&t===1?"//":e.slice(0,t)}function md(e,n){return(e.startsWith(".")?pd(n,e):pd(e)).substring(1)}var Xs;(function(e){e[e.EMM_NONE=0]="EMM_NONE",e[e.EMM_NEXT_AVAILABLE=1]="EMM_NEXT_AVAILABLE",e[e.EMM_DIRECT_MAPPING=2]="EMM_DIRECT_MAPPING"})(Xs||(Xs={}));function L1(e,n){return n.data?.$case==="json"?n.data.json:e.schema.deserialize(new pt(n.data?.binary))}function N3(e,n){let s=e.getComponentOrNull(n.name);if(s)return s;if(n.name.startsWith("core::")){if(n.name in Bm)return Bm[n.name](e);throw new Error(`The core component ${n.name} was not found.`)}else{if(n.jsonSchema)return e.defineComponentFromSchema(n.name,T.fromJson(n.jsonSchema));throw new Error(`${n.name} is not defined and there is no schema to define it.`)}}function v3(e,n,s,{entityMapping:t}){let i=s.get(n);if(i)return i;if(t?.type===Xs.EMM_DIRECT_MAPPING){let f=t.getCompositeEntity(n);return s.set(n,f),f}let r=t?.type===Xs.EMM_NEXT_AVAILABLE?t.getNextAvailableEntity():e.addEntity();if(r===null)throw new Error("There is no more entities to allocate");return s.set(n,r),r}function nh(e,n,s,t){let{rootEntity:i,alreadyRequestedSrc:r,entityMapping:f}=t,u=r||new Set,c=z1(pd(n.src)),h=No("core::Transform"),y=th(e),w=new Map,x=_=>v3(e,_,w,t),P=i??x(0);i&&w.set(0,i);let A=n.composite.components.find(_=>_.name===y.componentName);if(A)for(let[_,b]of A.data){let M=L1(y,b),q=md(M.src,c),ue=s.getCompositeOrNull(q),be=x(_);if(ue){if(u.has(ue.src)||ue.src===n.src)throw new Error(`Composite ${n.src} has a recursive instanciation while try to instance ${ue.src}. Previous instances: ${u.toString()}`);nh(e,ue,s,{rootEntity:be,alreadyRequestedSrc:new Set(u).add(ue.src),entityMapping:f?.type===Xs.EMM_NEXT_AVAILABLE?f:void 0})}}for(let _ of n.composite.components){if(_.name===y.componentName)continue;let b=N3(e,_);for(let[M,q]of _.data){let ue=L1(b,q),be=x(M),ae=b.create(be,ue);if(b.componentId===h){let se=ae;se.parent?se.parent=x(se.parent):se.parent=x(0)}else T.mutateNestedValues(b.schema.jsonSchema,ae,(se,ee)=>ee.serializationType==="entity"?{changed:!0,value:x(se)}:{changed:!1})}}let g=y.getMutableOrNull(P)||y.create(P);for(let[_,b]of w)g.entities.push({src:_,dest:b});return g.src=n.src,P}var uo=we(ze());var co=we(ze());var U1;(function(e){e[e.NULL_VALUE=0]="NULL_VALUE"})(U1||(U1={}));function k3(e){switch(e){case 0:case"NULL_VALUE":return 0;default:throw new j1.Error("Unrecognized enum value "+e+" for enum NullValue")}}function I3(e){switch(e){case 0:return"NULL_VALUE";default:throw new j1.Error("Unrecognized enum value "+e+" for enum NullValue")}}function B1(){return{fields:new Map}}var Zs;(function(e){function n(u,c=co.default.Writer.create()){return u.fields.forEach((h,y)=>{h!==void 0&&hd.encode({key:y,value:h},c.uint32(10).fork()).ldelim()}),c}e.encode=n;function s(u,c){let h=u instanceof co.default.Reader?u:co.default.Reader.create(u),y=c===void 0?h.len:h.pos+c,w=B1();for(;h.pos<y;){let x=h.uint32();switch(x>>>3){case 1:if(x!==10)break;let P=hd.decode(h,h.uint32());P.value!==void 0&&w.fields.set(P.key,P.value);continue}if((x&7)===4||x===0)break;h.skipType(x&7)}return w}e.decode=s;function t(u){return{fields:w3(u.fields)?Object.entries(u.fields).reduce((c,[h,y])=>(c.set(h,y),c),new Map):new Map}}e.fromJSON=t;function i(u){let c={};return c.fields={},u.fields&&u.fields.forEach((h,y)=>{c.fields[y]=h}),c}e.toJSON=i;function r(u){let c=B1();return u!==void 0&&Object.keys(u).forEach(h=>{c.fields.set(h,u[h])}),c}e.wrap=r;function f(u){let c={};return[...u.fields.keys()].forEach(h=>{c[h]=u.fields.get(h)}),c}e.unwrap=f})(Zs||(Zs={}));function O3(){return{key:"",value:void 0}}var hd;(function(e){function n(r,f=co.default.Writer.create()){return r.key!==""&&f.uint32(10).string(r.key),r.value!==void 0&&Tn.encode(Tn.wrap(r.value),f.uint32(18).fork()).ldelim(),f}e.encode=n;function s(r,f){let u=r instanceof co.default.Reader?r:co.default.Reader.create(r),c=f===void 0?u.len:u.pos+f,h=O3();for(;u.pos<c;){let y=u.uint32();switch(y>>>3){case 1:if(y!==10)break;h.key=u.string();continue;case 2:if(y!==18)break;h.value=Tn.unwrap(Tn.decode(u,u.uint32()));continue}if((y&7)===4||y===0)break;u.skipType(y&7)}return h}e.decode=s;function t(r){return{key:xi(r.key)?String(r.key):"",value:xi(r?.value)?r.value:void 0}}e.fromJSON=t;function i(r){let f={};return r.key!==void 0&&(f.key=r.key),r.value!==void 0&&(f.value=r.value),f}e.toJSON=i})(hd||(hd={}));function D1(){return{kind:void 0}}var Tn;(function(e){function n(u,c=co.default.Writer.create()){switch(u.kind?.$case){case"nullValue":c.uint32(8).int32(u.kind.nullValue);break;case"numberValue":c.uint32(17).double(u.kind.numberValue);break;case"stringValue":c.uint32(26).string(u.kind.stringValue);break;case"boolValue":c.uint32(32).bool(u.kind.boolValue);break;case"structValue":Zs.encode(Zs.wrap(u.kind.structValue),c.uint32(42).fork()).ldelim();break;case"listValue":ec.encode(ec.wrap(u.kind.listValue),c.uint32(50).fork()).ldelim();break}return c}e.encode=n;function s(u,c){let h=u instanceof co.default.Reader?u:co.default.Reader.create(u),y=c===void 0?h.len:h.pos+c,w=D1();for(;h.pos<y;){let x=h.uint32();switch(x>>>3){case 1:if(x!==8)break;w.kind={$case:"nullValue",nullValue:h.int32()};continue;case 2:if(x!==17)break;w.kind={$case:"numberValue",numberValue:h.double()};continue;case 3:if(x!==26)break;w.kind={$case:"stringValue",stringValue:h.string()};continue;case 4:if(x!==32)break;w.kind={$case:"boolValue",boolValue:h.bool()};continue;case 5:if(x!==42)break;w.kind={$case:"structValue",structValue:Zs.unwrap(Zs.decode(h,h.uint32()))};continue;case 6:if(x!==50)break;w.kind={$case:"listValue",listValue:ec.unwrap(ec.decode(h,h.uint32()))};continue}if((x&7)===4||x===0)break;h.skipType(x&7)}return w}e.decode=s;function t(u){return{kind:xi(u.nullValue)?{$case:"nullValue",nullValue:k3(u.nullValue)}:xi(u.numberValue)?{$case:"numberValue",numberValue:Number(u.numberValue)}:xi(u.stringValue)?{$case:"stringValue",stringValue:String(u.stringValue)}:xi(u.boolValue)?{$case:"boolValue",boolValue:!!u.boolValue}:xi(u.structValue)?{$case:"structValue",structValue:u.structValue}:xi(u.listValue)?{$case:"listValue",listValue:[...u.listValue]}:void 0}}e.fromJSON=t;function i(u){let c={};return u.kind?.$case==="nullValue"&&(c.nullValue=u.kind?.nullValue!==void 0?I3(u.kind?.nullValue):void 0),u.kind?.$case==="numberValue"&&(c.numberValue=u.kind?.numberValue),u.kind?.$case==="stringValue"&&(c.stringValue=u.kind?.stringValue),u.kind?.$case==="boolValue"&&(c.boolValue=u.kind?.boolValue),u.kind?.$case==="structValue"&&(c.structValue=u.kind?.structValue),u.kind?.$case==="listValue"&&(c.listValue=u.kind?.listValue),c}e.toJSON=i;function r(u){let c=D1();if(u===null)c.kind={$case:"nullValue",nullValue:0};else if(typeof u=="boolean")c.kind={$case:"boolValue",boolValue:u};else if(typeof u=="number")c.kind={$case:"numberValue",numberValue:u};else if(typeof u=="string")c.kind={$case:"stringValue",stringValue:u};else if(Array.isArray(u))c.kind={$case:"listValue",listValue:u};else if(typeof u=="object")c.kind={$case:"structValue",structValue:u};else if(typeof u<"u")throw new Error("Unsupported any value type: "+typeof u);return c}e.wrap=r;function f(u){return u.kind?.$case==="nullValue"?null:u.kind?.$case==="numberValue"?u.kind?.numberValue:u.kind?.$case==="stringValue"?u.kind?.stringValue:u.kind?.$case==="boolValue"?u.kind?.boolValue:u.kind?.$case==="structValue"?u.kind?.structValue:u.kind?.$case==="listValue"?u.kind?.listValue:void 0}e.unwrap=f})(Tn||(Tn={}));function W1(){return{values:[]}}var ec;(function(e){function n(u,c=co.default.Writer.create()){for(let h of u.values)Tn.encode(Tn.wrap(h),c.uint32(10).fork()).ldelim();return c}e.encode=n;function s(u,c){let h=u instanceof co.default.Reader?u:co.default.Reader.create(u),y=c===void 0?h.len:h.pos+c,w=W1();for(;h.pos<y;){let x=h.uint32();switch(x>>>3){case 1:if(x!==10)break;w.values.push(Tn.unwrap(Tn.decode(h,h.uint32())));continue}if((x&7)===4||x===0)break;h.skipType(x&7)}return w}e.decode=s;function t(u){return{values:Array.isArray(u?.values)?[...u.values]:[]}}e.fromJSON=t;function i(u){let c={};return u.values?c.values=u.values.map(h=>h):c.values=[],c}e.toJSON=i;function r(u){let c=W1();return c.values=u??[],c}e.wrap=r;function f(u){return u?.hasOwnProperty("values")&&Array.isArray(u.values)?u.values:u}e.unwrap=f})(ec||(ec={}));var j1=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function w3(e){return typeof e=="object"&&e!==null}function xi(e){return e!=null}function M3(){return{data:void 0}}var bi;(function(e){function n(r,f=uo.default.Writer.create()){switch(r.data?.$case){case"json":Tn.encode(Tn.wrap(r.data.json),f.uint32(10).fork()).ldelim();break;case"binary":f.uint32(18).bytes(r.data.binary);break}return f}e.encode=n;function s(r,f){let u=r instanceof uo.default.Reader?r:uo.default.Reader.create(r),c=f===void 0?u.len:u.pos+f,h=M3();for(;u.pos<c;){let y=u.uint32();switch(y>>>3){case 1:if(y!==10)break;h.data={$case:"json",json:Tn.unwrap(Tn.decode(u,u.uint32()))};continue;case 2:if(y!==18)break;h.data={$case:"binary",binary:u.bytes()};continue}if((y&7)===4||y===0)break;u.skipType(y&7)}return h}e.decode=s;function t(r){return{data:va(r.json)?{$case:"json",json:r.json}:va(r.binary)?{$case:"binary",binary:U3(r.binary)}:void 0}}e.fromJSON=t;function i(r){let f={};return r.data?.$case==="json"&&(f.json=r.data?.json),r.data?.$case==="binary"&&(f.binary=r.data?.binary!==void 0?B3(r.data?.binary):void 0),f}e.toJSON=i})(bi||(bi={}));function P3(){return{name:"",jsonSchema:void 0,data:new Map}}var tc;(function(e){function n(r,f=uo.default.Writer.create()){return r.name!==""&&f.uint32(10).string(r.name),r.jsonSchema!==void 0&&Tn.encode(Tn.wrap(r.jsonSchema),f.uint32(18).fork()).ldelim(),r.data.forEach((u,c)=>{yd.encode({key:c,value:u},f.uint32(26).fork()).ldelim()}),f}e.encode=n;function s(r,f){let u=r instanceof uo.default.Reader?r:uo.default.Reader.create(r),c=f===void 0?u.len:u.pos+f,h=P3();for(;u.pos<c;){let y=u.uint32();switch(y>>>3){case 1:if(y!==10)break;h.name=u.string();continue;case 2:if(y!==18)break;h.jsonSchema=Tn.unwrap(Tn.decode(u,u.uint32()));continue;case 3:if(y!==26)break;let w=yd.decode(u,u.uint32());w.value!==void 0&&h.data.set(w.key,w.value);continue}if((y&7)===4||y===0)break;u.skipType(y&7)}return h}e.decode=s;function t(r){return{name:va(r.name)?String(r.name):"",jsonSchema:va(r?.jsonSchema)?r.jsonSchema:void 0,data:D3(r.data)?Object.entries(r.data).reduce((f,[u,c])=>(f.set(Number(u),bi.fromJSON(c)),f),new Map):new Map}}e.fromJSON=t;function i(r){let f={};return r.name!==void 0&&(f.name=r.name),r.jsonSchema!==void 0&&(f.jsonSchema=r.jsonSchema),f.data={},r.data&&r.data.forEach((u,c)=>{f.data[c]=bi.toJSON(u)}),f}e.toJSON=i})(tc||(tc={}));function z3(){return{key:0,value:void 0}}var yd;(function(e){function n(r,f=uo.default.Writer.create()){return r.key!==0&&f.uint32(8).int32(r.key),r.value!==void 0&&bi.encode(r.value,f.uint32(18).fork()).ldelim(),f}e.encode=n;function s(r,f){let u=r instanceof uo.default.Reader?r:uo.default.Reader.create(r),c=f===void 0?u.len:u.pos+f,h=z3();for(;u.pos<c;){let y=u.uint32();switch(y>>>3){case 1:if(y!==8)break;h.key=u.int32();continue;case 2:if(y!==18)break;h.value=bi.decode(u,u.uint32());continue}if((y&7)===4||y===0)break;u.skipType(y&7)}return h}e.decode=s;function t(r){return{key:va(r.key)?Number(r.key):0,value:va(r.value)?bi.fromJSON(r.value):void 0}}e.fromJSON=t;function i(r){let f={};return r.key!==void 0&&(f.key=Math.round(r.key)),r.value!==void 0&&(f.value=r.value?bi.toJSON(r.value):void 0),f}e.toJSON=i})(yd||(yd={}));function L3(){return{version:0,components:[]}}var Na;(function(e){function n(r,f=uo.default.Writer.create()){r.version!==0&&f.uint32(8).int32(r.version);for(let u of r.components)tc.encode(u,f.uint32(18).fork()).ldelim();return f}e.encode=n;function s(r,f){let u=r instanceof uo.default.Reader?r:uo.default.Reader.create(r),c=f===void 0?u.len:u.pos+f,h=L3();for(;u.pos<c;){let y=u.uint32();switch(y>>>3){case 1:if(y!==8)break;h.version=u.int32();continue;case 2:if(y!==18)break;h.components.push(tc.decode(u,u.uint32()));continue}if((y&7)===4||y===0)break;u.skipType(y&7)}return h}e.decode=s;function t(r){return{version:va(r.version)?Number(r.version):0,components:Array.isArray(r?.components)?r.components.map(f=>tc.fromJSON(f)):[]}}e.fromJSON=t;function i(r){let f={};return r.version!==void 0&&(f.version=Math.round(r.version)),r.components?f.components=r.components.map(u=>u?tc.toJSON(u):void 0):f.components=[],f}e.toJSON=i})(Na||(Na={}));var nc=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function U3(e){if(nc.Buffer)return Uint8Array.from(nc.Buffer.from(e,"base64"));{let n=nc.atob(e),s=new Uint8Array(n.length);for(let t=0;t<n.length;++t)s[t]=n.charCodeAt(t);return s}}function B3(e){if(nc.Buffer)return nc.Buffer.from(e).toString("base64");{let n=[];return e.forEach(s=>{n.push(String.fromCharCode(s))}),nc.btoa(n.join(""))}}function D3(e){return typeof e=="object"&&e!==null}function va(e){return e!=null}var Ai;(function(e){function n(u){return Na.fromJSON(u)}e.fromJson=n;function s(u){return Na.decode(u)}e.fromBinary=s;function t(u){return Na.toJSON(u)}e.toJson=t;function i(u){return Na.encode(u).finish()}e.toBinary=i;function r(u,c,h,y={}){nh(u,c,h,y)}e.instance=r;function f(u,c="/"){return md(u,c)}e.resolveAndNormalizePath=f})(Ai||(Ai={}));var Jt=Vn(ye);var oh=qg(ye),oc=od(ye),Ed=rd(ye),rh=id(ye),S4=Js(ye),dn=Ys(ye);var Td=ad(ye),rc=Wr(ye),gd=Ks(ye);var Ri=.45454545454545453,Ci=2.2,F1=1e-6,du=Math.PI/180,pu=360/(Math.PI*2);var kt;(function(e){e.TwoPi=Math.PI*2;function n(ae,se,ee=1401298e-51){let H=ae-se;return-ee<=H&&H<=ee}e.withinEpsilon=n;function s(ae){let se=ae.toString(16);return ae<=15?("0"+se).toUpperCase():se.toUpperCase()}e.toHex=s;function t(ae){let se=+ae;return se===0||isNaN(se)?se:se>0?1:-1}e.sign=t;function i(ae,se=0,ee=1){return Math.min(ee,Math.max(se,ae))}e.clamp=i;function r(ae){return Math.log(ae)*Math.LOG2E}e.log2=r;function f(ae,se){return ae-Math.floor(ae/se)*se}e.repeat=f;function u(ae,se,ee){return(ae-se)/(ee-se)}e.normalize=u;function c(ae,se,ee){return ae*(ee-se)+se}e.denormalize=c;function h(ae,se){let ee=f(se-ae,360);return ee>180&&(ee-=360),ee}e.deltaAngle=h;function y(ae,se){let ee=f(ae,se*2);return se-Math.abs(ee-se)}e.pingPong=y;function w(ae,se,ee){let H=i(ee);return H=-2*H*H*H+3*H*H,se*H+ae*(1-H)}e.smoothStep=w;function x(ae,se,ee){let H=0;return Math.abs(se-ae)<=ee?H=se:H=ae+t(se-ae)*ee,H}e.moveTowards=x;function P(ae,se,ee){let H=h(ae,se),F=0;return-ee<H&&H<ee?F=se:F=x(ae,ae+H,ee),F}e.moveTowardsAngle=P;function A(ae,se,ee){return ae+(se-ae)*ee}e.lerp=A;function g(ae,se,ee){let H=f(se-ae,360);return H>180&&(H-=360),ae+H*i(ee)}e.lerpAngle=g;function _(ae,se,ee){let H=0;return ae!==se?H=i((ee-ae)/(se-ae)):H=0,H}e.inverseLerp=_;function b(ae,se,ee,H,F){let z=F*F,R=F*z,G=2*R-3*z+1,$=-2*R+3*z,ie=R-2*z+F,Te=R-z;return ae*G+ee*$+se*ie+H*Te}e.hermite=b;function M(ae,se){return ae===se?ae:Math.random()*(se-ae)+ae}e.randomRange=M;function q(ae,se,ee){return(ae-se)/(ee-se)}e.rangeToPercent=q;function ue(ae,se,ee){return(ee-se)*ae+se}e.percentToRange=ue;function be(ae){return ae-e.TwoPi*Math.floor((ae+Math.PI)/e.TwoPi)}e.normalizeRadians=be})(kt||(kt={}));var te;(function(e){function n(v){let L=Math.abs(v.x),K=Math.abs(v.y);if(L!==K)return!0;let xe=Math.abs(v.z);return L!==xe}e.isNonUniform=n;function s(v=0,L=0,K=0){return{x:v,y:L,z:K}}e.create=s;function t(v,L){return{x:v.x+L.x,y:v.y+L.y,z:v.z+L.z}}e.add=t;function i(v,L,K){K.x=v.x+L.x,K.y=v.y+L.y,K.z=v.z+L.z}e.addToRef=i;function r(v,L){return{x:v.x-L.x,y:v.y-L.y,z:v.z-L.z}}e.subtract=r;function f(v,L,K){K.x=v.x-L.x,K.y=v.y-L.y,K.z=v.z-L.z}e.subtractToRef=f;function u(v,L,K,xe,Se){Se.x=v.x-L,Se.y=v.y-K,Se.z=v.z-xe}e.subtractFromFloatsToRef=u;function c(v){return{x:-v.x,y:-v.y,z:-v.z}}e.negate=c;function h(v,L){L.x=v.x,L.y=v.y,L.z=v.z}e.copyFrom=h;function y(v,L,K,xe){xe.x=v,xe.y=L,xe.z=K}e.copyFromFloats=y;function w(v){return s(v.x,v.y,v.z)}e.clone=w;function x(v,L,K,xe){let Se=F(v,K)-xe,ve=F(L,K)-xe;return Se/(Se-ve)}e.getClipFactor=x;function P(v,L,K){let xe=ee(v),Se=ee(L),ve=F(xe,Se),De=s();return je(xe,Se,De),F(De,K)>0?Math.acos(ve):-Math.acos(ve)}e.getAngleBetweenVectors=P;function A(v,L=0){return s(v[L],v[L+1],v[L+2])}e.fromArray=A;function g(v,L){return A(v,L)}e.fromFloatArray=g;function _(v,L,K){K.x=v[L],K.y=v[L+1],K.z=v[L+2]}e.fromArrayToRef=_;function b(v,L,K){return _(v,L,K)}e.fromFloatArrayToRef=b;function M(v){return Math.sqrt(v.x*v.x+v.y*v.y+v.z*v.z)}e.length=M;function q(v){return v.x*v.x+v.y*v.y+v.z*v.z}e.lengthSquared=q;function ue(v,L,K){K.x=v.x*L,K.y=v.y*L,K.z=v.z*L}e.scaleToRef=ue;function be(v,L){return s(v.x*L,v.y*L,v.z*L)}e.scale=be;function ae(v,L){let K=s(0,0,0);return se(v,L,K),K}e.normalizeFromLength=ae;function se(v,L,K){if(L===0||L===1){h(v,K);return}ue(v,1/L,K)}e.normalizeFromLengthToRef=se;function ee(v){return ae(v,M(v))}e.normalize=ee;function H(v,L){se(v,M(v),L)}e.normalizeToRef=H;function F(v,L){return v.x*L.x+v.y*L.y+v.z*L.z}e.dot=F;function z(v,L){let K=w(v);return R(v,L,K),K}e.applyMatrix4=z;function R(v,L,K){let{x:xe,y:Se,z:ve}=v,De=L._m,Pt=1/(De[3]*xe+De[7]*Se+De[11]*ve+De[15]);K.x=(De[0]*xe+De[4]*Se+De[8]*ve+De[12])*Pt,K.y=(De[1]*xe+De[5]*Se+De[9]*ve+De[13])*Pt,K.z=(De[2]*xe+De[6]*Se+De[10]*ve+De[14])*Pt}e.applyMatrix4ToRef=R;function G(v,L){let K=s();return $(v,L,K),K}e.rotate=G;function $(v,L,K){let{x:xe,y:Se,z:ve}=v,{x:De,y:Pt,z:I,w:D}=L,Y=D*xe+Pt*ve-I*Se,de=D*Se+I*xe-De*ve,oe=D*ve+De*Se-Pt*xe,Ae=-De*xe-Pt*Se-I*ve;K.x=Y*D+Ae*-De+de*-I-oe*-Pt,K.y=de*D+Ae*-Pt+oe*-De-Y*-I,K.z=oe*D+Ae*-I+Y*-Pt-de*-De}e.rotateToRef=$;function ie(v,L,K){let xe=s(0,0,0);return Te(v,L,K,xe),xe}e.lerp=ie;function Te(v,L,K,xe){xe.x=v.x+(L.x-v.x)*K,xe.y=v.y+(L.y-v.y)*K,xe.z=v.z+(L.z-v.z)*K}e.lerpToRef=Te;function Pe(v,L){let K=Uo();return je(v,L,K),K}e.cross=Pe;function je(v,L,K){K.x=v.y*L.z-v.z*L.y,K.y=v.z*L.x-v.x*L.z,K.z=v.x*L.y-v.y*L.x}e.crossToRef=je;function Je(v,L){let K=Uo();return $e(v,L,K),K}e.transformCoordinates=Je;function $e(v,L,K){return at(v.x,v.y,v.z,L,K)}e.transformCoordinatesToRef=$e;function at(v,L,K,xe,Se){let ve=xe._m,De=v*ve[0]+L*ve[4]+K*ve[8]+ve[12],Pt=v*ve[1]+L*ve[5]+K*ve[9]+ve[13],I=v*ve[2]+L*ve[6]+K*ve[10]+ve[14],D=1/(v*ve[3]+L*ve[7]+K*ve[11]+ve[15]);Se.x=De*D,Se.y=Pt*D,Se.z=I*D}e.transformCoordinatesFromFloatsToRef=at;function lt(v,L){let K=Uo();return vt(v,L,K),K}e.transformNormal=lt;function vt(v,L,K){tt(v.x,v.y,v.z,L,K)}e.transformNormalToRef=vt;function tt(v,L,K,xe,Se){let ve=xe._m;Se.x=v*ve[0]+L*ve[4]+K*ve[8],Se.y=v*ve[1]+L*ve[5]+K*ve[9],Se.z=v*ve[2]+L*ve[6]+K*ve[10]}e.transformNormalFromFloatsToRef=tt;function pn(v,L,K,xe,Se){let ve=Se*Se,De=Se*ve,Pt=.5*(2*L.x+(-v.x+K.x)*Se+(2*v.x-5*L.x+4*K.x-xe.x)*ve+(-v.x+3*L.x-3*K.x+xe.x)*De),I=.5*(2*L.y+(-v.y+K.y)*Se+(2*v.y-5*L.y+4*K.y-xe.y)*ve+(-v.y+3*L.y-3*K.y+xe.y)*De),D=.5*(2*L.z+(-v.z+K.z)*Se+(2*v.z-5*L.z+4*K.z-xe.z)*ve+(-v.z+3*L.z-3*K.z+xe.z)*De);return s(Pt,I,D)}e.catmullRom=pn;function J(v,L,K){let xe=s();return ce(v,L,K,xe),xe}e.clamp=J;function ce(v,L,K,xe){let Se=v.x;Se=Se>K.x?K.x:Se,Se=Se<L.x?L.x:Se;let ve=v.y;ve=ve>K.y?K.y:ve,ve=ve<L.y?L.y:ve;let De=v.z;De=De>K.z?K.z:De,De=De<L.z?L.z:De,y(Se,ve,De,xe)}e.clampToRef=ce;function _e(v,L,K,xe,Se){let ve=Se*Se,De=Se*ve,Pt=2*De-3*ve+1,I=-2*De+3*ve,D=De-2*ve+Se,Y=De-ve,de=v.x*Pt+K.x*I+L.x*D+xe.x*Y,oe=v.y*Pt+K.y*I+L.y*D+xe.y*Y,Ae=v.z*Pt+K.z*I+L.z*D+xe.z*Y;return s(de,oe,Ae)}e.hermite=_e;function j(v,L){let K=s();return ti(L,v.x,v.y,v.z,K),K}e.minimize=j;function X(v,L){let K=s();return br(v,L.x,L.y,L.z,K),K}e.maximize=X;function Ne(v,L){return Math.sqrt(ft(v,L))}e.distance=Ne;function ft(v,L){let K=v.x-L.x,xe=v.y-L.y,Se=v.z-L.z;return K*K+xe*xe+Se*Se}e.distanceSquared=ft;function gn(v,L){let K=t(v,L);return ue(K,.5,K),K}e.center=gn;function Ui(v,L,K){let xe=Uo();return Qr(v,L,K,xe),xe}e.rotationFromAxis=Ui;function Qr(v,L,K,xe){let Se=qe.create();qe.fromAxisToRotationQuaternionToRef(v,L,K,Se),h(qe.toEulerAngles(Se),xe)}e.rotationFromAxisToRef=Qr;function Bi(v){return`(${v.x}, ${v.y}, ${v.z})`}e.toString=Bi;function Xo(v){let L=v.x||0;return L=L*397^(v.y||0),L=L*397^(v.z||0),L}e.getHashCode=Xo;function Zo(v,L){return v.x===L.x&&v.y===L.y&&v.z===L.z}e.equals=Zo;function Xr(v,L,K=F1){return kt.withinEpsilon(v.x,L.x,K)&&kt.withinEpsilon(v.y,L.y,K)&&kt.withinEpsilon(v.z,L.z,K)}e.equalsWithEpsilon=Xr;function zo(v,L,K,xe){return v.x===L&&v.y===K&&v.z===xe}e.equalsToFloats=zo;function xr(v,L){let K=s();return Ot(v,L,K),K}e.multiply=xr;function Ot(v,L,K){K.x=v.x*L.x,K.y=v.y*L.y,K.z=v.z*L.z}e.multiplyToRef=Ot;function Zr(v,L,K,xe,Se){Se.x=v.x*L,Se.y=v.y*K,Se.z=v.z*xe}e.multiplyByFloatsToRef=Zr;function Lo(v,L,K,xe){let Se=s();return Zr(v,L,K,xe,Se),Se}e.multiplyByFloats=Lo;function ei(v,L){return{x:v.x/L.x,y:v.y/L.y,z:v.z/L.z}}e.divide=ei;function Di(v,L,K){K.x=v.x/L.x,K.y=v.y/L.y,K.z=v.z/L.z}e.divideToRef=Di;function br(v,L,K,xe,Se){L>v.x?Se.x=L:Se.x=v.x,K>v.y?Se.y=K:Se.y=v.y,xe>v.z?Se.z=xe:Se.z=v.z}e.maximizeInPlaceFromFloatsToRef=br;function ti(v,L,K,xe,Se){L<v.x?Se.x=L:Se.x=v.x,K<v.y?Se.y=K:Se.y=v.y,xe<v.z?Se.z=xe:Se.z=v.z}e.minimizeInPlaceFromFloatsToRef=ti;function Wi(v){return s(Math.floor(v.x),Math.floor(v.y),Math.floor(v.z))}e.floor=Wi;function ni(v){return s(v.x-Math.floor(v.x),v.y-Math.floor(v.y),v.z-Math.floor(v.z))}e.fract=ni;function Uo(){return s(0,0,0)}e.Zero=Uo;function ji(){return s(1,1,1)}e.One=ji;function Ar(){return s(0,1,0)}e.Up=Ar;function Fi(){return s(0,-1,0)}e.Down=Fi;function Vi(){return s(0,0,1)}e.Forward=Vi;function oi(){return s(0,0,-1)}e.Backward=oi;function Rr(){return s(1,0,0)}e.Right=Rr;function Hi(){return s(-1,0,0)}e.Left=Hi;function Gi(){return s(Math.random(),Math.random(),Math.random())}e.Random=Gi})(te||(te={}));var Sd;(function(e){function n(g,_,b,M){return{normal:te.create(g,_,b),d:M}}e.create=n;function s(g){return n(g[0],g[1],g[2],g[3])}e.fromArray=s;function t(g,_,b){return n(0,0,0,0)}e.fromPoints=t;function i(g,_){let b=n(0,0,0,0);return b.normal=te.normalize(_),b.d=-(_.x*g.x+_.y*g.y+_.z*g.z),b}e.romPositionAndNormal=i;function r(g,_,b){let M=-(_.x*g.x+_.y*g.y+_.z*g.z);return te.dot(b,_)+M}e.signedDistanceToPlaneFromPositionAndNormal=r;function f(g){return[g.normal.x,g.normal.y,g.normal.z,g.d]}e.asArray=f;function u(g){return n(g.normal.x,g.normal.y,g.normal.z,g.d)}e.clone=u;function c(g){return 0}e.getHashCode=c;function h(g){let _=n(0,0,0,0),b=Math.sqrt(g.normal.x*g.normal.x+g.normal.y*g.normal.y+g.normal.z*g.normal.z),M=0;return b!==0&&(M=1/b),_.normal.x=g.normal.x*M,_.normal.y=g.normal.y*M,_.normal.z=g.normal.z*M,_.d*=M,g}e.normalize=h;function y(g,_){let b=Jo.create();Jo.transposeToRef(_,b);let M=b._m,q=g.normal.x,ue=g.normal.y,be=g.normal.z,ae=g.d,se=q*M[0]+ue*M[1]+be*M[2]+ae*M[3],ee=q*M[4]+ue*M[5]+be*M[6]+ae*M[7],H=q*M[8]+ue*M[9]+be*M[10]+ae*M[11],F=q*M[12]+ue*M[13]+be*M[14]+ae*M[15];return n(se,ee,H,F)}e.transform=y;function w(g,_){return g.normal.x*_.x+g.normal.y*_.y+g.normal.z*_.z+g.d}e.dotCoordinate=w;function x(g,_,b){let M=_.x-g.x,q=_.y-g.y,ue=_.z-g.z,be=b.x-g.x,ae=b.y-g.y,se=b.z-g.z,ee=q*se-ue*ae,H=ue*be-M*se,F=M*ae-q*be,z=Math.sqrt(ee*ee+H*H+F*F),R;z!==0?R=1/z:R=0;let G=te.create(ee*R,H*R,F*R);return{normal:G,d:-(G.x*g.x+G.y*g.y+G.z*g.z)}}e.copyFromPoints=x;function P(g,_,b){return te.dot(g.normal,_)<=b}e.isFrontFacingTo=P;function A(g,_){return te.dot(_,g.normal)+g.d}e.signedDistanceTo=A})(Sd||(Sd={}));var Jo;(function(e){function n(E){return E._m}e.m=n;let s=0,t={};function i(){return t}e.IdentityReadonly=i;function r(){let E={updateFlag:0,isIdentity:!1,isIdentity3x2:!0,_isIdentityDirty:!0,_isIdentity3x2Dirty:!0,_m:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};return jt(E,!1),E}e.create=r;function f(E,C=0){let k=r();return u(E,C,k),k}e.fromArray=f;function u(E,C,k){for(let O=0;O<16;O++)k._m[O]=E[O+C];Ot(k)}e.fromArrayToRef=u;function c(E,C,k,O){for(let W=0;W<16;W++)O._m[W]=E[W+C]*k;Ot(O)}e.fromFloatArrayToRefScaled=c;function h(E,C,k,O,W,le,re,ge,Ie,Fe,Ge,mt,Ve,wt,Dt,Qt,Ft){let Be=Ft._m;Be[0]=E,Be[1]=C,Be[2]=k,Be[3]=O,Be[4]=W,Be[5]=le,Be[6]=re,Be[7]=ge,Be[8]=Ie,Be[9]=Fe,Be[10]=Ge,Be[11]=mt,Be[12]=Ve,Be[13]=wt,Be[14]=Dt,Be[15]=Qt,Ot(Ft)}e.fromValuesToRef=h;function y(E,C,k,O,W,le,re,ge,Ie,Fe,Ge,mt,Ve,wt,Dt,Qt){let Ft=r(),Be=Ft._m;return Be[0]=E,Be[1]=C,Be[2]=k,Be[3]=O,Be[4]=W,Be[5]=le,Be[6]=re,Be[7]=ge,Be[8]=Ie,Be[9]=Fe,Be[10]=Ge,Be[11]=mt,Be[12]=Ve,Be[13]=wt,Be[14]=Dt,Be[15]=Qt,Ot(Ft),Ft}e.fromValues=y;function w(E,C,k){let O=r();return x(E,C,k,O),O}e.compose=w;function x(E,C,k,O){let W=[r(),r(),r()];z(E.x,E.y,E.z,W[1]),xr(C,W[0]),Se(W[1],W[0],O),Rr(O,k)}e.composeToRef=x;function P(){let E=y(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return jt(E,!0),E}e.Identity=P;function A(E){h(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,E),jt(E,!0)}e.IdentityToRef=A;function g(){let E=y(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return jt(E,!1),E}e.Zero=g;function _(E){let C=r();return b(E,C),C}e.RotationX=_;function b(E,C){let k=Math.sin(E),O=Math.cos(E);h(1,0,0,0,0,O,k,0,0,-k,O,0,0,0,0,1,C),jt(C,O===1&&k===0)}e.rotationXToRef=b;function M(E){let C=r();return q(E,C),C}e.rotationY=M;function q(E,C){let k=Math.sin(E),O=Math.cos(E);h(O,0,-k,0,0,1,0,0,k,0,O,0,0,0,0,1,C),jt(C,O===1&&k===0)}e.rotationYToRef=q;function ue(E){let C=r();return be(E,C),C}e.rotationZ=ue;function be(E,C){let k=Math.sin(E),O=Math.cos(E);h(O,k,0,0,-k,O,0,0,0,0,1,0,0,0,0,1,C),jt(C,O===1&&k===0)}e.rotationZToRef=be;function ae(E,C){let k=r();return se(E,C,k),k}e.rotationAxis=ae;function se(E,C,k){let O=Math.sin(-C),W=Math.cos(-C),le=1-W,re=te.normalize(E),ge=k._m;ge[0]=re.x*re.x*le+W,ge[1]=re.x*re.y*le-re.z*O,ge[2]=re.x*re.z*le+re.y*O,ge[3]=0,ge[4]=re.y*re.x*le+re.z*O,ge[5]=re.y*re.y*le+W,ge[6]=re.y*re.z*le-re.x*O,ge[7]=0,ge[8]=re.z*re.x*le-re.y*O,ge[9]=re.z*re.y*le+re.x*O,ge[10]=re.z*re.z*le+W,ge[11]=0,ge[12]=0,ge[13]=0,ge[14]=0,ge[15]=1,Ot(k)}e.rotationAxisToRef=se;function ee(E,C,k){let O=r();return H(E,C,k,O),O}e.rotationYawPitchRoll=ee;function H(E,C,k,O){let W=qe.Zero();qe.fromRotationYawPitchRollToRef(E,C,k,W),xr(W,O)}e.rotationYawPitchRollToRef=H;function F(E,C,k){let O=r();return z(E,C,k,O),O}e.scaling=F;function z(E,C,k,O){h(E,0,0,0,0,C,0,0,0,0,k,0,0,0,0,1,O),jt(O,E===1&&C===1&&k===1)}e.scalingToRef=z;function R(E,C,k){let O=r();return G(E,C,k,O),O}e.translation=R;function G(E,C,k,O){h(1,0,0,0,0,1,0,0,0,0,1,0,E,C,k,1,O),jt(O,E===0&&C===0&&k===0)}e.translationToRef=G;function $(E,C,k){let O=r();return ie(E,C,k,O),O}e.lerp=$;function ie(E,C,k,O){for(let W=0;W<16;W++)O._m[W]=E._m[W]*(1-k)+C._m[W]*k;Ot(O)}e.lerpToRef=ie;function Te(E,C,k){let O=r();return Pe(E,C,k,O),O}e.decomposeLerp=Te;function Pe(E,C,k,O){let W=te.Zero(),le=qe.Zero(),re=te.Zero();D(E,W,le,re);let ge=te.Zero(),Ie=qe.Zero(),Fe=te.Zero();D(C,ge,Ie,Fe);let Ge=te.Zero();te.lerpToRef(W,ge,k,Ge);let mt=qe.Zero();qe.slerpToRef(le,Ie,k,mt);let Ve=te.Zero();te.lerpToRef(re,Fe,k,Ve),x(Ge,mt,Ve,O)}e.decomposeLerpToRef=Pe;function je(E,C,k){let O=r();return Je(E,C,k,O),O}e.LookAtLH=je;function Je(E,C,k,O){let W=te.Zero(),le=te.Zero(),re=te.Zero();te.subtractToRef(C,E,re),te.normalizeToRef(re,re),te.crossToRef(k,re,W);let ge=te.lengthSquared(W);ge===0?W.x=1:te.normalizeFromLengthToRef(W,Math.sqrt(ge),W),te.crossToRef(re,W,le),te.normalizeToRef(le,le);let Ie=-te.dot(W,E),Fe=-te.dot(le,E),Ge=-te.dot(re,E);h(W.x,le.x,re.x,0,W.y,le.y,re.y,0,W.z,le.z,re.z,0,Ie,Fe,Ge,1,O)}e.lookAtLHToRef=Je;function $e(E,C,k){let O=r();return at(E,C,k,O),O}e.lookAtRH=$e;function at(E,C,k,O){let W=te.Zero(),le=te.Zero(),re=te.Zero();te.subtractToRef(E,C,re),te.normalizeToRef(re,re),te.crossToRef(k,re,W);let ge=te.lengthSquared(W);ge===0?W.x=1:te.normalizeFromLengthToRef(W,Math.sqrt(ge),W),te.crossToRef(re,W,le),te.normalizeToRef(le,le);let Ie=-te.dot(W,E),Fe=-te.dot(le,E),Ge=-te.dot(re,E);h(W.x,le.x,re.x,0,W.y,le.y,re.y,0,W.z,le.z,re.z,0,Ie,Fe,Ge,1,O)}e.lookAtRHToRef=at;function lt(E,C,k,O){let W=r();return vt(E,C,k,O,W),W}e.orthoLH=lt;function vt(E,C,k,O,W){let le=k,re=O,ge=2/E,Ie=2/C,Fe=2/(re-le),Ge=-(re+le)/(re-le);h(ge,0,0,0,0,Ie,0,0,0,0,Fe,0,0,0,Ge,1,W),jt(W,ge===1&&Ie===1&&Fe===1&&Ge===0)}e.orthoLHToRef=vt;function tt(E,C,k,O,W,le){let re=r();return pn(E,C,k,O,W,le,re),re}e.OrthoOffCenterLH=tt;function pn(E,C,k,O,W,le,re){let ge=W,Ie=le,Fe=2/(C-E),Ge=2/(O-k),mt=2/(Ie-ge),Ve=-(Ie+ge)/(Ie-ge),wt=(E+C)/(E-C),Dt=(O+k)/(k-O);h(Fe,0,0,0,0,Ge,0,0,0,0,mt,0,wt,Dt,Ve,1,re),Ot(re)}e.orthoOffCenterLHToRef=pn;function J(E,C,k,O,W,le){let re=r();return ce(E,C,k,O,W,le,re),re}e.orthoOffCenterRH=J;function ce(E,C,k,O,W,le,re){pn(E,C,k,O,W,le,re),re._m[10]*=-1}e.orthoOffCenterRHToRef=ce;function _e(E,C,k,O){let W=r(),le=k,re=O,ge=2*le/E,Ie=2*le/C,Fe=(re+le)/(re-le),Ge=-2*re*le/(re-le);return h(ge,0,0,0,0,Ie,0,0,0,0,Fe,1,0,0,Ge,0,W),jt(W,!1),W}e.perspectiveLH=_e;function j(E,C,k,O){let W=r();return X(E,C,k,O,W),W}e.perspectiveFovLH=j;function X(E,C,k,O,W,le=!0){let re=k,ge=O,Ie=1/Math.tan(E*.5),Fe=le?Ie/C:Ie,Ge=le?Ie:Ie*C,mt=(ge+re)/(ge-re),Ve=-2*ge*re/(ge-re);h(Fe,0,0,0,0,Ge,0,0,0,0,mt,1,0,0,Ve,0,W),jt(W,!1)}e.perspectiveFovLHToRef=X;function Ne(E,C,k,O){let W=r();return ft(E,C,k,O,W),W}e.PerspectiveFovRH=Ne;function ft(E,C,k,O,W,le=!0){let re=k,ge=O,Ie=1/Math.tan(E*.5),Fe=le?Ie/C:Ie,Ge=le?Ie:Ie*C,mt=-(ge+re)/(ge-re),Ve=-2*ge*re/(ge-re);h(Fe,0,0,0,0,Ge,0,0,0,0,mt,-1,0,0,Ve,0,W),jt(W,!1)}e.perspectiveFovRHToRef=ft;function gn(E,C,k,O,W=!1){let le=W?-1:1,re=Math.tan(E.upDegrees*Math.PI/180),ge=Math.tan(E.downDegrees*Math.PI/180),Ie=Math.tan(E.leftDegrees*Math.PI/180),Fe=Math.tan(E.rightDegrees*Math.PI/180),Ge=2/(Ie+Fe),mt=2/(re+ge),Ve=O._m;Ve[0]=Ge,Ve[1]=Ve[2]=Ve[3]=Ve[4]=0,Ve[5]=mt,Ve[6]=Ve[7]=0,Ve[8]=(Ie-Fe)*Ge*.5,Ve[9]=-((re-ge)*mt*.5),Ve[10]=-k/(C-k),Ve[11]=1*le,Ve[12]=Ve[13]=Ve[15]=0,Ve[14]=-(2*k*C)/(k-C),Ot(O)}e.perspectiveFovWebVRToRef=gn;function Ui(E){return[E._m[0],E._m[1],E._m[4],E._m[5]]}e.GetAsMatrix2x2=Ui;function Qr(E){return[E._m[0],E._m[1],E._m[2],E._m[4],E._m[5],E._m[6],E._m[8],E._m[9],E._m[10]]}e.GetAsMatrix3x3=Qr;function Bi(E){let C=r();return Xo(E,C),C}e.transpose=Bi;function Xo(E,C){let k=C._m,O=E._m;k[0]=O[0],k[1]=O[4],k[2]=O[8],k[3]=O[12],k[4]=O[1],k[5]=O[5],k[6]=O[9],k[7]=O[13],k[8]=O[2],k[9]=O[6],k[10]=O[10],k[11]=O[14],k[12]=O[3],k[13]=O[7],k[14]=O[11],k[15]=O[15],jt(C,E.isIdentity,E._isIdentityDirty)}e.transposeToRef=Xo;function Zo(E){let C=r();return Xr(E,C),C}e.reflection=Zo;function Xr(E,C){let k=Sd.normalize(E),O=k.normal.x,W=k.normal.y,le=k.normal.z,re=-2*O,ge=-2*W,Ie=-2*le;h(re*O+1,ge*O,Ie*O,0,re*W,ge*W+1,Ie*W,0,re*le,ge*le,Ie*le+1,0,re*k.d,ge*k.d,Ie*k.d,1,C)}e.reflectionToRef=Xr;function zo(E,C,k,O){h(E.x,E.y,E.z,0,C.x,C.y,C.z,0,k.x,k.y,k.z,0,0,0,0,1,O)}e.fromXYZAxesToRef=zo;function xr(E,C){let k=E.x*E.x,O=E.y*E.y,W=E.z*E.z,le=E.x*E.y,re=E.z*E.w,ge=E.z*E.x,Ie=E.y*E.w,Fe=E.y*E.z,Ge=E.x*E.w;C._m[0]=1-2*(O+W),C._m[1]=2*(le+re),C._m[2]=2*(ge-Ie),C._m[3]=0,C._m[4]=2*(le-re),C._m[5]=1-2*(W+k),C._m[6]=2*(Fe+Ge),C._m[7]=0,C._m[8]=2*(ge+Ie),C._m[9]=2*(Fe-Ge),C._m[10]=1-2*(O+k),C._m[11]=0,C._m[12]=0,C._m[13]=0,C._m[14]=0,C._m[15]=1,Ot(C)}e.fromQuaternionToRef=xr;function Ot(E){E.updateFlag=s++,E.isIdentity=!1,E.isIdentity3x2=!1,E._isIdentityDirty=!0,E._isIdentity3x2Dirty=!0}function Zr(E){if(E._isIdentityDirty){E._isIdentityDirty=!1;let C=E._m;E.isIdentity=C[0]===1&&C[1]===0&&C[2]===0&&C[3]===0&&C[4]===0&&C[5]===1&&C[6]===0&&C[7]===0&&C[8]===0&&C[9]===0&&C[10]===1&&C[11]===0&&C[12]===0&&C[13]===0&&C[14]===0&&C[15]===1}return E.isIdentity}e.isIdentityUpdate=Zr;function Lo(E){return E._isIdentity3x2Dirty&&(E._isIdentity3x2Dirty=!1,E._m[0]!==1||E._m[5]!==1||E._m[15]!==1||E._m[1]!==0||E._m[2]!==0||E._m[3]!==0||E._m[4]!==0||E._m[6]!==0||E._m[7]!==0||E._m[8]!==0||E._m[9]!==0||E._m[10]!==0||E._m[11]!==0||E._m[12]!==0||E._m[13]!==0||E._m[14]!==0?E.isIdentity3x2=!1:E.isIdentity3x2=!0),E.isIdentity3x2}e.isIdentityAs3x2Update=Lo;function ei(E){if(E.isIdentity===!0)return 1;let C=E._m,k=C[0],O=C[1],W=C[2],le=C[3],re=C[4],ge=C[5],Ie=C[6],Fe=C[7],Ge=C[8],mt=C[9],Ve=C[10],wt=C[11],Dt=C[12],Qt=C[13],Ft=C[14],Be=C[15],on=Ve*Be-Ft*wt,rn=mt*Be-Qt*wt,st=mt*Ft-Qt*Ve,ot=Ge*Be-Dt*wt,an=Ge*Ft-Ve*Dt,Ct=Ge*Qt-Dt*mt,zt=+(ge*on-Ie*rn+Fe*st),Nn=-(re*on-Ie*ot+Fe*an),On=+(re*rn-ge*ot+Fe*Ct),Vt=-(re*st-ge*an+Ie*Ct);return k*zt+O*Nn+W*On+le*Vt}e.determinant=ei;function Di(E){return E._m}e.toArray=Di;function br(E){return E._m}e.asArray=br;function ti(E){h(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,E),jt(E,!1)}e.reset=ti;function Wi(E,C){let k=r();return ni(E,C,k),k}e.add=Wi;function ni(E,C,k){for(let O=0;O<16;O++)k._m[O]=E._m[O]+C._m[O];Ot(k)}e.addToRef=ni;function Uo(E,C){for(let k=0;k<16;k++)E._m[k]+=C._m[k];Ot(E)}e.addToSelf=Uo;function ji(E){let C=r();return Ar(E,C),C}e.invert=ji;function Ar(E,C){if(E.isIdentity===!0){K(E,C);return}let k=E._m,O=k[0],W=k[1],le=k[2],re=k[3],ge=k[4],Ie=k[5],Fe=k[6],Ge=k[7],mt=k[8],Ve=k[9],wt=k[10],Dt=k[11],Qt=k[12],Ft=k[13],Be=k[14],on=k[15],rn=wt*on-Be*Dt,st=Ve*on-Ft*Dt,ot=Ve*Be-Ft*wt,an=mt*on-Qt*Dt,Ct=mt*Be-wt*Qt,zt=mt*Ft-Qt*Ve,Nn=+(Ie*rn-Fe*st+Ge*ot),On=-(ge*rn-Fe*an+Ge*Ct),Vt=+(ge*st-Ie*an+Ge*zt),fo=-(ge*ot-Ie*Ct+Fe*zt),er=O*Nn+W*On+le*Vt+re*fo;if(er===0){K(E,C);return}let Ht=1/er,po=Fe*on-Be*Ge,tr=Ie*on-Ft*Ge,mn=Ie*Be-Ft*Fe,Cr=ge*on-Qt*Ge,Nr=ge*Be-Qt*Fe,vr=ge*Ft-Qt*Ie,mo=Fe*Dt-wt*Ge,Yi=Ie*Dt-Ve*Ge,ri=Ie*wt-Ve*Fe,Ji=ge*Dt-mt*Ge,Ou=ge*wt-mt*Fe,wu=ge*Ve-mt*Ie,gc=-(W*rn-le*st+re*ot),Mu=+(O*rn-le*an+re*Ct),Sc=-(O*st-W*an+re*zt),Ki=+(O*ot-W*Ct+le*zt),np=+(W*po-le*tr+re*mn),_c=-(O*po-le*Cr+re*Nr),dt=+(O*tr-W*Cr+re*vr),Pu=-(O*mn-W*Nr+le*vr),xc=-(W*mo-le*Yi+re*ri),zu=+(O*mo-le*Ji+re*Ou),op=-(O*Yi-W*Ji+re*wu),rp=+(O*ri-W*Ou+le*wu);h(Nn*Ht,gc*Ht,np*Ht,xc*Ht,On*Ht,Mu*Ht,_c*Ht,zu*Ht,Vt*Ht,Sc*Ht,dt*Ht,op*Ht,fo*Ht,Ki*Ht,Pu*Ht,rp*Ht,C)}e.invertToRef=Ar;function Fi(E,C,k){E._m[C]+=k,Ot(E)}e.addAtIndex=Fi;function Vi(E,C,k){return E._m[C]*=k,Ot(E),E}e.multiplyAtIndex=Vi;function oi(E,C,k,O){E._m[12]=C,E._m[13]=k,E._m[14]=O,Ot(E)}e.setTranslationFromFloats=oi;function Rr(E,C){oi(E,C.x,C.y,C.z)}e.setTranslation=Rr;function Hi(E){return te.create(E._m[12],E._m[13],E._m[14])}e.getTranslation=Hi;function Gi(E,C){C.x=E._m[12],C.y=E._m[13],C.z=E._m[14]}e.getTranslationToRef=Gi;function v(E){let C=E._m;return h(1,0,0,0,0,1,0,0,0,0,1,0,C[12],C[13],C[14],C[15],E),jt(E,C[12]===0&&C[13]===0&&C[14]===0&&C[15]===1),E}e.removeRotationAndScaling=v;function L(E,C){let k=r();return Se(E,C,k),k}e.multiply=L;function K(E,C){xe(E,C._m),jt(C,E.isIdentity,E._isIdentityDirty,E.isIdentity3x2,E._isIdentity3x2Dirty)}e.copy=K;function xe(E,C,k=0){for(let O=0;O<16;O++)C[k+O]=E._m[O]}e.copyToArray=xe;function Se(E,C,k){if(E.isIdentity){K(C,k);return}if(C.isIdentity){K(E,k);return}ve(E,C,k._m,0),Ot(k)}e.multiplyToRef=Se;function ve(E,C,k,O){let W=E._m,le=C._m,re=W[0],ge=W[1],Ie=W[2],Fe=W[3],Ge=W[4],mt=W[5],Ve=W[6],wt=W[7],Dt=W[8],Qt=W[9],Ft=W[10],Be=W[11],on=W[12],rn=W[13],st=W[14],ot=W[15],an=le[0],Ct=le[1],zt=le[2],Nn=le[3],On=le[4],Vt=le[5],fo=le[6],er=le[7],Ht=le[8],po=le[9],tr=le[10],mn=le[11],Cr=le[12],Nr=le[13],vr=le[14],mo=le[15];k[O]=re*an+ge*On+Ie*Ht+Fe*Cr,k[O+1]=re*Ct+ge*Vt+Ie*po+Fe*Nr,k[O+2]=re*zt+ge*fo+Ie*tr+Fe*vr,k[O+3]=re*Nn+ge*er+Ie*mn+Fe*mo,k[O+4]=Ge*an+mt*On+Ve*Ht+wt*Cr,k[O+5]=Ge*Ct+mt*Vt+Ve*po+wt*Nr,k[O+6]=Ge*zt+mt*fo+Ve*tr+wt*vr,k[O+7]=Ge*Nn+mt*er+Ve*mn+wt*mo,k[O+8]=Dt*an+Qt*On+Ft*Ht+Be*Cr,k[O+9]=Dt*Ct+Qt*Vt+Ft*po+Be*Nr,k[O+10]=Dt*zt+Qt*fo+Ft*tr+Be*vr,k[O+11]=Dt*Nn+Qt*er+Ft*mn+Be*mo,k[O+12]=on*an+rn*On+st*Ht+ot*Cr,k[O+13]=on*Ct+rn*Vt+st*po+ot*Nr,k[O+14]=on*zt+rn*fo+st*tr+ot*vr,k[O+15]=on*Nn+rn*er+st*mn+ot*mo}e.multiplyToArray=ve;function De(E,C){let k=C;if(!k)return!1;if((E.isIdentity||k.isIdentity)&&!E._isIdentityDirty&&!k._isIdentityDirty)return E.isIdentity&&k.isIdentity;let O=E._m,W=k._m;return O[0]===W[0]&&O[1]===W[1]&&O[2]===W[2]&&O[3]===W[3]&&O[4]===W[4]&&O[5]===W[5]&&O[6]===W[6]&&O[7]===W[7]&&O[8]===W[8]&&O[9]===W[9]&&O[10]===W[10]&&O[11]===W[11]&&O[12]===W[12]&&O[13]===W[13]&&O[14]===W[14]&&O[15]===W[15]}e.equals=De;function Pt(E){let C=r();return K(E,C),C}e.clone=Pt;function I(E){let C=E._m[0]||0;for(let k=1;k<16;k++)C=C*397^(E._m[k]||0);return C}e.getHashCode=I;function D(E,C,k,O){if(E.isIdentity)return O&&(O.x=0,O.y=0,O.z=0),C&&(C.x=1,C.y=1,C.z=1),k&&(k.w=1,k.x=0,k.y=0,k.z=0),!0;let W=E._m;O&&(O.x=W[12],O.y=W[13],O.z=W[14]);let le=C||te.Zero();if(le.x=Math.sqrt(W[0]*W[0]+W[1]*W[1]+W[2]*W[2]),le.y=Math.sqrt(W[4]*W[4]+W[5]*W[5]+W[6]*W[6]),le.z=Math.sqrt(W[8]*W[8]+W[9]*W[9]+W[10]*W[10]),ei(E)<=0&&(le.y*=-1),le.x===0||le.y===0||le.z===0)return k&&(k.w=1,k.x=0,k.y=0,k.z=0),!1;if(k){let re=1/le.x,ge=1/le.y,Ie=1/le.z,Fe=r();h(W[0]*re,W[1]*re,W[2]*re,0,W[4]*ge,W[5]*ge,W[6]*ge,0,W[8]*Ie,W[9]*Ie,W[10]*Ie,0,0,0,0,1,Fe),qe.fromRotationMatrixToRef(Fe,k)}return!0}e.decompose=D;function Y(E,C,k,O,W,le){if(C<0||C>3)return;let re=C*4;E._m[re+0]=k,E._m[re+1]=O,E._m[re+2]=W,E._m[re+3]=le,Ot(E)}e.setRowFromFloats=Y;function de(E,C){let k=r();return oe(E,C,k),k}e.scale=de;function oe(E,C,k){for(let O=0;O<16;O++)k._m[O]=E._m[O]*C;Ot(k)}e.scaleToRef=oe;function Ae(E,C,k){for(let O=0;O<16;O++)k._m[O]+=E._m[O]*C;Ot(k)}e.scaleAndAddToRef=Ae;function et(E,C){let k=r();Ar(E,k),Xo(k,C);let O=C._m;h(O[0],O[1],O[2],0,O[4],O[5],O[6],0,O[8],O[9],O[10],0,0,0,0,1,C)}e.normalMatrixToRef=et;function Tt(E){let C=r();return Bt(E,C),C}e.getRotationMatrix=Tt;function Bt(E,C){let k=te.Zero();if(!D(E,k)){C=P();return}let O=E._m,W=1/k.x,le=1/k.y,re=1/k.z;h(O[0]*W,O[1]*W,O[2]*W,0,O[4]*le,O[5]*le,O[6]*le,0,O[8]*re,O[9]*re,O[10]*re,0,0,0,0,1,C)}e.getRotationMatrixToRef=Bt;function lo(E){E._m[2]*=-1,E._m[6]*=-1,E._m[8]*=-1,E._m[9]*=-1,E._m[14]*=-1,Ot(E)}e.toggleModelMatrixHandInPlace=lo;function qi(E){E._m[8]*=-1,E._m[9]*=-1,E._m[10]*=-1,E._m[11]*=-1,Ot(E)}e.toggleProjectionMatrixHandInPlace=qi;function jt(E,C,k=!1,O=!1,W=!0){E.updateFlag=s++,E.isIdentity=C,E.isIdentity3x2=C||O,E._isIdentityDirty=E.isIdentity?!1:k,E._isIdentity3x2Dirty=E.isIdentity3x2?!1:W}})(Jo||(Jo={}));var qe;(function(e){function n(z=0,R=0,G=0,$=1){return{x:z,y:R,z:G,w:$}}e.create=n;function s(z,R){return{x:z.x+R.x,y:z.y+R.y,z:z.z+R.z,w:z.w+R.w}}e.add=s;function t(z,R,G){let $=R*.5,ie=z*.5,Te=G*.5,Pe=Math.cos($),je=Math.cos(ie),Je=Math.cos(Te),$e=Math.sin($),at=Math.sin(ie),lt=Math.sin(Te);return n(je*$e*Je+at*Pe*lt,at*Pe*Je-je*$e*lt,je*Pe*lt-at*$e*Je,je*Pe*Je+at*$e*lt)}e.fromRotationYawPitchRoll=t;function i(z,R,G){return t(R*du,z*du,G*du)}e.fromEulerDegrees=i;function r(z){return Math.sqrt(f(z))}e.length=r;function f(z){return z.x*z.x+z.y*z.y+z.z*z.z+z.w*z.w}e.lengthSquared=f;function u(z,R){return z.x*R.x+z.y*R.y+z.z*R.z+z.w*R.w}e.dot=u;function c(z,R){let G=u(z,R);return Math.acos(Math.min(Math.abs(G),1))*2*pu}e.angle=c;function h(z,R,G){let $=c(z,R);if($===0)return R;let ie=Math.min(1,G/$);return b(z,R,ie)}e.rotateTowards=h;function y(z,R={x:0,y:1,z:0}){let G=te.normalize(z),$=te.normalize(te.cross(R,G)),ie=te.cross(G,$),Te=$.x,Pe=$.y,je=$.z,Je=ie.x,$e=ie.y,at=ie.z,lt=G.x,vt=G.y,tt=G.z,pn=Te+$e+tt,J=n();if(pn>0){let j=Math.sqrt(pn+1);return J.w=j*.5,j=.5/j,J.x=(at-vt)*j,J.y=(lt-je)*j,J.z=(Pe-Je)*j,J}if(Te>=$e&&Te>=tt){let j=Math.sqrt(1+Te-$e-tt),X=.5/j;return J.x=.5*j,J.y=(Pe+Je)*X,J.z=(je+lt)*X,J.w=(at-vt)*X,J}if($e>tt){let j=Math.sqrt(1+$e-Te-tt),X=.5/j;return J.x=(Je+Pe)*X,J.y=.5*j,J.z=(vt+at)*X,J.w=(lt-je)*X,J}let ce=Math.sqrt(1+tt-Te-$e),_e=.5/ce;return J.x=(lt+je)*_e,J.y=(vt+at)*_e,J.z=.5*ce,J.w=(Pe-Je)*_e,J}e.lookRotation=y;function w(z){let R=1/r(z);return n(z.x*R,z.y*R,z.z*R,z.w*R)}e.normalize=w;function x(z,R,G=te.Up()){let $=te.normalize(z),ie=te.normalize(R),Te=te.cross($,ie),Pe=Math.sqrt(te.lengthSquared($)*te.lengthSquared(ie))+te.dot($,ie);return te.lengthSquared(Te)<1e-4?Math.abs(Pe)<1e-4?w(n(G.x,G.y,G.z,0)):P():w(n(Te.x,Te.y,Te.z,Pe))}e.fromToRotation=x;function P(){return n(0,0,0,1)}e.Identity=P;function A(z){let R=te.create(),G=z.x*z.x+z.y*z.y+z.z*z.z+z.w*z.w,$=z.x*z.w-z.y*z.z;return $>.4995*G?(R.x=Math.PI/2,R.y=2*Math.atan2(z.y,z.x),R.z=0):$<-.4995*G?(R.x=-Math.PI/2,R.y=-2*Math.atan2(z.y,z.x),R.z=0):(R.x=Math.asin(2*(z.w*z.x-z.y*z.z)),R.y=Math.atan2(2*z.w*z.y+2*z.z*z.x,1-2*(z.x*z.x+z.y*z.y)),R.z=Math.atan2(2*z.w*z.z+2*z.x*z.y,1-2*(z.z*z.z+z.x*z.x))),R.x*=pu,R.y*=pu,R.z*=pu,R.x=kt.repeat(R.x,360),R.y=kt.repeat(R.y,360),R.z=kt.repeat(R.z,360),R}e.toEulerAngles=A;function g(z,R,G,$){let ie=R*.5,Te=z*.5,Pe=G*.5,je=Math.cos(ie),Je=Math.cos(Te),$e=Math.cos(Pe),at=Math.sin(ie),lt=Math.sin(Te),vt=Math.sin(Pe);$.x=Je*at*$e+lt*je*vt,$.y=lt*je*$e-Je*at*vt,$.z=Je*je*vt-lt*at*$e,$.w=Je*je*$e+lt*at*vt}e.fromRotationYawPitchRollToRef=g;function _(z,R){let G=z._m,$=G[0],ie=G[4],Te=G[8],Pe=G[1],je=G[5],Je=G[9],$e=G[2],at=G[6],lt=G[10],vt=$+je+lt,tt;vt>0?(tt=.5/Math.sqrt(vt+1),R.w=.25/tt,R.x=(at-Je)*tt,R.y=(Te-$e)*tt,R.z=(Pe-ie)*tt):$>je&&$>lt?(tt=2*Math.sqrt(1+$-je-lt),R.w=(at-Je)/tt,R.x=.25*tt,R.y=(ie+Pe)/tt,R.z=(Te+$e)/tt):je>lt?(tt=2*Math.sqrt(1+je-$-lt),R.w=(Te-$e)/tt,R.x=(ie+Pe)/tt,R.y=.25*tt,R.z=(Je+at)/tt):(tt=2*Math.sqrt(1+lt-$-je),R.w=(Pe-ie)/tt,R.x=(Te+$e)/tt,R.y=(Je+at)/tt,R.z=.25*tt)}e.fromRotationMatrixToRef=_;function b(z,R,G){let $=e.Identity();return e.slerpToRef(z,R,G,$),$}e.slerp=b;function M(z,R,G,$){let ie,Te,Pe=z.x*R.x+z.y*R.y+z.z*R.z+z.w*R.w,je=!1;if(Pe<0&&(je=!0,Pe=-Pe),Pe>.999999)Te=1-G,ie=je?-G:G;else{let Je=Math.acos(Pe),$e=1/Math.sin(Je);Te=Math.sin((1-G)*Je)*$e,ie=je?-Math.sin(G*Je)*$e:Math.sin(G*Je)*$e}$.x=Te*z.x+ie*R.x,$.y=Te*z.y+ie*R.y,$.z=Te*z.z+ie*R.z,$.w=Te*z.w+ie*R.w}e.slerpToRef=M;function q(z,R){let G=n(0,0,0,1);return ue(z,R,G),G}e.multiply=q;function ue(z,R,G){G.x=z.x*R.w+z.y*R.z-z.z*R.y+z.w*R.x,G.y=-z.x*R.z+z.y*R.w+z.z*R.x+z.w*R.y,G.z=z.x*R.y-z.y*R.x+z.z*R.w+z.w*R.z,G.w=-z.x*R.x-z.y*R.y-z.z*R.z+z.w*R.w}e.multiplyToRef=ue;function be(z,R){if(te.lengthSquared(R)===0)return e.Identity();let G=P(),$=z*du;$*=.5;let ie=te.normalize(R);return te.scaleToRef(ie,Math.sin($),ie),G.x=ie.x,G.y=ie.y,G.z=ie.z,G.w=Math.cos($),w(G)}e.fromAngleAxis=be;function ae(z,R,G){let $=e.create(0,0,0,0);return se(z,R,G,$),$}e.fromAxisToRotationQuaternion=ae;function se(z,R,G,$){let ie=Jo.create();Jo.fromXYZAxesToRef(te.normalize(z),te.normalize(R),te.normalize(G),ie),e.fromRotationMatrixToRef(ie,$)}e.fromAxisToRotationQuaternionToRef=se;function ee(){return n(0,0,0,0)}e.Zero=ee;function H(z,R,G=te.Up()){let $=e.Identity();return F(z,R,G,$),$}e.fromLookAt=H;function F(z,R,G=te.Up(),$){let ie=Jo.Identity();Jo.lookAtLHToRef(z,R,G,ie),Jo.invertToRef(ie,ie),e.fromRotationMatrixToRef(ie,$)}e.fromLookAtToRef=F})(qe||(qe={}));var V1;(function(e){function n(i=0,r=0){return{x:i,y:r}}e.create=n;function s(){return n(0,0)}e.Zero=s;function t(){return n(1,1)}e.One=t})(V1||(V1={}));var U;(function(e){function n(J=0,ce=0,_e=0,j=1){return{r:J,g:ce,b:_e,a:j}}e.create=n;function s(J){if(J.substring(0,1)!=="#"||J.length!==7&&J.length!==9)return n(0,0,0,1);let ce=parseInt(J.substring(1,3),16),_e=parseInt(J.substring(3,5),16),j=parseInt(J.substring(5,7),16),X=J.substring(7,9),Ne=X?parseInt(X,16):255;return e.fromInts(ce,_e,j,Ne)}e.fromHexString=s;function t(J,ce,_e){let j=n(0,0,0,0);return e.lerpToRef(J,ce,_e,j),j}e.lerp=t;function i(J,ce,_e,j){j.r=J.r+(ce.r-J.r)*_e,j.g=J.g+(ce.g-J.g)*_e,j.b=J.b+(ce.b-J.b)*_e,j.a=J.a+(ce.a-J.a)*_e}e.lerpToRef=i;function r(){return n(1,0,0,1)}e.Red=r;function f(){return n(0,1,0,1)}e.Green=f;function u(){return n(0,0,1,1)}e.Blue=u;function c(){return n(0,0,0,1)}e.Black=c;function h(){return n(1,1,1,1)}e.White=h;function y(){return n(.5,0,.5,1)}e.Purple=y;function w(){return n(1,0,1,1)}e.Magenta=w;function x(){return n(1,1,0,1)}e.Yellow=x;function P(){return n(.5,.5,.5,1)}e.Gray=P;function A(){return n(0,1,1,1)}e.Teal=A;function g(){return n(0,0,0,0)}e.Clear=g;function _(J,ce=1){return n(J.r,J.g,J.b,ce)}e.fromColor3=_;function b(J,ce=0){return n(J[ce],J[ce+1],J[ce+2],J[ce+3])}e.fromArray=b;function M(J,ce,_e,j){return n(J/255,ce/255,_e/255,j/255)}e.fromInts=M;function q(J,ce){if(J.length===ce*3){let _e=[];for(let j=0;j<J.length;j+=3){let X=j/3*4;_e[X]=J[j],_e[X+1]=J[j+1],_e[X+2]=J[j+2],_e[X+3]=1}return _e}return J}e.checkColors4=q;function ue(J,ce,_e){_e.r=J.r+ce.r,_e.g=J.g+ce.g,_e.b=J.b+ce.b,_e.a=J.a+ce.a}e.addToRef=ue;function be(J,ce,_e=0){ce[_e]=J.r,ce[_e+1]=J.g,ce[_e+2]=J.b,ce[_e+3]=J.a}e.toArray=be;function ae(J,ce){let _e=g();return ue(J,ce,_e),_e}e.add=ae;function se(J,ce){let _e=g();return ee(J,ce,_e),_e}e.subtract=se;function ee(J,ce,_e){_e.r=J.r-ce.r,_e.g=J.g-ce.g,_e.b=J.b-ce.b,_e.a=J.a-ce.a}e.subtractToRef=ee;function H(J,ce){return n(J.r*ce,J.g*ce,J.b*ce,J.a*ce)}e.scale=H;function F(J,ce,_e){_e.r=J.r*ce,_e.g=J.g*ce,_e.b=J.b*ce,_e.a=J.a*ce}e.scaleToRef=F;function z(J,ce,_e){_e.r+=J.r*ce,_e.g+=J.g*ce,_e.b+=J.b*ce,_e.a+=J.a*ce}e.scaleAndAddToRef=z;function R(J,ce=0,_e=1,j){j.r=kt.clamp(J.r,ce,_e),j.g=kt.clamp(J.g,ce,_e),j.b=kt.clamp(J.b,ce,_e),j.a=kt.clamp(J.a,ce,_e)}e.clampToRef=R;function G(J,ce){return n(J.r*ce.r,J.g*ce.g,J.b*ce.b,J.a*ce.a)}e.multiply=G;function $(J,ce,_e){_e.r=J.r*ce.r,_e.g=J.g*ce.g,_e.b=J.b*ce.b,_e.a=J.a*ce.a}e.multiplyToRef=$;function ie(J){return"{R: "+J.r+" G:"+J.g+" B:"+J.b+" A:"+J.a+"}"}e.toString=ie;function Te(J){let ce=J.r||0;return ce=ce*397^(J.g||0),ce=ce*397^(J.b||0),ce=ce*397^(J.a||0),ce}e.getHashCode=Te;function Pe(J){return n(J.r,J.g,J.b,J.a)}e.clone=Pe;function je(J,ce){ce.r=J.r,ce.g=J.g,ce.b=J.b,ce.a=J.a}e.copyFrom=je;function Je(J,ce,_e,j,X){X.r=J,X.g=ce,X.b=_e,X.a=j}e.copyFromFloats=Je;function $e(J,ce,_e,j,X){X.r=J,X.g=ce,X.b=_e,X.a=j}e.set=$e;function at(J){let ce=J.r*255|0,_e=J.g*255|0,j=J.b*255|0,X=J.a*255|0;return"#"+kt.toHex(ce)+kt.toHex(_e)+kt.toHex(j)+kt.toHex(X)}e.toHexString=at;function lt(J){let ce=n();return vt(J,ce),ce}e.toLinearSpace=lt;function vt(J,ce){ce.r=Math.pow(J.r,Ci),ce.g=Math.pow(J.g,Ci),ce.b=Math.pow(J.b,Ci),ce.a=J.a}e.toLinearSpaceToRef=vt;function tt(J){let ce=n();return pn(J,ce),ce}e.toGammaSpace=tt;function pn(J,ce){ce.r=Math.pow(J.r,Ri),ce.g=Math.pow(J.g,Ri),ce.b=Math.pow(J.b,Ri),ce.a=J.a}e.toGammaSpaceToRef=pn})(U||(U={}));var ic;(function(e){function n(j=0,X=0,Ne=0){return{r:j,g:X,b:Ne}}e.create=n;function s(j){if(j.substring(0,1)!=="#"||j.length!==7)return n(0,0,0);let X=parseInt(j.substring(1,3),16),Ne=parseInt(j.substring(3,5),16),ft=parseInt(j.substring(5,7),16);return i(X,Ne,ft)}e.fromHexString=s;function t(j,X=0){return n(j[X],j[X+1],j[X+2])}e.fromArray=t;function i(j,X,Ne){return n(j/255,X/255,Ne/255)}e.fromInts=i;function r(j,X,Ne){let ft=n(0,0,0);return e.lerpToRef(j,X,Ne,ft),ft}e.lerp=r;function f(j,X,Ne,ft){ft.r=j.r+(X.r-j.r)*Ne,ft.g=j.g+(X.g-j.g)*Ne,ft.b=j.b+(X.b-j.b)*Ne}e.lerpToRef=f;function u(){return n(1,0,0)}e.Red=u;function c(){return n(0,1,0)}e.Green=c;function h(){return n(0,0,1)}e.Blue=h;function y(){return n(0,0,0)}e.Black=y;function w(){return n(1,1,1)}e.White=w;function x(){return n(.5,0,.5)}e.Purple=x;function P(){return n(1,0,1)}e.Magenta=P;function A(){return n(1,1,0)}e.Yellow=A;function g(){return n(.5,.5,.5)}e.Gray=g;function _(){return n(0,1,1)}e.Teal=_;function b(){return n(Math.random(),Math.random(),Math.random())}e.Random=b;function M(j){return"{R: "+j.r+" G:"+j.g+" B:"+j.b+"}"}e.toString=M;function q(j){let X=j.r||0;return X=X*397^(j.g||0),X=X*397^(j.b||0),X}e.getHashCode=q;function ue(j,X,Ne=0){X[Ne]=j.r,X[Ne+1]=j.g,X[Ne+2]=j.b}e.toArray=ue;function be(j,X=1){return U.create(j.r,j.g,j.b,X)}e.toColor4=be;function ae(j){let X=new Array;return ue(j,X,0),X}e.asArray=ae;function se(j){return j.r*.3+j.g*.59+j.b*.11}e.toLuminance=se;function ee(j,X){return n(j.r*X.r,j.g*X.g,j.b*X.b)}e.multiply=ee;function H(j,X,Ne){Ne.r=j.r*X.r,Ne.g=j.g*X.g,Ne.b=j.b*X.b}e.multiplyToRef=H;function F(j,X){return X&&j.r===X.r&&j.g===X.g&&j.b===X.b}e.equals=F;function z(j,X,Ne,ft){return j.r===X&&j.g===Ne&&j.b===ft}e.equalsFloats=z;function R(j,X){return n(j.r*X,j.g*X,j.b*X)}e.scale=R;function G(j,X,Ne){Ne.r=j.r*X,Ne.g=j.g*X,Ne.b=j.b*X}e.scaleToRef=G;function $(j,X,Ne){Ne.r+=j.r*X,Ne.g+=j.g*X,Ne.b+=j.b*X}e.scaleAndAddToRef=$;function ie(j,X=0,Ne=1,ft){ft.r=kt.clamp(j.r,X,Ne),ft.g=kt.clamp(j.g,X,Ne),ft.b=kt.clamp(j.b,X,Ne)}e.clampToRef=ie;function Te(j,X=0,Ne=1){let ft=e.Black();return ie(j,X,Ne,ft),ft}e.clamp=Te;function Pe(j,X){return n(j.r+X.r,j.g+X.g,j.b+X.b)}e.add=Pe;function je(j,X,Ne){Ne.r=j.r+X.r,Ne.g=j.g+X.g,Ne.b=j.b+X.b}e.addToRef=je;function Je(j,X){return n(j.r-X.r,j.g-X.g,j.b-X.b)}e.subtract=Je;function $e(j,X,Ne){Ne.r=j.r-X.r,Ne.g=j.g-X.g,Ne.b=j.b-X.b}e.subtractToRef=$e;function at(j){return n(j.r,j.g,j.b)}e.clone=at;function lt(j,X){X.r=j.r,X.g=j.g,X.b=j.b}e.copyFrom=lt;function vt(j,X,Ne,ft){j.r=X,j.g=Ne,j.b=ft}e.set=vt;function tt(j){let X=j.r*255|0,Ne=j.g*255|0,ft=j.b*255|0;return"#"+kt.toHex(X)+kt.toHex(Ne)+kt.toHex(ft)}e.toHexString=tt;function pn(j){let X=n();return J(j,X),X}e.toLinearSpace=pn;function J(j,X){X.r=Math.pow(j.r,Ci),X.g=Math.pow(j.g,Ci),X.b=Math.pow(j.b,Ci)}e.toLinearSpaceToRef=J;function ce(j){let X=n();return _e(j,X),X}e.toGammaSpace=ce;function _e(j,X){X.r=Math.pow(j.r,Ri),X.g=Math.pow(j.g,Ri),X.b=Math.pow(j.b,Ri)}e.toGammaSpaceToRef=_e})(ic||(ic={}));var Z1=require("~system/CommunicationsController");var ih=[v1,dd,p1,T1,g1,ld,S1,Ca,x1,b1,A1,R1,N1,C1],ah=ih.map(e=>e.componentId);function H1(e){let n=new pt,s=new pt,t=e.getComponent(rc.componentId),i=[];for(let f of e.componentsIter())ah.includes(f.componentId)||f.dumpCrdtStateToBuffer(n,u=>t.has(u));let r;for(;r=en.getHeader(n);)if(r.type===he.PUT_COMPONENT){let f=eo.read(n),u=t.getOrNull(f.entityId),c=s.toBinary().byteLength,h=f.data.byteLength;if((c+h)/1024>uu&&(c>0&&(i.push(s.toCopiedBinary()),s.resetBuffer()),h/1024>uu)){console.error(`Message too large (${h} bytes), skipping component ${f.componentId} for entity ${f.entityId}`);continue}u&&hr.write(u.entityId,f.timestamp,f.componentId,u.networkId,f.data,s)}else n.incrementReadOffset(r.length);return s.currentWriteOffset()>0&&i.push(s.toBinary()),i}function G1(e){let n=e.getComponent(rc.componentId),s=e.getComponent(Td.componentId);return function(t){let i=t.componentId;if(ah.includes(i))return!1;let[r]=vo.fromEntityId(t.entityId);if(r<qm)return!1;let f=n.getOrNull(t.entityId);if(t.type===he.DELETE_ENTITY_NETWORK||f&&t.type===he.DELETE_ENTITY)return!0;let u=s.getOrNull(t.entityId);return u?t.timestamp<=1?!0:i===n.componentId?!1:!!(i===gd.componentId||i===s.componentId||i&&u.componentIds.includes(i)):!1}}var Vr;(function(e){e[e.CRDT=1]="CRDT",e[e.REQ_CRDT_STATE=2]="REQ_CRDT_STATE",e[e.RES_CRDT_STATE=3]="RES_CRDT_STATE"})(Vr||(Vr={}));function q1(e){let n=new Map;return{on:(s,t)=>{n.set(s,t)},emit:(s,t,i)=>{e(W3(s,t),i)},__processMessages:s=>{for(let t of s){let i=j3(t);if(!i)continue;let{sender:r,messageType:f,data:u}=i,c=n.get(f);c&&c(u,r)}}}}function W3(e,n){let s=new Uint8Array(n.byteLength+1);return s.set([e]),s.set(n,1),s}function j3(e){try{let n=0,s=new Uint8Array(e),t=new DataView(s.buffer),i=t.getUint8(n);n+=1;let r=sh(e.subarray(1,i+1));n+=i;let f=t.getUint8(n);n+=1;let u=s.subarray(n);return{sender:r,messageType:f,data:u}}catch(n){console.error("Invalid Comms message",n)}}function sh(e){let n=new pt;return n.writeBuffer(e,!0),n.readUtf8String()}function Y1(e){let n=new pt;return n.writeUtf8String(e),n.readBuffer()}function J1(e,n){n({}).then(({data:s})=>{if(s?.userId){let t=s.userId,i=No(s.userId);e.networkId=i,e.userId=t}else throw new Error("Couldn't fetch profile data")})}function K1(e,n){let s=e.getComponent(rc.componentId),t=e.getComponent(gd.componentId),i=e.getComponent(Jt.componentId),r=e.getComponent(Td.componentId);function f(x,P,A){let g=[...P];if(!n?.networkId)throw new Error("Profile not initialized. Call syncEntity inside the main() function.");let _={entityId:x,networkId:n.networkId};if(A!==void 0){_.networkId=0,_.entityId=A;for(let[b,M]of e.getEntitiesWith(s))if(M.networkId===_.networkId&&M.entityId===_.entityId)throw new Error("syncEntity failed because the id provided is already in use")}for(let b of ih)g.includes(b.componentId)&&(console.log(`\u26A0\uFE0F ${b.componentName} can't be sync through the network!`),g=g.filter(M=>M!==b.componentId));s.createOrReplace(x,_),r.createOrReplace(x,{componentIds:g})}function*u(x){let P=s.getOrNull(x);if(P)for(let[A,g]of e.getEntitiesWith(t))g.entityId===P.entityId&&g.networkId===P.networkId&&(yield A)}function c(x){return Array.from(u(x))[0]}function h(x){let P=t.getOrNull(x);if(P){for(let[A,g]of e.getEntitiesWith(s))if(P.networkId===g.networkId&&P.entityId===g.entityId)return A}}function y(x,P){let A=s.getOrNull(P);if(!A)throw new Error("Entity is not sync. Call syncEntity on the parent.");t.createOrReplace(x,A),i.getOrNull(x)?i.getMutable(x):i.create(x)}function w(x){if(!s.getOrNull(x))throw new Error("Entity is not sync");t.deleteFrom(x)}return{syncEntity:f,getChildren:u,getParent:h,parentEntity:y,removeParent:w,getFirstChild:c}}function ch(e){let n=Vn(e),s=ga(e),t=Ea(e),i=ya(e),r=new Map,f=[],u=[];return e.addSystem(()=>{let c=Array.from(e.getEntitiesWith(s,i));if(c.length!==r.size)for(let[h,y]of c)r.has(h)||(r.set(h,y.address),f.length&&f.forEach(w=>w(F3({userId:y.address}))),i.onChange(h,w=>{!w&&r.get(h)&&(u.forEach(x=>x(r.get(h))),r.delete(h))}))}),{onEnterScene(c){f.push(c)},onLeaveScene(c){u.push(c)},getPlayer(c){function h(){if(!c?.userId)return e.PlayerEntity;for(let[A,g]of e.getEntitiesWith(s))if(g.address===c.userId)return A}let y=h();if(!y)return null;let w=s.getOrNull(y),x=i.getOrNull(y),P=t.getOrNull(y);return!w&&!x&&!P?null:{entity:y,name:x?.name??"",isGuest:!!w?.isGuest,userId:w?.address??"",avatar:x??void 0,wearables:P?.wearableUrns??[],emotes:P?.emoteUrns??[],position:n.getOrNull(y)?.position}}}}var $1=ch(ye),{getPlayer:F3,onEnterScene:HL,onLeaveScene:GL}=$1;var mu=$1;function Q1(e){let n=en.getHeader(e);return n?n.type===he.PUT_COMPONENT?eo.read(e):n.type===he.PUT_COMPONENT_NETWORK?hr.read(e):n.type===he.DELETE_COMPONENT?Yo.read(e):n.type===he.DELETE_COMPONENT_NETWORK?Si.read(e):n.type===he.APPEND_VALUE?jr.read(e):n.type===he.DELETE_ENTITY?Fr.read(e):n.type===he.DELETE_ENTITY_NETWORK?_i.read(e):null:null}function*uh(e,n,s){let t=new pt(n),i;for(;i=Q1(t);){let r=i.entityId,f=`${e}: ${he[i.type]} e=${r}`;if((i.type===he.DELETE_ENTITY||i.type===he.DELETE_ENTITY_NETWORK)&&(yield`${f}`),i.type===he.PUT_COMPONENT||i.type===he.PUT_COMPONENT_NETWORK||i.type===he.DELETE_COMPONENT_NETWORK||i.type===he.DELETE_COMPONENT||i.type===he.APPEND_VALUE){let{componentId:u,timestamp:c}=i,h="data"in i?i.data:void 0,y=h?`${h.byteLength/1024}KB`:"";try{let w=s.getComponent(u);yield`${f} c=${w.componentName} t=${c} ${y} data=${JSON.stringify(h&&w.schema.deserialize(new pt(h))||null)}`}catch{yield`${f} c=${u} t=${c} data=?`}}else i.type===he.DELETE_ENTITY||i.type===he.DELETE_ENTITY_NETWORK?yield f:yield`${f} Unknown CrdtMessageType`}}function X1(e,n,s){let t=()=>globalThis.DEBUG_NETWORK_MESSAGES??!1,i={};J1(i,s);let r=K1(e,i),f=[],u=q1((_,b)=>{f.push({data:[_],address:b??[]})});function c(){let _=[...f];return f.length=0,_}let h=ch(e),y=!1,w=!1,x={filter:G1(e),send:async _=>{for(let ue of[_].flat())ue.byteLength&&w&&(t()&&console.log(...Array.from(uh("[NetworkMessage sent]:",ue,e))),u.emit(Vr.CRDT,ue));let b=c(),M=0;for(let ue of b)for(let be of ue.data)M+=be.byteLength;M&&t()&&console.log("Sending network messages: ",M/1024,"KB");let q=await n({data:[],peerData:b});u.__processMessages(q.data),w=!0},type:"network"};e.addTransport(x),u.on(Vr.RES_CRDT_STATE,_=>{let{sender:b,data:M}=V3(_);b===i.userId&&(t()&&console.log("[Processing CRDT State]",M.byteLength/1024,"KB"),x.onmessage(M),y=!0)}),u.on(Vr.REQ_CRDT_STATE,async(_,b)=>{t()&&console.log(`Sending CRDT State to: ${b}`);for(let M of H1(e))u.emit(Vr.RES_CRDT_STATE,H3(b,M),[b])}),u.on(Vr.CRDT,_=>{t()&&console.log(Array.from(uh("[NetworkMessage received]:",_,e))),x.onmessage(_)});async function P(_=1){let b=Array.from(e.getEntitiesWith(Ra));if(t()&&console.log(`Requesting state. Players connected: ${b.length-1}`),!Ca.getOrNull(e.RootEntity)?.isConnectedSceneRoom){t()&&console.log("Aborting Requesting state?. Disconnected");return}u.emit(Vr.REQ_CRDT_STATE,new Uint8Array),await g(5e3),b=Array.from(e.getEntitiesWith(Ra)),y||(b.length>1&&_<=2?(t()&&console.log(`Requesting state again ${_} (no response). Players connected: ${b.length-1}`),P(_+1)):(t()&&console.log("No active players. State syncronized"),y=!0))}h.onEnterScene(_=>{t()&&console.log("[onEnterScene]",_.userId)}),Ca.onChange(e.RootEntity,_=>{_?.isConnectedSceneRoom||(t()&&console.log("Disconnected from comms"),y=!1),_?.isConnectedSceneRoom&&t()&&console.log("Connected to comms"),_?.isConnectedSceneRoom&&!y&&P()}),h.onLeaveScene(_=>{t()&&console.log("[onLeaveScene]",_)});function A(){return y}function g(_){return new Promise(b=>{let M=0;function q(ue){M+=ue,M*1e3>=_&&(e.removeSystem(q),b())}e.addSystem(q)})}return{...r,myProfile:i,isStateSyncronized:A}}function V3(e){let n=0,s=new Uint8Array(e),i=new DataView(s.buffer).getUint8(n);n+=1;let r=sh(e.subarray(1,i+1));n+=i;let f=s.subarray(n);return{sender:r,data:f}}function H3(e,n){let s=Y1(e),i=1+s.byteLength+n.byteLength,r=new Uint8Array(i);return r.set(new Uint8Array([s.byteLength]),0),r.set(s,1),r.set(n,s.byteLength+1),r}var eS=require("~system/UserIdentity"),{getChildren:TU,syncEntity:_d,parentEntity:gU,getParent:SU,myProfile:_U,removeParent:xU,getFirstChild:bU,isStateSyncronized:AU}=X1(ye,Z1.sendBinary,eS.getUserData);function G3(e){let n=Vn(e),s=ga(e),t=Ea(e),i=ya(e),r=new Map,f=[],u=[];return e.addSystem(()=>{let c=Array.from(e.getEntitiesWith(s,i));if(c.length!==r.size)for(let[h,y]of c)r.has(h)||(r.set(h,y.address),f.length&&f.forEach(w=>w(lh({userId:y.address}))),i.onChange(h,w=>{!w&&r.get(h)&&(u.forEach(x=>x(r.get(h))),r.delete(h))}))}),{onEnterScene(c){f.push(c)},onLeaveScene(c){u.push(c)},getPlayer(c){function h(){if(!c?.userId)return e.PlayerEntity;for(let[A,g]of e.getEntitiesWith(s))if(g.address===c.userId)return A}let y=h();if(!y)return null;let w=s.getOrNull(y),x=i.getOrNull(y),P=t.getOrNull(y);return!w&&!x&&!P?null:{entity:y,name:x?.name??"",isGuest:!!w?.isGuest,userId:w?.address??"",avatar:x??void 0,wearables:P?.wearableUrns??[],emotes:P?.emoteUrns??[],position:n.getOrNull(y)?.position}}}}var q3=G3(ye),{getPlayer:lh,onEnterScene:MU,onLeaveScene:PU}=q3;function hu(e){return{all:e=e||new Map,on:function(n,s){var t=e.get(n);t?t.push(s):e.set(n,[s])},off:function(n,s){var t=e.get(n);t&&(s?t.splice(t.indexOf(s)>>>0,1):e.set(n,[]))},emit:function(n,s){var t=e.get(n);t&&t.slice().map(function(i){i(s)}),(t=e.get("*"))&&t.slice().map(function(i){i(n,s)})}}}var fh=new Map,dh=new Map;function Kt(e){return fh.has(e)||fh.set(e,hu()),fh.get(e)}function ko(e){return dh.has(e)||dh.set(e,hu()),dh.get(e)}function xd(){nS(),ph(),ye.addSystem(tS());let e=ye.getEntityOrNullByName("umbrellaTrigger");if(e){let n=ko(e);n.on("Activate Umbrella",s=>{ph()}),n.on("Deactivate Umbrella",s=>{})}ye.addSystem(tS())}function tS(){let e=0,n=null;return s=>{if(e+=s,e<5)return;e=0;let t=Jt.getOrNull(ye.PlayerEntity);if(!t)return;let i=t.position;(!n||te.distance(i,n)>3)&&(Y3(i),n={x:i.x,y:i.y,z:i.z})}}function Y3(e){let n=ye.addEntity();Jt.create(n,{position:{x:e.x,y:e.y,z:e.z},rotation:qe.fromEulerDegrees(0,0,0),scale:{x:1,y:1,z:1}}),eh.create(n,{src:"assets/asset-packs/construction_cone/ConstructionCone_01/ConstructionCone_01.glb",visibleMeshesCollisionMask:ma.CL_NONE,invisibleMeshesCollisionMask:ma.CL_NONE})}function nS(){let e=ye.getEntityOrNullByName("Video Screen");if(!e)return;let n=Jt.getMutable(e);n.position={x:3,y:2,z:4.5},n.scale={x:1.6,y:.9,z:.625},n.parent=ye.CameraEntity}function ph(){let e=ye.addEntity(),n=lh()?.userId;m1.create(e,{anchorPointId:Ml.AAPT_NAME_TAG,avatarId:n});let s=ye.addEntity();Jt.create(s,{position:{x:.3,y:1,z:0},rotation:qe.fromEulerDegrees(180,0,0),scale:{x:1,y:1,z:1},parent:e}),eh.create(s,{src:"assets/asset-packs/umbrella/umbrella.glb",visibleMeshesCollisionMask:ma.CL_NONE,invisibleMeshesCollisionMask:ma.CL_NONE}),_d(s,[])}var Nd=we(Cd()),to;(function(e){e.createElement=Nd.default.createElement,e.useEffect=Nd.default.useEffect,e.useState=Nd.default.useState})(to||(to={}));var QS=we(Cd());var KS=we(OS());var fA={"nine-slices":0,center:1,stretch:2};function MS(e){return{textureMode:e?fA[e]:1}}function PS(e){if(e.texture)return{tex:{$case:"texture",texture:wS(e.texture)}};if(e.avatarTexture)return{tex:{$case:"avatarTexture",avatarTexture:wS(e.avatarTexture)}}}function wS(e){return{...e,wrapMode:e.wrapMode?dA[e.wrapMode]:void 0,filterMode:e.filterMode?pA[e.filterMode]:void 0}}var dA={repeat:0,clamp:1,mirror:2},pA={point:0,"bi-linear":1,"tri-linear":2};function Md(e){if(!e||!Object.keys(e).length)return;let n=PS(e);return{...e,...MS(e.textureMode),uvs:e.uvs??[],texture:n}}function Su(e){return`${e[0].toUpperCase()}${e.slice(1,e.length)}`}function mA(e){return typeof e=="string"&&e.endsWith("%")}function hA(e){return typeof e=="string"&&e.endsWith("px")}function yA(e){return typeof e=="string"&&e.endsWith("vw")}function EA(e){return typeof e=="string"&&e.endsWith("vh")}function Pd(e){function n(s,t){return Number(t.slice(0,t.indexOf(s)))}return e==null?[void 0,0]:e==="auto"?[0,3]:typeof e=="number"||typeof e=="string"&&!isNaN(Number(e))?[Number(e),1]:mA(e)?[n("%",e),2]:hA(e)?[n("px",e),1]:yA(e)||EA(e)?[Ld(e),1]:[void 0,0]}function vh(e){if(typeof e=="object"){let n={};for(let s in e){let t=s,i=`border${Su(t)}Radius`,r=`${i}Unit`,[f,u]=Pd(e[t]);f!==void 0&&(n[r]=u,n[i]=f)}return n}if(typeof e=="number")return vh({topLeft:e,topRight:e,bottomLeft:e,bottomRight:e})}function kh(e){if(typeof e=="object"){let n={};for(let s in e){let t=s,i=`border${Su(t)}Width`,r=`${i}Unit`,[f,u]=Pd(e[t]);f!==void 0&&(n[r]=u,n[i]=f)}return n}if(typeof e=="number")return kh({top:e,left:e,right:e,bottom:e})}var TA=e=>e.b!==void 0;function Ih(e){if(TA(e))return Ih({top:e,left:e,right:e,bottom:e});if(typeof e=="object"){let n={};for(let s in e){let t=s,i=`border${Su(t)}Color`;n[i]=e[t]}return n}}function Hr(e={},n){if(typeof e=="object"){let u={};for(let c in e){let h=c,y=`${n}${Su(h)}`,w=`${n}${Su(h)}Unit`,[x,P]=Pd(e[h]);x!==void 0&&(u[w]=P,u[y]=x)}return u}if(typeof e=="number")return Hr({top:e,left:e,right:e,bottom:e},n);let s=e.split(" ").filter(u=>u!=="");if(s.length===1){let[u]=s;return Hr({top:u,left:u,right:u,bottom:u},n)}if(s.length===2){let[u,c]=s;return Hr({top:u,left:c,right:c,bottom:u},n)}if(s.length===3){let[u,c,h]=s;return Hr({top:u,left:c,right:c,bottom:h},n)}let[t,i,r,f]=s;return Hr({top:t,right:i,bottom:r,left:f},n)}function Ia(e,n){let s=`${n}Unit`,[t,i]=Pd(e);return t===void 0?{}:{[n]:t,[s]:i}}function zS(e){return{display:e?gA[e]:0}}var gA={flex:0,none:1};function LS(e){return{justifyContent:e?SA[e]:0}}var SA={center:1,"flex-end":2,"flex-start":0,"space-around":4,"space-between":3,"space-evenly":5};function zd(e,n){let s=_A[n];return{[e]:s}}var _A={auto:0,baseline:5,center:2,"flex-end":3,"flex-start":1,stretch:4,"space-between":6,"space-around":7};function US(e){return{flexDirection:e?xA[e]:0}}var xA={row:0,column:1,"row-reverse":3,"column-reverse":2};function BS(e){return{flexWrap:bA[e]}}var bA={wrap:1,nowrap:0,"wrap-reverse":2};function DS(e){return{overflow:e?AA[e]:0}}var AA={visible:0,scroll:2,hidden:1};function WS(e){return{positionType:e?RA[e]:0}}var RA={relative:0,absolute:1};function jS(e){return{pointerFilter:e?CA[e]:0}}var CA={none:0,block:1};var Oh=0,NA={overflow:0,display:0,justifyContent:0,alignSelf:0,flexDirection:0,positionType:0,parent:Oh,rightOf:0,flexBasis:0,width:0,height:0,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,flexGrow:0,marginBottom:0,marginBottomUnit:0,marginLeft:0,marginLeftUnit:0,marginRight:0,marginRightUnit:0,marginTop:0,marginTopUnit:0,maxHeightUnit:0,maxWidthUnit:0,minHeightUnit:0,minWidthUnit:0,paddingBottom:0,paddingBottomUnit:0,paddingLeft:0,paddingLeftUnit:0,paddingTopUnit:0,paddingRight:0,paddingRightUnit:0,paddingTop:0,positionBottom:0,positionBottomUnit:0,positionLeft:0,positionLeftUnit:0,positionRight:0,positionRightUnit:0,positionTop:0,positionTopUnit:0,flexBasisUnit:0,widthUnit:3,heightUnit:0,pointerFilter:0,opacity:1,zIndex:0};function Ud(e={}){let{height:n,minHeight:s,maxHeight:t,width:i,minWidth:r,maxWidth:f,alignItems:u,alignContent:c,flexWrap:h,borderRadius:y,borderWidth:w,borderColor:x,...P}=e;return{...NA,...P,...Hr(e.position,"position"),...Hr(e.margin,"margin"),...Hr(e.padding,"padding"),...Ia(e.height,"height"),...Ia(e.minHeight,"minHeight"),...Ia(e.maxHeight,"maxHeight"),...Ia(e.width,"width"),...Ia(e.minWidth,"minWidth"),...Ia(e.maxWidth,"maxWidth"),...zS(e.display),...zd("alignSelf",e.alignSelf??"auto"),...LS(e.justifyContent),...US(e.flexDirection),...DS(e.overflow),...jS(e.pointerFilter),...WS(e.positionType),...c&&zd("alignContent",c),...u&&zd("alignItems",u),...h&&BS(h),...y&&vh(y),...w&&kh(w),...x&&Ih(x)}}function vi(e){let{uiTransform:n,uiBackground:s,...t}=e,i=Ud(n),r=s?{uiBackground:Md(s)}:void 0;return{...t,uiTransform:i,...r}}function vA(e){if(typeof e=="number")return[e,"vw"];let n=Number(e.slice(0,-2));return e.endsWith("vh")?[n,"vh"]:e.endsWith("vw")?[n,"vw"]:[NaN,"vw"]}function FS(e,n,s){return n/100*(e/s)}function VS(e=ye){let s=e.getComponent(_1.componentId).getOrNull(e.RootEntity);if(!s)return;let{width:t,height:i,devicePixelRatio:r}=s;return{width:t,height:i,ratio:r}}function Ld(e,n=VS()){let[s,t]=vA(e);if(!n)return s;let{height:i,width:r,ratio:f}=n;return t==="vh"?FS(s,i,f):FS(s,r,f)}var kA={"sans-serif":0,serif:1,monospace:2};function Er(e){if(e)return{font:kA[e]}}var IA={"top-left":0,"top-center":1,"top-right":2,"middle-left":3,"middle-center":4,"middle-right":5,"bottom-left":6,"bottom-center":7,"bottom-right":8};function Tr(e){if(e)return{textAlign:IA[e]}}function gr(e){if(e)return typeof e=="string"?{fontSize:Ld(e)}:{fontSize:e}}var OA={wrap:0,nowrap:1};function sc(e){return e?{textWrap:OA[e]}:{textWrap:0}}var wA={onMouseDown:void 0,onMouseUp:void 0,onMouseEnter:void 0,onMouseLeave:void 0},MA=Object.keys(wA),_u=e=>MA.includes(e);function PA(e){let{textAlign:n,font:s,fontSize:t,...i}=e;return{acceptEmpty:!1,options:[],selectedIndex:e.acceptEmpty?-1:0,disabled:!1,...i,...Tr(n),...Er(s),...gr(t)}}function cc(e){let{uiTransform:n,uiBackground:s,onMouseDown:t,onMouseUp:i,onMouseEnter:r,onMouseLeave:f,...u}=e,c=PA(u),h=vi({uiTransform:n,uiBackground:s,onMouseDown:t,onMouseUp:i,onMouseEnter:r,onMouseLeave:f});return to.createElement("entity",{...h,uiDropdown:c})}function zA(e){let{textAlign:n,font:s,fontSize:t,...i}=e;return{disabled:!1,placeholder:"",...i,...Tr(n),...Er(s),...gr(t)}}function Oa(e){let{uiTransform:n,uiBackground:s,onMouseDown:t,onMouseUp:i,onMouseEnter:r,onMouseLeave:f,...u}=e,c=zA(u),h=vi({uiTransform:n,uiBackground:s,onMouseDown:t,onMouseUp:i,onMouseEnter:r,onMouseLeave:f});return to.createElement("entity",{...h,uiInput:c})}function Me(e){let{uiTransform:n,uiBackground:s,onMouseDown:t,onMouseUp:i,onMouseEnter:r,onMouseLeave:f,...u}=e,c=vi({uiTransform:n,uiBackground:s,onMouseDown:t,onMouseUp:i,onMouseEnter:r,onMouseLeave:f}),{font:h,textAlign:y,fontSize:w,textWrap:x,...P}=u,A={...P,...Er(h),...Tr(y),...gr(w),...sc(x)};return to.createElement("entity",{...c,uiText:A})}function UA(e){return e.variant==="secondary"?{uiBackground:{color:{r:1,g:1,b:1,a:1}},uiText:{color:{r:.98,g:.17,b:.33,a:1}}}:{uiBackground:{color:{r:.98,g:.17,b:.33,a:1}},uiText:{color:{r:1,g:1,b:1,a:1}}}}function wh(e){let{uiTransform:n,uiBackground:s,onMouseDown:t,onMouseUp:i,onMouseEnter:r,onMouseLeave:f,...u}=e,c=UA(e),h=Md({...c.uiBackground,...s}),{font:y,textAlign:w,fontSize:x,textWrap:P,...A}=u,g={...c.uiText,...A,...Er(y),...Tr(w),...gr(x),...sc(P)},_=Ud({height:36,...n});return e.disabled&&(g.color&&(g.color.a/=2),h&&h.color&&(h.color.a/=2)),to.createElement("entity",{onMouseDown:e.disabled?void 0:t,onMouseUp:e.disabled?void 0:i,onMouseEnter:r,onMouseLeave:f,uiTransform:_,uiText:g,uiBackground:h})}function fe(e){let n=e.uiText&&{uiText:{...e.uiText,...Er(e.uiText.font),...Tr(e.uiText.textAlign),...gr(e.uiText.fontSize),...sc(e.uiText.textWrap)}};return to.createElement("entity",{...vi(e),...n})}function HS(e,n,s){if(n&&!s)return{type:"delete",component:e};if(!s)return;if(!n&&s)return{type:"add",props:s,component:e};if(_u(e)&&!Mh(n,s))return{type:"put",component:e,props:s};let t={};for(let i in n){let r=i;Mh(n[r],s[r])||(t[r]=s[r])}if(Object.keys(t).length)return{type:"put",props:t,component:e}}var BA={uiText:void 0,uiBackground:void 0,uiTransform:void 0,onMouseDown:void 0,onMouseUp:void 0,onMouseEnter:void 0,onMouseLeave:void 0,uiInput:void 0,uiDropdown:void 0},GS=Object.keys(BA);function Mh(e,n){if(!e&&!n)return!0;if(!e||!n)return e===n;if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e!="object")return e===n;if(Array.isArray(e)&&Array.isArray(n)&&e.length!==n.length||Object.keys(e).length!==Object.keys(n).length)return!1;if(JSON.stringify(e)===JSON.stringify(n))return!0;for(let s in e)if(!Mh(e[s],n[s]))return!1;return!0}var qS=e=>!!e,YS={supportsMutation:!0,supportsPersistence:!1,noTimeout:-1,isPrimaryRenderer:!0,supportsHydration:!1,insertInContainerBefore(e,n,s){},detachDeletedInstance(e){},hideInstance(e){},hideTextInstance(e){},unhideInstance(e,n){},unhideTextInstance(e,n){},clearContainer(e){},getCurrentEventPriority(){return 0},getInstanceFromNode(e){return null},beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},prepareScopeUpdate(){},getInstanceFromScope(){return null},commitMount(e,n,s,t){},resetTextContent(e){},commitTextUpdate(e,n,s){},prepareForCommit(e){return null},resetAfterCommit(e){},preparePortalMount(e){},createTextInstance(e,n,s,t){return{}},scheduleTimeout(e,n){},cancelTimeout(e){},shouldSetTextContent(e,n){return!1},getRootHostContext(e){return null},getChildHostContext(e,n,s){return null},getPublicInstance(e){return e},finalizeInitialChildren(e,n,s,t,i){return!1}};function JS(e){return{onMouseDown:1,onMouseUp:0,onMouseEnter:2,onMouseLeave:3}[e]}function $S(e,n){let s=new Set,t=new Map,i=new Map,r=Dr(e),f=ba(e),u=Vs(e),c=_a(e),h=xa(e),y=Jc(e),w=Kc(e),x={uiTransform:r.componentId,uiText:f.componentId,uiBackground:u.componentId,uiInput:c.componentId,uiDropdown:y.componentId};function P(H,F){let z=i.get(H)?.get(F);z&&z()}function A(H,F){b(H,F,"uiTransform")}function g(H,F){if(F.type==="delete"||!F.props){i.get(H.entity)?.delete(JS(F.component)),F.component==="onMouseDown"?n.removeOnPointerDown(H.entity):F.component==="onMouseUp"?n.removeOnPointerUp(H.entity):F.component==="onMouseEnter"?n.removeOnPointerHoverEnter(H.entity):F.component==="onMouseLeave"&&n.removeOnPointerHoverLeave(H.entity);return}if(F.props){let z=JS(F.component),R=i.get(H.entity)||i.set(H.entity,new Map).get(H.entity),G=R.get(z);if(R.set(z,F.props),G)return;let $=F.component==="onMouseDown"?n.onPointerDown:F.component==="onMouseUp"?n.onPointerUp:F.component==="onMouseEnter"?n.onPointerHoverEnter:F.component==="onMouseLeave"&&n.onPointerHoverLeave;$&&$({entity:H.entity,opts:{button:0,showFeedback:!0}},()=>P(H.entity,z))}}function _(H,F){let z=x[F];e.getComponent(z).deleteFrom(H.entity)}function b(H,F={},z){let R=x[z],G="onChange"in F,$="onSubmit"in F,ie=t.get(H.entity)?.get(R),Te=G?F.onChange:ie?.onChangeCallback,Pe=$?F.onSubmit:ie?.onSubmitCallback;if((G||$)&&(be(H.entity,R,{onChangeCallback:Te,onSubmitCallback:Pe}),delete F.onChange,delete F.onSubmit),!Object.keys(F).length)return;let je=e.getComponent(R),Je=je.getMutableOrNull(H.entity)||je.create(H.entity);for(let $e in F){let at=$e;Je[at]=F[at]}}function M(H){t.delete(H.entity),i.delete(H.entity),e.removeEntity(H.entity);for(let F of H._child)M(F)}function q(H,F){if(!F||!Object.keys(H).length)return;if(H._child.find(R=>R.entity===F.entity)){let R=H._child.find(G=>G.rightOf===F.entity);R&&(R.rightOf=F.rightOf,H._child=H._child.filter(G=>G.entity!==F.entity),H._child.push(F),A(R,{rightOf:R.rightOf})),F.rightOf=H._child[H._child.length-2]?.entity}else F.rightOf=H._child[H._child.length-1]?.entity,H._child.push(F);F.parent=H.entity,A(F,{rightOf:F.rightOf,parent:H.entity})}function ue(H,F){let z=H._child.findIndex(G=>G.entity===F.entity),R=H._child[z+1];R&&(R.rightOf=F.rightOf,A(R,{rightOf:F.rightOf})),H._child.splice(z,1),M(F)}function be(H,F,z){let R=t.has(H),G=t.get(H)||t.set(H,new Map).get(H),$=z?.onChangeCallback,ie=z?.onSubmitCallback;if(G.set(F,{onChangeCallback:$,onSubmitCallback:ie}),!R){let Te=F===y.componentId?w.componentId:h.componentId;e.getComponent(Te).onChange(H,Pe=>{if(Pe?.isSubmit){let Je=t.get(H)?.get(F)?.onSubmitCallback;Je&&Je(Pe?.value)}let je=t.get(H)?.get(F)?.onChangeCallback;je&&je(Pe?.value)})}}let ae={...YS,createInstance(H,F){let z=e.addEntity();s.add(z);let R={entity:z,_child:[],parent:Oh,rightOf:void 0};for(let G in F){let $=G;$==="children"||$==="key"||(_u($)?g(R,{type:"add",props:F[$],component:$}):b(R,F[$],$))}return R},appendChild:q,appendChildToContainer:q,appendInitialChild:q,removeChild:ue,prepareUpdate(H,F,z,R){return GS.map(G=>HS(G,z[G],R[G])).filter(qS)},commitUpdate(H,F,z,R,G,$){for(let ie of F){if(_u(ie.component)){g(H,ie);continue}ie.type==="delete"?_(H,ie.component):ie.props&&b(H,ie.props,ie.component)}},insertBefore(H,F,z){let R=H._child.findIndex(G=>G.entity===z.entity);H._child=[...H._child.slice(0,R),F,...H._child.slice(R)],F.rightOf=z.rightOf,z.rightOf=F.entity,F.parent=H.entity,A(F,{rightOf:F.rightOf,parent:F.parent}),A(z,{rightOf:z.rightOf})},removeChildFromContainer(H,F){M(F)}},se=(0,KS.default)(ae),ee=se.createContainer({},0,null,!1,null,"",function(){},null);return{update:function(H){return se.updateContainer(H,ee,null)},getEntities:()=>Array.from(s)}}function Ph(e,n){let s=$S(e,n),t;function i(){t&&s.update(QS.default.createElement(t))}return e.addSystem(i,1e5,"@dcl/react-ecs"),{destroy(){e.removeSystem(i);for(let r of s.getEntities())e.removeEntity(r)},setUiRenderer(r){t=r}}}var N=to;function XS(e,n,s){let i=Oo(rt.ACTION_TYPES,e).getOrCreateMutable(e.RootEntity),r={type:n,jsonSchema:JSON.stringify(s?.jsonSchema||T.Map({}).jsonSchema)};i.value=[...i.value.filter(f=>f.type!==r.type),r]}function Ue(e){return JSON.parse(e.jsonPayload)}var rt;(function(e){e.ACTION_TYPES="asset-packs::ActionTypes",e.ACTIONS="asset-packs::Actions",e.COUNTER="asset-packs::Counter",e.TRIGGERS="asset-packs::Triggers",e.STATES="asset-packs::States",e.COUNTER_BAR="asset-packs::CounterBar",e.ADMIN_TOOLS="asset-packs::AdminTools",e.VIDEO_SCREEN="asset-packs::VideoScreen",e.REWARDS="asset-packs::Rewards",e.TEXT_ANNOUNCEMENTS="asset-packs::TextAnnouncements",e.VIDEO_CONTROL_STATE="asset-packs::VideoControlState"})(rt||(rt={}));var Gr;(function(e){e.MOVE_ITEM="move_item",e.ROTATE_ITEM="rotate_item",e.SCALE_ITEM="scale_item"})(Gr||(Gr={}));var tn;(function(e){e.LINEAR="linear",e.EASEINQUAD="easeinquad",e.EASEOUTQUAD="easeoutquad",e.EASEQUAD="easequad",e.EASEINSINE="easeinsine",e.EASEOUTSINE="easeoutsine",e.EASESINE="easeinoutsine",e.EASEINEXPO="easeinexpo",e.EASEOUTEXPO="easeoutexpo",e.EASEEXPO="easeinoutexpo",e.EASEINELASTIC="easeinelastic",e.EASEOUTELASTIC="easeoutelastic",e.EASEELASTIC="easeinoutelastic",e.EASEINBOUNCE="easeinbounce",e.EASEOUTEBOUNCE="easeoutbounce",e.EASEBOUNCE="easeinoutbounce"})(tn||(tn={}));var pe;(function(e){e.PLAY_ANIMATION="play_animation",e.STOP_ANIMATION="stop_animation",e.SET_STATE="set_state",e.START_TWEEN="start_tween",e.SET_COUNTER="set_counter",e.INCREMENT_COUNTER="increment_counter",e.DECREASE_COUNTER="decrease_counter",e.PLAY_SOUND="play_sound",e.STOP_SOUND="stop_sound",e.SET_VISIBILITY="set_visibility",e.ATTACH_TO_PLAYER="attach_to_player",e.DETACH_FROM_PLAYER="detach_from_player",e.PLAY_VIDEO_STREAM="play_video_stream",e.STOP_VIDEO_STREAM="stop_video_stream",e.PLAY_AUDIO_STREAM="play_audio_stream",e.STOP_AUDIO_STREAM="stop_audio_stream",e.TELEPORT_PLAYER="teleport_player",e.MOVE_PLAYER="move_player",e.PLAY_DEFAULT_EMOTE="play_default_emote",e.PLAY_CUSTOM_EMOTE="play_custom_emote",e.OPEN_LINK="open_link",e.SHOW_TEXT="show_text",e.HIDE_TEXT="hide_text",e.START_DELAY="start_delay",e.STOP_DELAY="stop_delay",e.START_LOOP="start_loop",e.STOP_LOOP="stop_loop",e.CLONE_ENTITY="clone_entity",e.REMOVE_ENTITY="remove_entity",e.SHOW_IMAGE="show_image",e.HIDE_IMAGE="hide_image",e.DAMAGE="damage",e.MOVE_PLAYER_HERE="move_player_here",e.PLACE_ON_PLAYER="place_on_player",e.ROTATE_AS_PLAYER="rotate_as_player",e.PLACE_ON_CAMERA="place_on_camera",e.ROTATE_AS_CAMERA="rotate_as_camera",e.SET_POSITION="set_position",e.SET_ROTATION="set_rotation",e.SET_SCALE="set_scale",e.FOLLOW_PLAYER="follow_player",e.STOP_FOLLOWING_PLAYER="stop_following_player",e.RANDOM="random",e.BATCH="batch",e.HEAL_PLAYER="heal_player",e.CLAIM_AIRDROP="claim_airdrop"})(pe||(pe={}));var it;(function(e){e.ON_CLICK="on_click",e.ON_INPUT_ACTION="on_input_action",e.ON_STATE_CHANGE="on_state_change",e.ON_SPAWN="on_spawn",e.ON_TWEEN_END="on_tween_end",e.ON_COUNTER_CHANGE="on_counter_change",e.ON_PLAYER_ENTERS_AREA="on_player_enters_area",e.ON_PLAYER_LEAVES_AREA="on_player_leaves_area",e.ON_DELAY="on_delay",e.ON_LOOP="on_loop",e.ON_CLONE="on_clone",e.ON_CLICK_IMAGE="on_click_image",e.ON_DAMAGE="on_damage",e.ON_GLOBAL_CLICK="on_global_click",e.ON_GLOBAL_PRIMARY="on_global_primary",e.ON_GLOBAL_SECONDARY="on_global_secondary",e.ON_TICK="on_tick",e.ON_HEAL_PLAYER="on_heal_player",e.ON_PLAYER_SPAWN="on_player_spawn"})(it||(it={}));var $t;(function(e){e.WHEN_STATE_IS="when_state_is",e.WHEN_STATE_IS_NOT="when_state_is_not",e.WHEN_COUNTER_EQUALS="when_counter_equals",e.WHEN_COUNTER_IS_GREATER_THAN="when_counter_is_greater_than",e.WHEN_COUNTER_IS_LESS_THAN="when_counter_is_less_than",e.WHEN_DISTANCE_TO_PLAYER_LESS_THAN="when_distance_to_player_less_than",e.WHEN_DISTANCE_TO_PLAYER_GREATER_THAN="when_distance_to_player_greater_than",e.WHEN_PREVIOUS_STATE_IS="when_previous_state_is",e.WHEN_PREVIOUS_STATE_IS_NOT="when_previous_state_is_not"})($t||($t={}));var qr;(function(e){e.AND="and",e.OR="or"})(qr||(qr={}));var Ut;(function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"})(Ut||(Ut={}));var ki;(function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"})(ki||(ki={}));var xu;(function(e){e[e.CL_NONE=0]="CL_NONE",e[e.CL_POINTER=1]="CL_POINTER",e[e.CL_PHYSICS=2]="CL_PHYSICS",e[e.CL_RESERVED1=4]="CL_RESERVED1",e[e.CL_RESERVED2=8]="CL_RESERVED2",e[e.CL_RESERVED3=16]="CL_RESERVED3",e[e.CL_RESERVED4=32]="CL_RESERVED4",e[e.CL_RESERVED5=64]="CL_RESERVED5",e[e.CL_RESERVED6=128]="CL_RESERVED6",e[e.CL_CUSTOM1=256]="CL_CUSTOM1",e[e.CL_CUSTOM2=512]="CL_CUSTOM2",e[e.CL_CUSTOM3=1024]="CL_CUSTOM3",e[e.CL_CUSTOM4=2048]="CL_CUSTOM4",e[e.CL_CUSTOM5=4096]="CL_CUSTOM5",e[e.CL_CUSTOM6=8192]="CL_CUSTOM6",e[e.CL_CUSTOM7=16384]="CL_CUSTOM7",e[e.CL_CUSTOM8=32768]="CL_CUSTOM8"})(xu||(xu={}));var Ii;(function(e){e.ALL="all",e.PLAYER="player",e.NON_PLAYER="non_player"})(Ii||(Ii={}));var bu;(function(e){e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE"})(bu||(bu={}));var Au;(function(e){e[e.VideoURL=0]="VideoURL",e[e.LiveStream=1]="LiveStream"})(Au||(Au={}));function jn(e){return{Animator:jm(e),Transform:Vn(e),AudioSource:Fm(e),AvatarAttach:Hc(e),VisibilityComponent:Yf(e),GltfContainer:Ta(e),UiTransform:Dr(e),UiText:ba(e),UiBackground:Vs(e),UiInput:_a(e),UiInputResult:xa(e),UiCanvasInformation:Yc(e),VideoPlayer:$c(e),Material:od(e),MeshRenderer:rd(e),Billboard:Hf(e),Name:Js(e),Tween:Ys(e),TweenSequence:Sa(e),PointerEvents:Ti(e),NetworkEntity:Wr(e),SyncComponents:ad(e)}}var WA=[rt.ACTIONS,rt.STATES,rt.COUNTER];function jA(e){return e.getComponent(rt.COUNTER)}function ZS(e){let s=jA(e).getOrCreateMutable(e.RootEntity);return++s.value}function e_(e){return WA.includes(e.componentName)}function Ru(e,n){return!!n&&e.value.includes(n)}function zh(e){return Ru(e,e.currentValue)?e.currentValue:Lh(e)}function Lh(e){if(Ru(e,e.defaultValue))return e.defaultValue;if(e.value.length>0)return e.value[0]}function Uh(e){return Ru(e,e.previousValue)?e.previousValue:null}function t_(e){return!!e.createOrReplace}function n_(e,n,s,t,i){let r=new Map,f=new Map,u=Qs(n,e,s),{NetworkEntity:c,SyncComponents:h}=jn(n);for(let x of u){let P=n.addEntity();for(let A of n.componentsIter())if(A.has(x)){let g=JSON.parse(JSON.stringify(A.get(x)));if(e_(A)){let _=g.id,b=ZS(n);r.set(_,b),g={...g,id:b}}t_(A)&&A.createOrReplace(P,g)}f.set(x,P)}let y=Array.from(f.values()).reverse();for(let x of y){if(t.has(x)){let A=t.getMutable(x);for(let g of A.value){for(let _ of g.actions)if(_.id){let b=r.get(_.id);b&&(_.id=b)}if(g.conditions){for(let _ of g.conditions)if(_.id){let b=r.get(_.id);b&&(_.id=b)}}}}if(c.has(x)){let A=h.getOrNull(x);A&&i?.syncEntity&&i?.syncEntity(x,A.componentIds)}let P=s.getMutableOrNull(x);if(P&&P.parent){let A=f.get(P.parent);A&&(P.parent=A)}}let w=y[0];return{ids:r,entities:f,cloned:w}}var Oi="livekit-video://current-stream",FA={[pe.PLAY_ANIMATION]:T.Map({animation:T.String,loop:T.Optional(T.Boolean)}),[pe.STOP_ANIMATION]:T.Map({}),[pe.SET_STATE]:T.Map({state:T.String}),[pe.START_TWEEN]:T.Map({type:T.EnumString(Gr,Gr.MOVE_ITEM),end:T.Vector3,interpolationType:T.EnumString(tn,tn.LINEAR),duration:T.Float,relative:T.Boolean}),[pe.SET_COUNTER]:T.Map({counter:T.Int}),[pe.INCREMENT_COUNTER]:T.Map({amount:T.Optional(T.Int)}),[pe.DECREASE_COUNTER]:T.Map({amount:T.Optional(T.Int)}),[pe.PLAY_SOUND]:T.Map({src:T.String,loop:T.Optional(T.Boolean),volume:T.Optional(T.Float),global:T.Optional(T.Boolean)}),[pe.STOP_SOUND]:T.Map({}),[pe.SET_VISIBILITY]:T.Map({visible:T.Boolean,physicsCollider:T.Optional(T.Boolean),collider:T.Optional(T.EnumNumber(xu,xu.CL_POINTER))}),[pe.ATTACH_TO_PLAYER]:T.Map({anchorPointId:T.Int}),[pe.DETACH_FROM_PLAYER]:T.Map({}),[pe.PLAY_VIDEO_STREAM]:T.Map({src:T.Optional(T.String),loop:T.Optional(T.Boolean),volume:T.Optional(T.Float),dclCast:T.Optional(T.Boolean)}),[pe.STOP_VIDEO_STREAM]:T.Map({}),[pe.PLAY_AUDIO_STREAM]:T.Map({url:T.String,volume:T.Optional(T.Float)}),[pe.STOP_AUDIO_STREAM]:T.Map({}),[pe.TELEPORT_PLAYER]:T.Map({x:T.Int,y:T.Int}),[pe.MOVE_PLAYER]:T.Map({position:T.Vector3,cameraTarget:T.Optional(T.Vector3)}),[pe.PLAY_DEFAULT_EMOTE]:T.Map({emote:T.String}),[pe.PLAY_CUSTOM_EMOTE]:T.Map({src:T.String,loop:T.Optional(T.Boolean)}),[pe.OPEN_LINK]:T.Map({url:T.String}),[pe.SHOW_TEXT]:T.Map({text:T.String,hideAfterSeconds:T.Float,font:T.EnumNumber(ki,ki.F_SANS_SERIF),fontSize:T.Optional(T.Float),textAlign:T.EnumNumber(Ut,Ut.TAM_MIDDLE_CENTER)}),[pe.HIDE_TEXT]:T.Map({}),[pe.START_DELAY]:T.Map({actions:T.Array(T.String),timeout:T.Float}),[pe.STOP_DELAY]:T.Map({action:T.String}),[pe.START_LOOP]:T.Map({actions:T.Array(T.String),interval:T.Float}),[pe.STOP_LOOP]:T.Map({action:T.String}),[pe.CLONE_ENTITY]:T.Map({position:T.Vector3}),[pe.REMOVE_ENTITY]:T.Map({}),[pe.SHOW_IMAGE]:T.Map({src:T.String,align:T.EnumNumber(Ut,Ut.TAM_MIDDLE_CENTER),height:T.Float,width:T.Float,hideAfterSeconds:T.Optional(T.Float),text:T.Optional(T.String),fontSize:T.Optional(T.Float)}),[pe.HIDE_IMAGE]:T.Map({imageEntity:T.Optional(T.Int)}),[pe.DAMAGE]:T.Map({radius:T.Float,layer:T.Optional(T.EnumString(Ii,Ii.ALL)),hits:T.Optional(T.Int)}),[pe.MOVE_PLAYER_HERE]:T.Map({}),[pe.PLACE_ON_PLAYER]:T.Map({}),[pe.ROTATE_AS_PLAYER]:T.Map({}),[pe.PLACE_ON_CAMERA]:T.Map({}),[pe.ROTATE_AS_CAMERA]:T.Map({}),[pe.SET_POSITION]:T.Map({x:T.Float,y:T.Float,z:T.Float,relative:T.Optional(T.Boolean)}),[pe.SET_ROTATION]:T.Map({x:T.Float,y:T.Float,z:T.Float,relative:T.Optional(T.Boolean)}),[pe.SET_SCALE]:T.Map({x:T.Float,y:T.Float,z:T.Float,relative:T.Optional(T.Boolean)}),[pe.FOLLOW_PLAYER]:T.Map({speed:T.Float,x:T.Boolean,y:T.Boolean,z:T.Boolean,minDistance:T.Float}),[pe.STOP_FOLLOWING_PLAYER]:T.Map({}),[pe.RANDOM]:T.Map({actions:T.Array(T.String)}),[pe.BATCH]:T.Map({actions:T.Array(T.String)}),[pe.HEAL_PLAYER]:T.Map({multiplier:T.Int}),[pe.CLAIM_AIRDROP]:T.Map({})};function Oo(e,n){try{return n.getComponent(e)}catch(s){throw console.error(`Error using getComponent with componentName="${e}"`),s}}function It(e){return{Actions:Oo(rt.ACTIONS,e),States:Oo(rt.STATES,e),Counter:Oo(rt.COUNTER,e),Triggers:Oo(rt.TRIGGERS,e),CounterBar:Oo(rt.COUNTER_BAR,e),AdminTools:Oo(rt.ADMIN_TOOLS,e),VideoScreen:Oo(rt.VIDEO_SCREEN,e),Rewards:Oo(rt.REWARDS,e),TextAnnouncements:Oo(rt.TEXT_ANNOUNCEMENTS,e),VideoControlState:Oo(rt.VIDEO_CONTROL_STATE,e)}}function o_(e){let n=e.defineComponent(rt.ACTION_TYPES,{value:T.Array(T.Map({type:T.String,jsonSchema:T.String}))}),s=e.defineComponent(rt.ACTIONS,{id:T.Int,value:T.Array(T.Map({name:T.String,type:T.String,jsonPayload:T.String,allowedInBasicView:T.Optional(T.Boolean),basicViewId:T.Optional(T.String),default:T.Optional(T.Boolean)}))}),t=e.defineComponent(rt.COUNTER,{id:T.Number,value:T.Int}),i=e.defineComponent(rt.TRIGGERS,{value:T.Array(T.Map({type:T.EnumString(it,it.ON_INPUT_ACTION),conditions:T.Optional(T.Array(T.Map({id:T.Optional(T.Int),type:T.EnumString($t,$t.WHEN_STATE_IS),value:T.String}))),operation:T.Optional(T.EnumString(qr,qr.AND)),actions:T.Array(T.Map({id:T.Optional(T.Int),name:T.Optional(T.String)})),basicViewId:T.Optional(T.String)}))}),r=e.defineComponent(rt.STATES,{id:T.Number,value:T.Array(T.String),defaultValue:T.Optional(T.String),currentValue:T.Optional(T.String),previousValue:T.Optional(T.String)}),f=e.defineComponent(rt.COUNTER_BAR,{primaryColor:T.Optional(T.String),secondaryColor:T.Optional(T.String),maxValue:T.Optional(T.Float)}),u=e.defineComponent(rt.VIDEO_SCREEN,{thumbnail:T.String,defaultMediaSource:T.EnumNumber(Au,Au.VideoURL),defaultURL:T.String}),c=e.defineComponent(rt.ADMIN_TOOLS,{adminPermissions:T.EnumString(bu,bu.PUBLIC),authorizedAdminUsers:T.Map({me:T.Boolean,sceneOwners:T.Boolean,allowList:T.Boolean,adminAllowList:T.Array(T.String)}),moderationControl:T.Map({isEnabled:T.Boolean,kickCoordinates:T.Map({x:T.Number,y:T.Number,z:T.Number}),allowNonOwnersManageAdminAllowList:T.Boolean}),textAnnouncementControl:T.Map({isEnabled:T.Boolean,playSoundOnEachAnnouncement:T.Boolean,showAuthorOnEachAnnouncement:T.Boolean}),videoControl:T.Map({isEnabled:T.Boolean,disableVideoPlayersSound:T.Boolean,showAuthorOnVideoPlayers:T.Boolean,linkAllVideoPlayers:T.Boolean,videoPlayers:T.Optional(T.Array(T.Map({entity:T.Int,customName:T.String})))}),smartItemsControl:T.Map({isEnabled:T.Boolean,linkAllSmartItems:T.Boolean,smartItems:T.Optional(T.Array(T.Map({entity:T.Int,customName:T.String,defaultAction:T.String})))}),rewardsControl:T.Map({isEnabled:T.Boolean,rewardItems:T.Optional(T.Array(T.Map({entity:T.Int,customName:T.String})))})}),h=e.defineComponent(rt.REWARDS,{campaignId:T.String,dispenserKey:T.String,testMode:T.Boolean}),y=e.defineComponent(rt.TEXT_ANNOUNCEMENTS,{text:T.String,author:T.Optional(T.String),id:T.String}),w=e.defineComponent(rt.VIDEO_CONTROL_STATE,{endsAt:T.Optional(T.Int64),streamKey:T.Optional(T.String)});return{ActionTypes:n,Actions:s,Counter:t,Triggers:i,States:r,CounterBar:f,AdminTools:c,Rewards:h,TextAnnouncements:y,VideoControlState:w,VideoScreen:u}}function r_(e){let n=Object.values(pe);for(let f of n){let u=f;XS(e,u,FA[u])}let t=e.getComponent(rt.COUNTER).getOrCreateMutable(e.RootEntity);t.value=t.value||0;let{VideoPlayer:i,Material:r}=jn(e);HA(e,{VideoPlayer:i,Material:r})}function VA({material:e}){if(e?.$case==="unlit"&&e.unlit.texture?.tex?.$case==="videoTexture")return e.unlit.texture.tex.videoTexture}function Bh(e,{Material:n},s){if(!s||!s.material||s.material.$case!=="unlit")return null;n.setBasicMaterial(e,{...s.material.unlit,texture:n.Texture.Video({videoPlayerEntity:e})})}function HA(e,n){function s(){let{Material:t,VideoPlayer:i}=n;e.removeSystem(s);for(let[r,f]of e.getEntitiesWith(t,i))VA(f)?.videoPlayerEntity===e.RootEntity&&Bh(r,n,f)}e.addSystem(s)}function i_(e){switch(e){case rt.STATES:return[$t.WHEN_STATE_IS,$t.WHEN_STATE_IS_NOT,$t.WHEN_PREVIOUS_STATE_IS,$t.WHEN_PREVIOUS_STATE_IS_NOT];case rt.COUNTER:return[$t.WHEN_COUNTER_EQUALS,$t.WHEN_COUNTER_IS_GREATER_THAN,$t.WHEN_COUNTER_IS_LESS_THAN];case rt.ACTIONS:return[$t.WHEN_DISTANCE_TO_PLAYER_LESS_THAN,$t.WHEN_DISTANCE_TO_PLAYER_GREATER_THAN];default:return[]}}function wo(e){let n=Jt.getOrNull(e);if(!n)return te.Zero();let s=n.parent;if(s){let t=Jt.get(s).rotation;return te.add(wo(s),te.rotate(n.position,wi(s)))}else return n.position}function wi(e){let n=Jt.getOrNull(e);if(!n)return qe.Identity();let s=n.parent;return s?qe.multiply(n.rotation,wi(s)):n.rotation}var nn;(function(e){e.LINEAR="linear",e.EASEINQUAD="easeinquad",e.EASEOUTQUAD="easeoutquad",e.EASEQUAD="easequad",e.EASEINSINE="easeinsine",e.EASEOUTSINE="easeoutsine",e.EASESINE="easeinoutsine",e.EASEINEXPO="easeinexpo",e.EASEOUTEXPO="easeoutexpo",e.EASEEXPO="easeinoutexpo",e.EASEINELASTIC="easeinelastic",e.EASEOUTELASTIC="easeoutelastic",e.EASEELASTIC="easeinoutelastic",e.EASEINBOUNCE="easeinbounce",e.EASEOUTEBOUNCE="easeoutbounce",e.EASEBOUNCE="easeinoutbounce"})(nn||(nn={}));function a_(e,n,s){let t=new Array,i=1/n,r=0;if(s){let f=e.length;for(let u=0;u<f;u++){r=0;for(let c=0;c<n;c++)t.push(te.catmullRom(e[u%f],e[(u+1)%f],e[(u+2)%f],e[(u+3)%f],r)),r+=i}t.push(t[0])}else{let f=new Array;f.push(te.clone(e[0])),Array.prototype.push.apply(f,e),f.push(te.clone(e[e.length-1]));let u=0;for(;u<f.length-3;u++){r=0;for(let c=0;c<n;c++)t.push(te.catmullRom(f[u],f[u+1],f[u+2],f[u+3],r)),r+=i}u--,t.push(te.catmullRom(f[u],f[u+1],f[u+2],f[u+3],r))}return t}function s_(e,n,s,t){return e.x<=t.x&&n.x>=s.x&&e.y<=t.y&&n.y>=s.y&&e.z<=t.z&&n.z>=s.z}function c_(e,n,s,t){let i=te.distanceSquared(e,s),r=n+t;return i<r*r}function Dh(e,n,s,t){let i=0;return s.x<e.x&&(i+=(e.x-s.x)*(e.x-s.x)),s.x>n.x&&(i+=(s.x-n.x)*(s.x-n.x)),s.y<e.y&&(i+=(e.y-s.y)*(e.y-s.y)),s.y>n.y&&(i+=(s.y-n.y)*(s.y-n.y)),s.z<e.z&&(i+=(e.z-s.z)*(e.z-s.z)),s.z>n.z&&(i+=(s.z-n.z)*(s.z-n.z)),i<t*t}var Gn;(function(e){e.TimerSystemPriority=1e5+256,e.TweenSystemPriority=1e5+192,e.PerpetualMotionSystemPriority=1e5+192,e.PathSystemPriority=1e5+192,e.TriggerSystemPriority=1e5+128,e.ActionSystemPriority=1e5+64})(Gn||(Gn={}));function GA(e){let n=new Map,s=0;function t(i){let r=[],f=[];for(let[u,c]of n)c.accumulatedTime+=1e3*i,!(c.accumulatedTime<c.interval)&&(f.push(c.callback),c.recurrent?c.accumulatedTime-=Math.floor(c.accumulatedTime/c.interval)*c.interval:r.push(u));for(let u of r)n.delete(u);for(let u of f)u()}return e.addSystem(t,Gn.TimerSystemPriority),{setTimeout(i,r){let f=s++;return n.set(f,{callback:i,interval:r,recurrent:!1,accumulatedTime:0}),f},clearTimeout(i){n.delete(i)},setInterval(i,r){let f=s++;return n.set(f,{callback:i,interval:r,recurrent:!0,accumulatedTime:0}),f},clearInterval(i){n.delete(i)}}}var Wh=GA(ye);var uc;(function(e){e[e.Off=0]="Off",e[e.On=1]="On"})(uc||(uc={}));function qA(e,n){let s=e.defineComponent("dcl.utils.Toggle",{state:T.EnumNumber(uc,uc.Off)}),t=new Map;return n.setInterval(function(){for(let i of t.keys())(e.getEntityState(i)==ln.Removed||!s.has(i))&&t.delete(i)},5e3),{addToggle(i,r,f){t.set(i,f),s.createOrReplace(i,{state:r})},removeToggle(i){t.delete(i),s.deleteFrom(i)},setCallback(i,r){t.set(i,r)},set(i,r){if(s.get(i).state!=r){s.getMutable(i).state=r;let u=t.get(i);u&&u(r)}},flip(i){this.set(i,1-s.get(i).state)},isOn(i){return s.get(i).state==uc.On}}}var YA=qA(ye,Wh);function Bd(e){let n=Jt.getOrNull(e);return n?n.parent:ye.RootEntity}function lc(){return Jt.getOrNull(ye.PlayerEntity)?.position||te.create()}function jh(e){switch(e){case nn.LINEAR:return 0;case nn.EASEINQUAD:return 1;case nn.EASEOUTQUAD:return 2;case nn.EASEQUAD:return 3;case nn.EASEINSINE:return 4;case nn.EASEOUTSINE:return 5;case nn.EASESINE:return 6;case nn.EASEINEXPO:return 7;case nn.EASEOUTEXPO:return 8;case nn.EASEEXPO:return 9;case nn.EASEINELASTIC:return 10;case nn.EASEOUTELASTIC:return 11;case nn.EASEELASTIC:return 12;case nn.EASEINBOUNCE:return 13;case nn.EASEOUTEBOUNCE:return 14;case nn.EASEBOUNCE:return 15;default:return 0}}function JA(e){let n=new Map;function s(f){let u=[];for(let[c,h]of n.entries()){if(e.getEntityState(c)==ln.Removed||!dn.has(c)){n.delete(c);continue}let y=dn.get(c);h.normalizedTime+=f*1e3,h.normalizedTime>=y.duration&&u.push(c)}for(let c of u){let h=n.get(c)?.callback;dn.deleteFrom(c),n.delete(c),h&&h()}}function t(f){dn.deleteFrom(f),n.delete(f)}function i(f){return function(u,c,h,y,w=nn.LINEAR,x){let P=y===0?1:0;n.set(u,{normalizedTime:P,callback:x}),dn.createOrReplace(u,{duration:y*1e3,easingFunction:jh(w),currentTime:P,mode:dn.Mode[f]({start:c,end:h})})}}function r(f){if(!n.has(f))throw new Error(`Entity ${f} is not registered with tweens system`);return n.get(f)}return e.addSystem(s,Gn.TweenSystemPriority),{startTranslation:i("Move"),stopTranslation:t,startRotation:i("Rotate"),stopRotation:t,startScaling:i("Scale"),stopScaling:t,getTranslationOnFinishCallback:r,getRotationOnFinishCallback:r,getScalingOnFinishCallback:r}}var KA=JA(ye);var Cu;(function(e){e.X="x",e.Y="y",e.Z="z"})(Cu||(Cu={}));function $A(e){let n=e.defineComponent("dcl.utils.PerpetualRotation",{velocity:T.Quaternion});function s(t){for(let[i,r]of e.getEntitiesWith(n,Jt)){let f=qe.slerp(qe.Identity(),r.velocity,t),u=Jt.getMutable(i);u.rotation=qe.normalize(qe.multiply(u.rotation,f))}}return e.addSystem(s,Gn.PerpetualMotionSystemPriority),{startRotation(t,i){n.createOrReplace(t,{velocity:i})},stopRotation(t){dn.has(t)&&dn.deleteFrom(t),fd.has(t)&&fd.deleteFrom(t),n.has(t)&&n.deleteFrom(t)},smoothRotation(t,i,r){let f=qe.fromEulerDegrees(0,180,0),u=qe.fromEulerDegrees(0,360,0);switch(r){case Cu.X:f=qe.fromEulerDegrees(180,0,0),u=qe.fromEulerDegrees(360,0,0);break;case Cu.Y:f=qe.fromEulerDegrees(0,180,0),u=qe.fromEulerDegrees(0,360,0);break;case Cu.Z:f=qe.fromEulerDegrees(0,0,180),u=qe.fromEulerDegrees(0,0,360);break}dn.createOrReplace(t,{mode:dn.Mode.Rotate({start:qe.fromEulerDegrees(0,0,0),end:f}),duration:i/2,easingFunction:0}),fd.create(t,{loop:0,sequence:[{mode:dn.Mode.Rotate({start:f,end:u}),duration:i/2,easingFunction:0}]})}}}var QA=$A(ye);function XA(e){let n=e.defineComponent("dcl.utils.FollowPath",{points:T.Array(T.Vector3),faceDirection:T.Boolean,speed:T.Number,normalizedTime:T.Number,currentIndex:T.Number,segmentTimes:T.Array(T.Number),curveSegmentCount:T.Number}),s=new Map,t=new Map;function i(u){s.delete(u),t.delete(u),n.deleteFrom(u)}function r(u){let c=[],h=[];for(let y of s.keys()){if(e.getEntityState(y)==ln.Removed||!n.has(y)){i(y);continue}let w=Jt.getMutable(y),x=n.getMutable(y);for(x.normalizedTime=kt.clamp(x.normalizedTime+u*x.speed,0,1),x.normalizedTime>=1&&c.push(y);x.normalizedTime>=x.segmentTimes[x.currentIndex]&&x.currentIndex<x.points.length-1;){if(x.faceDirection){let g=te.subtract(x.points[x.currentIndex+1],x.points[x.currentIndex]);w.rotation=qe.lookRotation(g)}if(x.currentIndex>0&&x.currentIndex%x.curveSegmentCount==0){let g=x.currentIndex/x.curveSegmentCount,_=x.points[x.currentIndex],b=x.points[x.currentIndex+x.curveSegmentCount];h.push({entity:y,index:g,coords:_,nextCoords:b})}x.currentIndex+=1}let P=x.segmentTimes[x.currentIndex]-x.segmentTimes[x.currentIndex-1],A=(x.segmentTimes[x.currentIndex]-x.normalizedTime)/P;w.position=te.lerp(x.points[x.currentIndex],x.points[x.currentIndex-1],A)}for(let y of h){let w=t.get(y.entity);w&&w(y.index,y.coords,y.nextCoords)}for(let y of c){let w=s.get(y);i(y),w&&w()}}e.addSystem(r,Gn.PathSystemPriority);function f(u,c,h,y,w,x,P){if(c.length<2)throw new Error("At least 2 points are required to form a path.");if(h==0)throw new Error("Path duration must not be zero");if(w){let b=te.equals(c[0],c[c.length-1]);b&&(c.pop(),c.unshift(c.pop())),c=a_(c,w,b)}else w=1;s.set(u,x),t.set(u,P);let A=0,g=[];for(let b=0;b<c.length-1;b++){let M=te.distance(c[b],c[b+1]);A+=M,g.push(M)}let _=[0];for(let b=0;b<g.length;b++)_.push(g[b]/A+_[b]);n.createOrReplace(u,{points:c,segmentTimes:_,curveSegmentCount:w,speed:1/h,normalizedTime:0,currentIndex:0,faceDirection:y})}return{startStraightPath(u,c,h,y,w,x){return f(u,c,h,y,0,w,x)},startSmoothPath(u,c,h,y,w,x,P){if(y<2||!Number.isInteger(y))throw new Error(`segmentCount must be an integer that is greater than 2, got: ${y}`);return f(u,c,h,w,y,x,P)},stopPath(u){i(u)},getOnFinishCallback(u){if(!s.has(u))throw new Error(`Entity ${u} is not registered in triggers system`);return s.get(u)}}}var ZA=XA(ye);var Dd=1;var Yr=255,Mi=0,Fh=Dd;function eR(e){let n=ye.defineComponent("dcl.utils.Trigger",{active:T.Boolean,layerMask:T.Int,triggeredByMask:T.Int,areas:T.Array(T.OneOf({box:T.Map({position:T.Vector3,scale:T.Vector3}),sphere:T.Map({position:T.Vector3,radius:T.Number})})),debugColor:T.Color3}),s=new Map,t=new Map,i=!1,r=new Map,f=new Map;function u(A){if(A)for(let[g,_]of e.getEntitiesWith(n,Jt)){let b=f.get(g),M=_.areas.length;for(;b.length>M;)e.removeEntity(b.pop());for(;b.length<M;)b.push(e.addEntity());let q=wo(g),ue=wi(g);for(let be=0;be<M;++be){let ae=_.areas[be],se=b[be],ee;if(ae.$case=="box")ee=ae.value.scale,Ed.setBox(se);else{let F=ae.value.radius;ee={x:F,y:F,z:F},Ed.setSphere(se)}Jt.createOrReplace(se,{position:te.add(q,te.rotate(ae.value.position,ue)),scale:ee});let H=_.active?_.debugColor:ic.Black();oc.setPbrMaterial(se,{albedoColor:U.fromInts(255*H.r,255*H.g,255*H.b,75)})}}}function c(A,g,_,b){for(let M=0;M<g.areas.length;++M){let q=A[M],ue=g.areas[M];if(ue.$case=="box"){let be=ue.value,ae=te.subtract(q,te.scale(be.scale,.5)),se=te.add(ae,be.scale);for(let ee=0;ee<b.areas.length;++ee){let H=_[ee],F=b.areas[ee];if(F.$case=="box"){let z=F.value,R=te.subtract(H,te.scale(z.scale,.5)),G=te.add(R,z.scale);if(s_(ae,se,R,G))return!0}else if(Dh(ae,se,H,F.value.radius))return!0}}else{let be=ue.value.radius;for(let ae=0;ae<b.areas.length;++ae){let se=_[ae],ee=b.areas[ae];if(ee.$case=="box"){let H=ee.value,F=te.subtract(se,te.scale(H.scale,.5)),z=te.add(F,H.scale);if(Dh(F,z,q,be))return!0}else if(c_(q,be,se,ee.value.radius))return!0}}}return!1}function h(A,g){let _=fc,b=n.get(A);if(!b.active)return _;if(b.triggeredByMask==Fh){let M=e.PlayerEntity,q=n.get(e.PlayerEntity);if(M==A||!q.active||!(b.triggeredByMask&q.layerMask))return _;c(g.get(A),b,g.get(M),q)&&(_===fc&&(_=new Set),_.add(M))}else for(let[M,q]of e.getEntitiesWith(n,Jt)){if(M==A||!q.active||!(b.triggeredByMask&q.layerMask))continue;c(g.get(A),b,g.get(M),q)&&(_===fc&&(_=new Set),_.add(M))}return _}function y(){let A=[],g=[],_=new Map;for(let b of r.keys()){if(e.getEntityState(b)==ln.Removed||!n.has(b)){for(let ae of f.get(b))e.removeEntity(ae);for(let ae of r.values())ae.has(b)&&ae.delete(b);f.delete(b),r.delete(b),s.delete(b),t.delete(b);continue}let M=[],q=wo(b),ue=wi(b),be=n.get(b);for(let ae of be.areas)M.push(te.add(q,te.rotate(ae.value.position,ue)));_.set(b,M)}for(let b of r.keys()){let M=h(b,_),q=r.get(b);for(let ue of q)M.has(ue)||g.push([b,ue]);for(let ue of M)q.has(ue)||A.push([b,ue]);r.set(b,M)}for(let[b,M]of A){let q=s.get(b);q&&q(M)}for(let[b,M]of g){let q=t.get(b);q&&q(M)}}function w(A){y(),u(i)}e.addSystem(w,Gn.TriggerSystemPriority);function x(A){A||(A=[{type:"box"}]);let g=[];for(let _ of A)_.type=="box"?g.push({$case:"box",value:{position:_.position?_.position:te.Zero(),scale:_.scale?_.scale:te.One()}}):g.push({$case:"sphere",value:{position:_.position?_.position:te.Zero(),radius:_.radius?_.radius:1}});return g}let P={addTrigger(A,g=Mi,_=Mi,b,M,q,ue){if(g<0||g>Yr||!Number.isInteger(g))throw new Error(`Bad layerMask: ${g}. Expected a non-negative integer no greater than ${Yr}`);if(_<0||_>Yr||!Number.isInteger(_))throw new Error(`Bad triggeredByMask: ${_}. Expected a non-negative integer no greater than ${Yr}`);f.set(A,[]),r.set(A,new Set),s.set(A,M),t.set(A,q),n.createOrReplace(A,{active:!0,layerMask:g,triggeredByMask:_,areas:x(b),debugColor:ue||ic.Red()})},removeTrigger(A){let g=r.get(A),_=t.get(A);for(let M of f.get(A))e.removeEntity(M);f.delete(A),r.delete(A),s.delete(A),t.delete(A),n.deleteFrom(A);let b=[];for(let[M,q]of r)q.has(A)&&(q.delete(A),b.push(M));if(_)for(let M of g)_(M);for(let M of b){let q=t.get(M);q&&q(A)}},oneTimeTrigger(A,g=Mi,_=Mi,b,M,q){this.addTrigger(A,g,_,b,function(ue){Wd.removeTrigger(A),M&&M(ue)},void 0,q)},enableTrigger(A,g){n.getMutable(A).active=g},isTriggerEnabled(A){return n.get(A).active},getLayerMask(A){return n.get(A).layerMask},setLayerMask(A,g){if(g<0||g>Yr||!Number.isInteger(g))throw new Error(`Bad layerMask: ${g}. Expected a non-negative integer no greater than ${Yr}`);n.getMutable(A).layerMask=g},getTriggeredByMask(A){return n.get(A).triggeredByMask},setTriggeredByMask(A,g){if(g<0||g>Yr||!Number.isInteger(g))throw new Error(`Bad layerMask: ${g}. Expected a non-negative integer no greater than ${Yr}`);n.getMutable(A).triggeredByMask=g},getAreas(A){return n.get(A).areas},setAreas(A,g){n.getMutable(A).areas=x(g)},setOnEnterCallback(A,g){s.set(A,g)},setOnExitCallback(A,g){t.set(A,g)},enableDebugDraw(A){if(i=A,!A)for(let g of f.values()){for(let _ of g)e.removeEntity(_);g.length=0}},isDebugDrawEnabled(){return i}};return P.addTrigger(e.PlayerEntity,Fh,Mi,[{type:"box",scale:{x:.65,y:1.92,z:.65},position:{x:0,y:1.92/2,z:0}}],void 0,void 0,ic.Green()),P}var Wd=eR(ye),fc=new Set;fc.add=e=>{debugger;throw new Error("EMPTY_SET is read only")};fc.delete=e=>{throw new Error("EMPTY_SET is read only")};fc.has=e=>!1;var Vh;(function(e){class n{constructor(y,w,x){this.beginSequenceNode=null,this.currentSequenceNode=null,this.running=!1,this.started=!1,this.engine=y,this.systemFn=P=>{this.update(P)},this.engine.addSystem(this.systemFn,Gn.ActionSystemPriority),w&&this.startSequence(w),x&&this.setOnFinishCallback(x)}startSequence(y){this.beginSequenceNode=y.beginSequenceNode,this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}destroy(){this.engine.removeSystem(this.systemFn)}setOnFinishCallback(y){this.onFinishCallback=y}isRunning(){return this.running}stop(){this.running=!1}resume(){this.beginSequenceNode!=null&&(this.running=!0)}reset(){this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}getRunningAction(){let y=this.currentSequenceNode;if(this.currentSequenceNode instanceof i)do y=y.currentInnerSequence;while(y instanceof i);return y.action}update(y){if(this.running){if(!this.started){this.currentSequenceNode.onStart(),this.started=!0;return}if(!this.currentSequenceNode.hasFinish()){this.currentSequenceNode.update(y);return}this.currentSequenceNode.onFinish(),this.currentSequenceNode=this.currentSequenceNode.next,this.currentSequenceNode?this.currentSequenceNode.onStart():(this.running=!1,this.onFinishCallback&&this.onFinishCallback())}}}e.SequenceRunner=n;class s{constructor(){this.currentSequenceNode=null,this.beginSequenceNode=null,this.whileNodeStack=[]}then(y){if(this.currentSequenceNode==null)this.currentSequenceNode=new t,this.currentSequenceNode.action=y,this.beginSequenceNode=this.currentSequenceNode;else{let w=new t;w.action=y,this.currentSequenceNode=this.currentSequenceNode.then(w)}return this}if(y){let w=new r(y);return this.currentSequenceNode==null?(this.currentSequenceNode=w,this.beginSequenceNode=w):this.currentSequenceNode=this.currentSequenceNode.then(w),this}else(){let y=this.currentSequenceNode.getSequence();if(y instanceof r){y.closed=!0;let w=new f(y);this.currentSequenceNode=this.currentSequenceNode.then(w)}else throw new Error("IF statement is needed to be called before ELSE statement.");return this}endIf(){let y=this.currentSequenceNode.getSequence();if(y instanceof r||y instanceof f)y.closed=!0;else throw new Error("IF statement is needed to be called before ENDIF statement.");return this}while(y){let w=new u(y);return this.currentSequenceNode==null?(this.currentSequenceNode=w,this.beginSequenceNode=w):this.currentSequenceNode=this.currentSequenceNode.then(w),this.whileNodeStack.push(w),this}endWhile(){let y=this.currentSequenceNode.getSequence();if(y instanceof u)y.closed=!0,this.whileNodeStack.length>0&&this.whileNodeStack.splice(this.whileNodeStack.length-1,1);else throw new Error("WHILE statement is needed to be called before ENDWHILE statement.");return this}breakWhile(){if(this.whileNodeStack.length>0)this.currentSequenceNode=this.currentSequenceNode.then(new c(this.whileNodeStack[this.whileNodeStack.length-1]));else throw new Error("WHILE statement is needed to be called before BREAKWHILE statement.");return this}}e.SequenceBuilder=s;class t{constructor(){this.action=null,this.next=null}then(y){return this.next=y,y}onStart(){this.action&&this.action.onStart()}update(y){this.action&&this.action.update(y)}onFinish(){this.action&&this.action.onFinish()}hasFinish(){return this.action?this.action.hasFinished:!0}getSequence(){return this}}e.SequenceNode=t;class i extends t{constructor(){super(...arguments),this.currentInnerSequence=null,this.startingInnerSequence=null,this.closed=!1}then(y){if(this.currentInnerSequence==null)this.currentInnerSequence=y,this.startingInnerSequence=y;else{if(this.closed)return this.next=y,y;this.currentInnerSequence=this.currentInnerSequence.then(y)}return this}onStart(){this.currentInnerSequence=this.startingInnerSequence,this.currentInnerSequence&&this.currentInnerSequence.onStart()}update(y){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(y))}onFinish(){this.currentInnerSequence&&this.currentInnerSequence.onFinish()}hasFinish(){return this.currentInnerSequence==null}getSequence(){if(this.currentInnerSequence){let y=this.currentInnerSequence.getSequence();if(y instanceof i&&!y.closed)return y}return this}}class r extends i{constructor(y){super(),this.result=!1,this.condition=y}onStart(){this.result=this.condition(),this.result?super.onStart():this.currentInnerSequence=null}}class f extends i{constructor(y){super(),this.ifSequence=null,this.ifSequence=y}onStart(){this.ifSequence&&!this.ifSequence.result?super.onStart():this.currentInnerSequence=null}}class u extends i{constructor(y){super(),this.breakWhile=!1,this.condition=y}onStart(){this.breakWhile=!1,this.condition()?super.onStart():this.currentInnerSequence=null}update(y){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence==null&&(this.currentInnerSequence=this.startingInnerSequence),this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(y))}hasFinish(){return this.breakWhile||!this.condition()}}class c extends t{constructor(y){super(),this.whileNode=y}onStart(){this.whileNode.breakWhile=!0}}})(Vh||(Vh={}));var x_=require("~system/UserActionModule"),Jr=require("~system/RestrictedActions"),b_=require("~system/SignedFetch"),A_=require("~system/Runtime");var Hh=new Set,dc=new Map,pc=new Map;function u_(){return function(i){e(i),n(i),s(i)};function e(t){for(let[i,r]of pc.entries()){let f=Kt(i);for(let u of r)u.timeout===u.interval&&u.callback(),u.timeout-=t,u.timeout<=0&&(u.timeout=u.interval,f.emit(it.ON_LOOP))}}function n(t){for(let[i,r]of dc.entries()){let f=Kt(i),u=[],c=0;for(let h of r)h.timeout-=t,h.timeout<=0&&(h.callback(),f.emit(it.ON_DELAY),u.push(c)),c++;for(let h of u)r.splice(h,1)}}function s(t){for(let i of Hh)Kt(i).emit(it.ON_TICK)}}function jd(e,n,s,t){let i=dc.get(e)??[];i.push({timeout:s,action:n,callback:t}),dc.set(e,i)}function Gh(e,n){let s=dc.get(e)??[];dc.set(e,s.filter(t=>t.action!==n))}function l_(e){dc.delete(e)}function f_(e,n,s,t){let i=pc.get(e)??[];i.push({timeout:s,action:n,callback:t,interval:s}),pc.set(e,i)}function d_(e,n){let s=pc.get(e)??[];pc.set(e,s.filter(t=>t.action!==n))}function p_(e){pc.delete(e)}var Ye="https://builder-items.decentraland.org";var Fd="https://rewards.decentraland.org";function tR(e,n){switch(e){case Ut.TAM_TOP_LEFT:return{alignItems:1,justifyContent:0};case Ut.TAM_TOP_CENTER:return n?{alignItems:2,justifyContent:0}:{alignItems:1,justifyContent:1};case Ut.TAM_TOP_RIGHT:return n?{alignItems:3,justifyContent:0}:{alignItems:1,justifyContent:2};case Ut.TAM_MIDDLE_LEFT:return n?{alignItems:1,justifyContent:1}:{alignItems:2,justifyContent:0};case Ut.TAM_MIDDLE_CENTER:return{alignItems:2,justifyContent:1};case Ut.TAM_MIDDLE_RIGHT:return n?{alignItems:3,justifyContent:1}:{alignItems:2,justifyContent:2};case Ut.TAM_BOTTOM_LEFT:return n?{alignItems:1,justifyContent:2}:{alignItems:2,justifyContent:1};case Ut.TAM_BOTTOM_CENTER:return n?{alignItems:2,justifyContent:2}:{alignItems:3,justifyContent:1};case Ut.TAM_BOTTOM_RIGHT:return{alignItems:3,justifyContent:2}}}var nR=new Set([Ut.TAM_TOP_LEFT,Ut.TAM_TOP_CENTER,Ut.TAM_TOP_RIGHT,Ut.TAM_MIDDLE_LEFT,Ut.TAM_MIDDLE_CENTER,Ut.TAM_MIDDLE_RIGHT,Ut.TAM_BOTTOM_LEFT,Ut.TAM_BOTTOM_CENTER,Ut.TAM_BOTTOM_RIGHT]);function m_(e,n=0){let s=n===1;if(nR.has(e))return tR(e,s);throw new Error(`Unsupported AlignMode: ${e}`)}function Mo(e,n,s=100,t=100,i=2){let r=e.getMutableOrNull(n);return r||(r=e.create(n),r.heightUnit=i,r.widthUnit=i,r.height=s,r.width=t,r.maxHeightUnit=i,r.maxWidthUnit=i,r.maxHeight=s,r.maxWidth=t),n===0&&(r.positionType=1),r}function Vd(e,n,s,t=0,i=1){return e.createOrReplace(n,{textureMode:t,texture:{tex:{$case:"texture",texture:{src:s,wrapMode:i}}},uvs:[]})}function oR(e,n){let s=`
`,t=0,i="",r="",f=!1,u=n||50;if(!e)return"";if(e.length<u+1)return e;for(;t<e.length;)if(i=e.substring(t,t+u),f=!1,i.length==u){for(let c=i.length;c>-1;c--)if(i.substring(c,c+1)==" "){t+=i.substring(0,c).length,i=i.substring(0,c)+s,r+=i,f=!0;break}f||(t+=i.length,i=i+s,r+=i)}else{r+=i;break}return r}function Hd(e,n,s,t=10,i,r=4,f=U.White()){let u=Math.floor(i/(t/1.7));return e.createOrReplace(n,{value:oR(s,u),fontSize:t,font:ki.F_MONOSPACE,textAlign:r,color:f})}function qh(e,n,s){let t=e.getEntitiesWith(n);for(let[i,r]of t)r.parent===s&&(qh(e,n,i),e.removeEntity(i))}function Cn(e){let{UiCanvasInformation:n}=jn(e),s=n.getOrNull(e.RootEntity);return s?Math.min(s.width/1920,s.height/1080):1}var rR=`${Ye}/admin_toolkit/assets/icons/text-announcement-close-button.png`;function h_(e,n,s,t,i,r,f,u,c){console.log("showCaptchaPrompt");let h=Cn(e),y=e.addEntity(),w=Mo(n,y);w.display=0,w.alignItems=2,w.justifyContent=1;let x=e.addEntity(),P=Mo(n,x,260*h,250*h,1);P.parent=y,P.display=0,P.flexDirection=1,P.alignItems=2,P.paddingTop=20*h,P.paddingTopUnit=1,P.paddingBottom=20*h,P.paddingBottomUnit=1,P.paddingLeft=20*h,P.paddingLeftUnit=1,P.paddingRight=20*h,P.paddingRightUnit=1,P.pointerFilter=1,s.createOrReplace(x,{color:U.create(.15,.15,.15,.95),textureMode:0,uvs:[]});let A=e.addEntity(),g=Mo(n,A,24*h,24*h,1);g.parent=x,g.positionType=1,g.positionRight=5*h,g.positionRightUnit=1,g.positionTop=5*h,g.positionTopUnit=1,g.pointerFilter=1,Vd(s,A,rR,2),f.onPointerDown({entity:A,opts:{button:0}},()=>{qh(e,n,y),e.removeEntity(y)});let _=e.addEntity(),b=Mo(n,_,20*h,200*h,1);b.parent=x,b.marginBottom=10*h,b.marginBottomUnit=1,b.positionType=1,b.positionTop=30*h,b.positionTopUnit=1,Hd(t,_,"Enter the captcha",20*h,200*h,4,U.White());let M=e.addEntity(),q=Mo(n,M,80*h,200*h,1);q.parent=x,q.marginBottom=10*h,q.marginBottomUnit=1,q.positionType=1,q.positionTop=60*h,q.positionTopUnit=1,Vd(s,M,u.captcha.image,2);let ue=e.addEntity(),be=Mo(n,ue,50*h,200*h,1);be.parent=x,be.marginBottom=10*h,be.marginBottomUnit=1,be.positionType=1,be.positionTop=150*h,be.positionTopUnit=1,i.createOrReplace(ue,{placeholder:"Enter the captcha",color:U.White(),placeholderColor:U.create(.3,.3,.3,1),disabled:!1,textAlign:4,font:ki.F_MONOSPACE,fontSize:10*h}),r.createOrReplace(ue,{value:"",isSubmit:!1});let ae=e.addEntity(),se=Mo(n,ae,30*h,100*h,1);return se.parent=x,se.marginBottom=10*h,se.marginBottomUnit=1,se.positionType=1,se.positionTop=210*h,se.positionTopUnit=1,se.pointerFilter=1,Hd(t,ae,"Submit",16*h,100*h,4,U.White()),s.createOrReplace(ae,{color:{r:.3,g:.3,b:.3,a:1},textureMode:0,uvs:[]}),f.onPointerDown({entity:ae,opts:{button:0}},()=>{let ee=r.get(ue)?.value||"";c(ee),qh(e,n,y),e.removeEntity(y)}),y}var wa=hu();function y_(e){return function(){e.isTriggered(0,1)&&wa.emit(0,null),e.isTriggered(1,1)&&wa.emit(1,null),e.isTriggered(2,1)&&wa.emit(2,null)}}var E_=new Set,Yh=[],Kh=new Set,$h=new Set,Jh=null;function T_(e){if(Jh)return Jh(e);throw new Error("Cannot call initTriggers while triggersSystem has not been created")}function g_(e,n,s,t){let{Transform:i,Tween:r,PointerEvents:f}=n,{Actions:u,States:c,Counter:h,Triggers:y}=It(e);return Jh=w,function(G){for(;Yh.length>0;){let{entity:ie,action:Te}=Yh.shift();ko(ie).emit(Te.name,Ue(Te))}let $=e.getEntitiesWith(y);for(let[ie]of $)w(ie),z(ie)};function w(R){if(!y.has(R)||E_.has(R))return;let G=y.get(R),$=G.value.reduce((Te,Pe)=>Te.add(Pe.type),new Set);for(let Te of $)switch(Te){case it.ON_CLICK:{M(R);break}case it.ON_INPUT_ACTION:{q(R);break}case it.ON_PLAYER_ENTERS_AREA:case it.ON_PLAYER_LEAVES_AREA:{ue(R);break}case it.ON_DAMAGE:{be(R);break}case it.ON_HEAL_PLAYER:ae(R);case it.ON_GLOBAL_CLICK:{se(R);break}case it.ON_GLOBAL_PRIMARY:{ee(R);break}case it.ON_GLOBAL_SECONDARY:{H(R);break}case it.ON_TICK:{F(R);break}}let ie=Kt(R);for(let Te of G.value)ie.on(Te.type,()=>{if(P(Te)){for(let Pe of Te.actions)if(x(Pe)){let je=_(Pe);if(je){let Je=u.getOrNull(je);if(Je){let $e=Je.value.find(at=>at.name===Pe.name);$e&&Yh.push({entity:je,action:$e})}}}}});ie.emit(it.ON_SPAWN),E_.add(R)}function x(R){let{id:G,name:$}=R;return!!G&&!!$}function P(R){if(R.conditions&&R.conditions.length>0){let G=R.conditions.map(A),$=Te=>!!Te;switch(R.operation||qr.AND){case qr.AND:return G.every($);case qr.OR:return G.some($)}}return!0}function A(R){let G=b(R);if(G)try{switch(R.type){case $t.WHEN_STATE_IS:{let $=c.getOrNull(G);if($!==null)return zh($)===R.value;break}case $t.WHEN_STATE_IS_NOT:{let $=c.getOrNull(G);if($!==null)return zh($)!==R.value;break}case $t.WHEN_PREVIOUS_STATE_IS:{let $=c.getOrNull(G);if($!==null)return Uh($)===R.value;break}case $t.WHEN_PREVIOUS_STATE_IS_NOT:{let $=c.getOrNull(G);if($!==null)return Uh($)!==R.value;break}case $t.WHEN_COUNTER_EQUALS:{let $=h.getOrNull(G);if($!==null){let ie=Number(R.value);if(!isNaN(ie))return $.value===ie}break}case $t.WHEN_COUNTER_IS_GREATER_THAN:{let $=h.getOrNull(G);if($!==null){let ie=Number(R.value);if(!isNaN(ie))return $.value>ie}break}case $t.WHEN_COUNTER_IS_LESS_THAN:{let $=h.getOrNull(G);if($!==null){let ie=Number(R.value);if(!isNaN(ie))return $.value<ie}break}case $t.WHEN_DISTANCE_TO_PLAYER_LESS_THAN:{let $=wo(G),ie=Number(R.value);if(!isNaN(ie))return te.distance($,lc())<ie;break}case $t.WHEN_DISTANCE_TO_PLAYER_GREATER_THAN:{let $=wo(G),ie=Number(R.value);if(!isNaN(ie))return te.distance($,lc())>ie;break}}}catch{console.error("Error in condition",R)}return!1}function g(R,G){let $=e.getComponent(R),Te=Array.from(e.getEntitiesWith($)).find(([Pe,je])=>je.id===G);return Array.isArray(Te)&&Te.length>0?Te[0]:null}function _(R){if(R.id){let G=g(rt.ACTIONS,R.id);if(G)return G}return null}function b(R){let G=Object.values(rt).map($=>({componentName:$,conditionTypes:i_($)})).reduce(($,{componentName:ie,conditionTypes:Te})=>Te.includes(R.type)?ie:$,null);if(G&&R.id){let $=g(G,R.id);if($)return $}return null}function M(R){let G=f.getMutableOrNull(R),$={button:0,hoverText:"Click"};if(G){let ie=G.pointerEvents.findIndex(Te=>Te.eventInfo?.button===$.button);if(ie!==-1){let Te=G.pointerEvents[ie].eventInfo;$={...$,...Te},G.pointerEvents.splice(ie,1)}}s.onPointerDown({entity:R,opts:$},()=>{Kt(R).emit(it.ON_CLICK)})}function q(R){let G=f.getMutableOrNull(R),$={button:1,hoverText:"Press"};if(G){let ie=G.pointerEvents.findIndex(Te=>Te.eventInfo?.button===$.button);if(ie!==-1){let Te=G.pointerEvents[ie].eventInfo;$={...$,...Te},G.pointerEvents.splice(ie,1)}}s.onPointerDown({entity:R,opts:$},()=>{Kt(R).emit(it.ON_INPUT_ACTION)})}function ue(R){let G=i.getOrNull(R);Wd.addTrigger(R,Mi,Dd,[{type:"box",scale:G?G.scale:{x:1,y:1,z:1}}],()=>{Kt(R).emit(it.ON_PLAYER_ENTERS_AREA)},()=>{Kt(R).emit(it.ON_PLAYER_LEAVES_AREA)})}function be(R){Kh.add(R)}function ae(R){$h.add(R)}function se(R){wa.on(0,()=>{Kt(R).emit(it.ON_GLOBAL_CLICK)})}function ee(R){wa.on(1,()=>{Kt(R).emit(it.ON_GLOBAL_PRIMARY)})}function H(R){wa.on(2,()=>{Kt(R).emit(it.ON_GLOBAL_SECONDARY)})}function F(R){Hh.add(R)}function z(R){r.getOrNull(R)&&dd.getOrNull(R)?.state===1&&t.tweenCompleted(R)&&Kt(R).emit(it.ON_TWEEN_END)}}var Gd=new Map;function S_(e){let{Transform:n}=e;return function(){for(let[t,{target:i,speed:r,minDistance:f,axes:u}]of Gd){let c=n.getMutableOrNull(t),h=n.getOrNull(i);if(!c||!h)continue;let y=te.subtract(h.position,c.position),w=te.length(y);if(w<f)continue;let x=te.normalize(y),P=te.scale(x,r/10);if(te.length(P)>w)continue;u.x||(P.x=0),u.y||(P.y=0),u.z||(P.z=0),te.addToRef(P,c.position,c.position);let A=te.clone(h.position);u.x||(A.x=c.position.x),u.y||(A.y=c.position.y),u.z||(A.z=c.position.z);let g=qe.fromLookAt(c.position,A);c.rotation=g}}}function qd(e){switch(e){case tn.LINEAR:return 0;case tn.EASEINQUAD:return 1;case tn.EASEOUTQUAD:return 2;case tn.EASEQUAD:return 3;case tn.EASEINSINE:return 4;case tn.EASEOUTSINE:return 5;case tn.EASESINE:return 6;case tn.EASEINEXPO:return 7;case tn.EASEOUTEXPO:return 8;case tn.EASEEXPO:return 9;case tn.EASEINELASTIC:return 10;case tn.EASEOUTELASTIC:return 11;case tn.EASEELASTIC:return 12;case tn.EASEINBOUNCE:return 13;case tn.EASEOUTEBOUNCE:return 14;case tn.EASEBOUNCE:return 15;default:return 0}}var __=new Set,Qh=new Map,Xh=new Map,Zh=new Map,iR=null;function R_(e,n,s,t){let{Animator:i,Transform:r,AudioSource:f,AvatarAttach:u,VisibilityComponent:c,GltfContainer:h,UiTransform:y,UiText:w,UiBackground:x,UiInput:P,UiInputResult:A,Name:g,Tween:_,TweenSequence:b,VideoPlayer:M}=jn(e),{Actions:q,States:ue,Counter:be,Triggers:ae,Rewards:se}=It(e);return iR=ee,function(D){let Y=e.getEntitiesWith(q);for(let[de]of Y)ee(de)};function ee(I){if(!q.has(I)||__.has(I))return;let D=q.get(I),Y=D.value.reduce((oe,Ae)=>oe.add(Ae.type),new Set);for(let oe of Y)switch(oe){case pe.PLAY_ANIMATION:{H(I);break}default:break}let de=ko(I);for(let oe of D.value)de.on(oe.name,()=>{switch(oe.type){case pe.PLAY_ANIMATION:{z(I,Ue(oe));break}case pe.STOP_ANIMATION:{R(I,Ue(oe));break}case pe.SET_STATE:{G(I,Ue(oe));break}case pe.START_TWEEN:{$(I,Ue(oe));break}case pe.SET_COUNTER:{Je(I,Ue(oe));break}case pe.INCREMENT_COUNTER:{$e(I,Ue(oe));break}case pe.DECREASE_COUNTER:{at(I,Ue(oe));break}case pe.PLAY_SOUND:{lt(I,Ue(oe));break}case pe.STOP_SOUND:{vt(I,Ue(oe));break}case pe.SET_VISIBILITY:{tt(I,Ue(oe));break}case pe.ATTACH_TO_PLAYER:{pn(I,Ue(oe));break}case pe.DETACH_FROM_PLAYER:{J(I,Ue(oe));break}case pe.PLAY_VIDEO_STREAM:{ft(I,Ue(oe));break}case pe.STOP_VIDEO_STREAM:{gn(I,Ue(oe));break}case pe.PLAY_AUDIO_STREAM:{Ui(I,Ue(oe));break}case pe.STOP_AUDIO_STREAM:{Qr(I,Ue(oe));break}case pe.TELEPORT_PLAYER:{ce(I,Ue(oe));break}case pe.MOVE_PLAYER:{_e(I,Ue(oe));break}case pe.PLAY_DEFAULT_EMOTE:{j(I,Ue(oe));break}case pe.PLAY_CUSTOM_EMOTE:{X(I,Ue(oe));break}case pe.OPEN_LINK:{Ne(I,Ue(oe));break}case pe.SHOW_TEXT:{Bi(I,Ue(oe));break}case pe.HIDE_TEXT:{Xo(I,Ue(oe));break}case pe.START_DELAY:{Xr(I,Ue(oe));break}case pe.STOP_DELAY:{zo(I,Ue(oe));break}case pe.START_LOOP:{xr(I,Ue(oe));break}case pe.STOP_LOOP:{Ot(I,Ue(oe));break}case pe.CLONE_ENTITY:{Zr(I,Ue(oe));break}case pe.REMOVE_ENTITY:{Lo(I,Ue(oe));break}case pe.SHOW_IMAGE:{Di(I,Ue(oe));break}case pe.HIDE_IMAGE:{br(I,Ue(oe));break}case pe.DAMAGE:{ti(I,Ue(oe));break}case pe.MOVE_PLAYER_HERE:{Wi(I,Ue(oe));break}case pe.FOLLOW_PLAYER:{Rr(I,Ue(oe));break}case pe.STOP_FOLLOWING_PLAYER:{Hi(I,Ue(oe));break}case pe.PLACE_ON_PLAYER:{ni(I,Ue(oe));break}case pe.ROTATE_AS_PLAYER:{Uo(I,Ue(oe));break}case pe.PLACE_ON_CAMERA:{ji(I,Ue(oe));break}case pe.ROTATE_AS_CAMERA:{Ar(I,Ue(oe));break}case pe.SET_POSITION:{Fi(I,Ue(oe));break}case pe.SET_ROTATION:{Vi(I,Ue(oe));break}case pe.SET_SCALE:{oi(I,Ue(oe));break}case pe.RANDOM:{Gi(I,Ue(oe));break}case pe.BATCH:{v(I,Ue(oe));break}case pe.HEAL_PLAYER:{L(I,Ue(oe));break}case pe.CLAIM_AIRDROP:{De(I,Ue(oe));break}default:break}});__.add(I)}function H(I){i.has(I)||(i.create(I,{states:[]}),i.stopAllAnimations(I))}function F(I){return I<0||I>1?1:I}function z(I,D){let{animation:Y,loop:de}=D,oe=i.getMutable(I);oe.states.some(Ae=>Ae.clip===Y)||(oe.states=[...oe.states,{clip:Y}]),i.stopAllAnimations(I);try{let Ae=i.getClip(I,Y);Ae.playing=!0,Ae.loop=de??!1,Ae.weight=F(Ae.weight??1)}catch(Ae){console.error("Error playing animation",Ae)}}function R(I,D){i.has(I)&&i.stopAllAnimations(I)}function G(I,D){let Y=ue.getMutableOrNull(I);if(Y){let de=Lh(Y),oe=D.state;oe=Ru(Y,oe)?oe:de;let Ae=Y.currentValue??de??void 0;Y.previousValue=Ae,Y.currentValue=oe,Kt(I).emit(it.ON_STATE_CHANGE)}}function $(I,D){if(D){let Y=_.getMutableOrNull(I),de;switch(D.type){case Gr.MOVE_ITEM:{de=Te(I,D);break}case Gr.ROTATE_ITEM:{de=Pe(I,D);break}case Gr.SCALE_ITEM:{de=je(I,D);break}default:throw new Error(`Unknown tween type: ${D.type}`)}ie(I,Y,de)}}function ie(I,D,Y){let de=b.getMutableOrNull(I),oe={...Y};if(!(!D||!de||!de.loop)){switch(D.mode?.$case){case"move":{oe={...oe,mode:dn.Mode.Move({start:Y.mode.move.end,end:D.mode.move.start})};break}case"rotate":{oe={...oe,mode:dn.Mode.Rotate({start:Y.mode.rotate.end,end:D.mode.rotate.start})};break}case"scale":{oe={...oe,mode:dn.Mode.Scale({start:Y.mode.scale.end,end:D.mode.scale.start})};break}default:throw new Error(`Unknown tween mode: ${D.mode}`)}D.playing=!0,de.sequence=[oe,D]}}function Te(I,D){let Y=r.get(I),{duration:de,interpolationType:oe,relative:Ae}=D,et=te.create(D.end.x,D.end.y,D.end.z),Tt=Ae?te.add(Y.position,et):et;return _.createOrReplace(I,{mode:dn.Mode.Move({start:Y.position,end:Tt}),duration:de*1e3,easingFunction:qd(oe)})}function Pe(I,D){let Y=r.get(I),{duration:de,interpolationType:oe,relative:Ae}=D,et=qe.fromEulerDegrees(D.end.x,D.end.y,D.end.z),Tt=Ae?qe.multiply(Y.rotation,et):et;return _.createOrReplace(I,{mode:dn.Mode.Rotate({start:Y.rotation,end:Tt}),duration:de*1e3,easingFunction:qd(oe)})}function je(I,D){let Y=r.get(I),{duration:de,interpolationType:oe,relative:Ae}=D,et=te.create(D.end.x,D.end.y,D.end.z),Tt=Ae?te.add(Y.scale,et):et;return _.createOrReplace(I,{mode:dn.Mode.Scale({start:Y.scale,end:Tt}),duration:de*1e3,easingFunction:qd(oe)})}function Je(I,D){let Y=be.getMutableOrNull(I);Y&&(Y.value=D.counter,Kt(I).emit(it.ON_COUNTER_CHANGE))}function $e(I,D){let Y=be.getMutableOrNull(I),de=D.amount??1;Y&&(Y.value+=de,Kt(I).emit(it.ON_COUNTER_CHANGE))}function at(I,D){let Y=be.getMutableOrNull(I),de=D.amount??1;Y&&(Y.value-=de,Kt(I).emit(it.ON_COUNTER_CHANGE))}function lt(I,D){let{src:Y,loop:de,volume:oe,global:Ae}=D;if(f.has(I)){f.playSound(I,Y);let et=f.getMutable(I);et.loop=de,et.volume=oe??1,et.global=Ae??!1}else f.create(I,{audioClipUrl:Y,loop:de,playing:!0,volume:oe??1,global:Ae})}function vt(I,D){let Y=f.getMutableOrNull(I);Y&&(Y.playing=!1)}function tt(I,D){let{visible:Y,collider:de}=D;c.createOrReplace(I,{visible:Y});let oe=h.getMutableOrNull(I),Ae=rh.getMutableOrNull(I);de!==void 0&&(oe?oe.invisibleMeshesCollisionMask=de:Ae&&(Ae.collisionMask=de))}function pn(I,D){let{anchorPointId:Y}=D;u.createOrReplace(I,{anchorPointId:Y})}function J(I,D){u.has(I)&&u.deleteFrom(I)}function ce(I,D){let{x:Y,y:de}=D;(0,x_.requestTeleport)({destination:`${Y},${de}`})}function _e(I,D){let Y={newRelativePosition:D.position,cameraTarget:D.cameraTarget};(0,Jr.movePlayerTo)(Y)}function j(I,D){let{emote:Y}=D;(0,Jr.triggerEmote)({predefinedEmote:Y})}function X(I,D){let{src:Y,loop:de}=D;(0,Jr.triggerSceneEmote)({src:Y,loop:de})}function Ne(I,D){let{url:Y}=D;(0,Jr.openExternalUrl)({url:Y})}function ft(I,D){let Y=M.getMutableOrNull(I);!Y&&D.src&&(M.createOrReplace(I,{src:D.src,volume:D.volume??1,loop:D.loop??!1,playing:!0}),Bh(I,{Material:oc},oc.getOrNull(I))),Y&&(Y?.src!==D.src&&(Y.src=D.src??""),Y.volume=D.volume??Y.volume,Y.loop=D.loop??Y.loop,Y.playing=!0)}function gn(I,D){let Y=M.getMutableOrNull(I);Y&&(Y.playing=!1)}function Ui(I,D){let{url:Y,volume:de}=D;oh.createOrReplace(I,{url:Y,playing:!0,volume:de??1})}function Qr(I,D){let Y=oh.getMutableOrNull(I);Y&&(Y.playing=!1)}function Bi(I,D){let{text:Y,hideAfterSeconds:de,font:oe,fontSize:Ae,textAlign:et}=D,Tt=e.addEntity();Zh.set(I,Tt);let Bt=Mo(y,Tt);Bt&&(Bt.parent=I,Bt.pointerFilter=0,w.createOrReplace(Tt,{value:Y,font:oe,fontSize:Ae,textAlign:et}),jd(I,pe.HIDE_TEXT,de,()=>Xo(I,{})))}function Xo(I,D){let Y=Zh.get(I);Y&&(w.deleteFrom(Y),y.deleteFrom(Y),Gh(I,pe.HIDE_TEXT),Zh.delete(I))}function Zo(I,D){return q.getOrNull(I)?.value.find(de=>de.name===D)}function Xr(I,D){let{actions:Y,timeout:de}=D;for(let oe of Y){let Ae=Zo(I,oe);Ae&&jd(I,oe,de,()=>{ko(I).emit(Ae.name,Ue(Ae))})}}function zo(I,D){let{action:Y}=D;Gh(I,Y)}function xr(I,D){let{actions:Y,interval:de}=D;for(let oe of Y){let Ae=Zo(I,oe);Ae&&f_(I,oe,de,()=>{ko(I).emit(Ae.name,Ue(Ae))})}}function Ot(I,D){let{action:Y}=D;d_(I,Y)}function Zr(I,D){let{position:Y}=D,{cloned:de,entities:oe}=n_(I,e,r,ae,s);for(let et of oe.values())ee(et),T_(et),Kt(et).emit(it.ON_CLONE);let Ae=r.getOrCreateMutable(de);Ae.position=Y}function Lo(I,D){l_(I),p_(I);let Y=Qs(e,I,r);for(let de of Y)e.removeEntity(de)}function ei(I){let D=`${I.alignItems},${I.justifyContent}`;return Qh.has(D)||Qh.set(D,e.addEntity()),Qh.get(D)}function Di(I,D){let{src:Y,text:de,hideAfterSeconds:oe,fontSize:Ae,align:et,height:Tt,width:Bt}=D;Mo(y,e.RootEntity);let lo=m_(et),qi=ei(lo),jt=Mo(y,qi);jt.alignItems=lo.alignItems,jt.justifyContent=lo.justifyContent,jt.positionType=1;let E=e.addEntity(),C=Mo(y,E,Bt,Tt,1);C.parent=qi,C.pointerFilter=1,Vd(x,E,Y),de&&Hd(w,E,de,Ae,Bt),n.onPointerDown({entity:E,opts:{button:0,hoverText:"Click"}},()=>{Xh.set(I,E),Kt(I).emit(it.ON_CLICK_IMAGE)}),oe&&jd(I,pe.HIDE_IMAGE,oe,()=>br(I,{imageEntity:E}))}function br(I,D){let{imageEntity:Y}=D;if(Y)e.removeEntity(Y);else{let de=Xh.get(I);de&&(e.removeEntity(de),Xh.delete(I))}}function ti(I,D){let{radius:Y,layer:de,hits:oe}=D,Ae=u.has(I)?lc():wo(I),et=Tt=>{let Bt=Bd(Tt);return Bt?et(Bt):Tt};for(let Tt of Kh){let Bt=wo(Tt),lo=te.distance(Ae,Bt);if(!Array.from(Qs(e,I,r)).some(E=>E===Tt)){if(de){if(de===Ii.PLAYER){let E=et(Tt);if(E!==e.PlayerEntity&&E!==e.CameraEntity)continue}else if(de===Ii.NON_PLAYER){let E=et(Tt);if(E===e.PlayerEntity||E===e.CameraEntity)continue}}if(lo<=Y){let E=oe===void 0?1:Math.max(oe,1);for(let C=0;C<E;C++)Kt(Tt).emit(it.ON_DAMAGE)}}}}function Wi(I,D){let Y=wo(I),de=wi(I),oe=te.Forward(),Ae=te.rotate(oe,de),et=te.scale(Ae,1);(0,Jr.movePlayerTo)({newRelativePosition:Y,avatarTarget:te.add(Y,et)}),Kt(I).emit(it.ON_PLAYER_SPAWN)}function ni(I,D){let Y=r.getMutableOrNull(I),de=r.getOrNull(e.PlayerEntity);Y&&de&&(Y.position=de.position)}function Uo(I,D){let Y=r.getMutableOrNull(I),de=r.getOrNull(e.PlayerEntity);Y&&de&&(Y.rotation=de.rotation)}function ji(I,D){let Y=r.getMutableOrNull(I),de=r.getOrNull(e.CameraEntity);Y&&de&&(Y.position=de.position)}function Ar(I,D){let Y=r.getMutableOrNull(I),de=r.getOrNull(e.CameraEntity);Y&&de&&(Y.rotation=de.rotation)}function Fi(I,D){let Y=r.getMutableOrNull(I);Y&&(D.relative?Y.position=te.add(Y.position,te.create(D.x,D.y,D.z)):Y.position=te.create(D.x,D.y,D.z))}function Vi(I,D){let Y=r.getMutableOrNull(I);Y&&(D.relative?Y.rotation=qe.multiply(Y.rotation,qe.fromEulerDegrees(D.x,D.y,D.z)):Y.rotation=qe.fromEulerDegrees(D.x,D.y,D.z))}function oi(I,D){let Y=r.getMutableOrNull(I);Y&&(D.relative?Y.scale=te.add(Y.scale,te.create(D.x,D.y,D.z)):Y.scale=te.create(D.x,D.y,D.z))}function Rr(I,D){let{speed:Y,x:de,y:oe,z:Ae,minDistance:et}=D;Gd.set(I,{target:e.PlayerEntity,speed:Y,minDistance:et,axes:{x:de,y:oe,z:Ae}})}function Hi(I,D){Gd.delete(I)}function Gi(I,D){let{actions:Y}=D,de=ko(I),oe=Y[Math.floor(Math.random()*Y.length)],Ae=Zo(I,oe);Ae&&de.emit(Ae.name,Ue(Ae))}function v(I,D){let{actions:Y}=D,de=ko(I);for(let oe of Y){let Ae=Zo(I,oe);Ae&&de.emit(Ae.name,Ue(Ae))}}function L(I,D){let{multiplier:Y}=D,de=oe=>{let Ae=Bd(oe);return Ae?de(Ae):oe};for(let oe of $h)if(de(oe)===e.PlayerEntity){let et=Kt(oe),Tt=Math.max(Y??1,1);for(let Bt=0;Bt<Tt;Bt++)et.emit(it.ON_HEAL_PLAYER)}}async function K(I,D){try{let Y=await(0,b_.signedFetch)({url:I,...D?{init:D}:{}});if(!Y||!Y.body)return null;let de=await JSON.parse(Y.body);return de.ok?de.data:null}catch{return null}}async function xe(I){let D=`${Fd}/api/campaigns/keys?campaign_key=${encodeURIComponent(I)}`;return await K(D)}async function Se(){return await K(`${Fd}/api/captcha`,{method:"POST",headers:{"Content-Type":"application/json"}})}async function ve(I,D){let Y=`${Fd}/api/rewards`,de=await(0,A_.getRealm)({}),oe=t?.getPlayer();return await K(Y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaign_key:I,beneficiary:oe?.isGuest?"":oe?.userId,catalyst:de.realmInfo?de.realmInfo.baseUrl:"",...D?{captcha_id:D.id,captcha_value:D.value}:{}})})}function De(I,D){let Y=se.getOrNull(I);if(!Y)return;let{testMode:de,campaignId:oe,dispenserKey:Ae}=Y;de||xe(Ae).then(et=>{let Tt=et.find(Bt=>Bt.campaign_id===oe);Tt&&Tt.enabled&&(Tt.requires_captcha?Se().then(Bt=>{Bt&&Pt(I,{campaignId:oe,dispenserKey:Ae,captcha:Bt})}).catch(Bt=>{}):ve(Ae))}).catch(et=>{})}function Pt(I,D){h_(e,y,x,w,P,A,n,D,Y=>{ve(D.dispenserKey,{id:D.captcha.id,value:Y}).then(de=>{})})}}var ey=new Map,C_=new Map,Sr=1;function N_(e,n){let{Material:s,MeshRenderer:t,Transform:i,Billboard:r}=n,{Counter:f,CounterBar:u}=It(e);return function(){for(let[h,{value:y},{primaryColor:w,secondaryColor:x,maxValue:P}]of e.getEntitiesWith(f,u)){if(!ey.has(h)){let be=w?U.fromHexString(w):U.Green(),ae=x?U.fromHexString(x):U.Red(),se=e.addEntity();i.create(se,{parent:h}),r.create(se);let ee=e.addEntity();ey.set(h,ee),s.setBasicMaterial(ee,{diffuseColor:be}),t.setCylinder(ee),i.create(ee,{position:{x:0,y:0,z:0},scale:{x:.1*Sr,y:1*Sr,z:.1*Sr},rotation:qe.fromEulerDegrees(0,0,90),parent:se});let H=e.addEntity();C_.set(h,H),s.setBasicMaterial(H,{diffuseColor:ae}),t.setCylinder(H),i.create(H,{position:{x:0,y:0,z:0},scale:{x:.09*Sr,y:1*Sr,z:.09*Sr},rotation:qe.fromEulerDegrees(0,0,90),parent:se});let F=i.getMutableOrNull(h);F&&(F.parent===e.PlayerEntity?(F.position={x:0,y:2.1,z:0},F.scale={x:.5,y:.5,z:.5}):F.parent===e.CameraEntity&&(F.position={x:0,y:.5,z:1},F.scale={x:.5,y:.5,z:.5}))}let A=P||10,g=f.getMutable(h);g.value>A&&(g.value=A),g.value<0&&(g.value=0);let _=Math.max(Math.min(g.value/A,1),0)/(1/Sr),b=ey.get(h),M=C_.get(h),q=i.getMutable(b);q.position.x=(_-Sr)/2,q.scale.y=_;let ue=i.getMutable(M);ue.position.x=Sr/2+q.position.x,ue.scale.y=Sr-_}}}var oy={primary:{active:U.create(252/255,252/255,252/255,1),hover:U.create(207/255,205/255,212/255,1),disabled:U.create(74/255,74/255,74/255,1)},secondary:{active:U.create(252/255,252/255,252/255,0),hover:U.create(207/255,205/255,212/255,0),disabled:U.create(74/255,74/255,74/255,0)},text:{active:U.create(0,0,0,0),hover:U.create(24/255,24/255,24/255,1),disabled:U.create(74/255,74/255,74/255,1)}},ry={primary:{active:U.Clear(),hover:U.Clear(),disabled:U.Clear()},secondary:{active:U.White(),hover:U.White(),disabled:U.fromHexString("#323232")},text:{active:U.Clear(),hover:U.Clear(),disabled:U.Clear()}},mc=new Map,ty={getColor:e=>oy[e].active,borderColor:e=>ry[e].active},ny={getColor:e=>oy[e].disabled,borderColor:e=>ry[e].disabled},aR={getColor:e=>oy[e].hover,borderColor:e=>ry[e].hover},Ke=e=>{let{id:n,value:s,onMouseDown:t,icon:i,onlyIcon:r,iconTransform:f,iconBackground:u,iconRight:c,iconRightTransform:h,fontSize:y=14,color:w=U.Black(),disabled:x,uiBackground:P,uiTransform:A,labelTransform:g,iconRightBackground:_,variant:b="primary"}=e;N.useEffect(()=>{mc.set(M,x?ny:ty)},[x]);let M=`button_${n}`;mc.has(M)||mc.set(M,x?ny:ty);let q=mc.get(M);return N.createElement(fe,{uiTransform:{borderColor:q.borderColor(b),borderWidth:2*Rt,borderRadius:12*Rt,...A},uiBackground:{color:q.getColor(b),...P},onMouseDown:()=>{x||t?.()},onMouseEnter:()=>{x||mc.set(M,aR)},onMouseLeave:()=>{mc.set(M,x?ny:ty)}},i&&N.createElement(fe,{uiTransform:f,uiBackground:{texture:{src:i},textureMode:"stretch",...u}}),!r&&s?N.createElement(Me,{value:s,color:w,fontSize:y,uiTransform:g}):null,c&&N.createElement(fe,{uiTransform:h,uiBackground:{texture:{src:c},textureMode:"stretch",..._}}))};function Po({scaleFactor:e,iconSrc:n,title:s}){return N.createElement(fe,{uiTransform:{flexDirection:"row",margin:{bottom:10*e},height:30*e}},N.createElement(fe,{uiTransform:{width:30*e,height:30*e},uiBackground:{textureMode:"stretch",texture:{src:n}}}),N.createElement(Me,{value:`<b>${s}</b>`,uiTransform:{margin:{bottom:2*e,left:10*e}},fontSize:24*e,color:U.White()}))}function Nu(e){let{AdminTools:n}=It(e),s=Array.from(e.getEntitiesWith(n));return s.length>0?s[0][1].videoControl:null}function iy(e){let n=Nu(e);return!n||!n.videoPlayers||n.videoPlayers.length===0?[]:Array.from(n.videoPlayers)}function sR(e,n){let s=Nu(n),{VideoPlayer:t}=jn(n);s?.disableVideoPlayersSound&&t.get(e).volume&&(t.getMutable(e).volume=0)}function hc(e,n){let s=Nu(n),{VideoPlayer:t}=jn(n);return sR(e,n),{play:()=>{let i=t.getMutable(e);i.playing=!0,i.position=void 0},pause:()=>{let i=t.getMutable(e);i.playing=!1,i.position=void 0},restart:()=>{let i=t.getMutable(e);i.playing=!1,i.position=0,Kr.push(()=>{let r=t.getMutable(e);r.position=void 0,r.playing=!0})},setVolume:i=>{if(s?.disableVideoPlayersSound)return;let r=t.getMutable(e);if(r.position=void 0,i===0)r.volume=0;else{let f=Math.round((r.volume??Yd)*10),u=Math.max(0,Math.min(10,f+i*10));r.volume=u/10}},setSource:i=>{t.getMutable(e).src=i,Kr.push(()=>{t.getMutable(e).playing=!0})},setLoop(i){let r=t.getMutable(e);r.loop=i,r.position=void 0}}}function v_(e){let{VideoPlayer:n}=jn(e),s=iy(e);if(s.length===0)return null;let t=s[He.videoControl.selectedVideoPlayer??0].entity,i=n.getOrNull(t);return[t,i]}function $r({scaleFactor:e,children:n,uiTransform:s}){return N.createElement(fe,{uiTransform:{width:"100%",borderRadius:12*e,margin:{top:10*e,right:0,bottom:0,left:0},padding:{top:32*e,right:32*e,bottom:32*e,left:32*e},...s},uiBackground:{color:ay}},n)}function Jd({engine:e,label:n,entity:s,video:t}){let i=Cn(e),r=hc(s,e),u=Nu(e)?.disableVideoPlayersSound,c=`${Math.round((t?.volume??Yd)*100)}%`;return u?N.createElement(fe,{uiTransform:{margin:{top:4*i}}},N.createElement(fe,{uiTransform:{width:24*i,height:24*i,margin:{right:8*i}},uiBackground:{textureMode:"stretch",texture:{src:qn.MUTE},color:U.fromHexString("#A09BA8")}}),N.createElement(Me,{value:"Sound is disabled for all screens",color:U.fromHexString("#A09BA8"),fontSize:14*i}),N.createElement(fe,{uiTransform:{width:25*i,height:25*i,margin:{left:8*i}},uiBackground:{textureMode:"stretch",texture:{src:qn.INFO},color:U.White()}})):N.createElement(fe,{uiTransform:{flexDirection:"column",margin:{top:16*i}}},N.createElement(Me,{value:n,fontSize:16*i,color:_r.WHITE,uiTransform:{margin:{top:0,right:0,bottom:10*i,left:0}}}),N.createElement(fe,{uiTransform:{flexDirection:"row"}},N.createElement(Ke,{id:"video_control_volume_minus",value:"Minus",fontSize:14*i,uiTransform:{margin:{top:0,right:16*i,bottom:0,left:0},width:49*i,alignItems:"center",justifyContent:"center",padding:0},icon:qn.VOLUME_MINUS_BUTTON,onlyIcon:!0,iconTransform:{width:25*i,height:25*i},onMouseDown:()=>r.setVolume(-sy),disabled:u||!t?.volume}),N.createElement(Me,{value:c,fontSize:18*i,color:_r.GRAY,uiTransform:{margin:{top:0,right:16*i,bottom:0,left:0},alignItems:"center",justifyContent:"center",padding:0,width:60*i}}),N.createElement(Ke,{id:"video_control_volume_plus",value:"Plus",fontSize:14*i,icon:qn.VOLUME_PLUS_BUTTON,onlyIcon:!0,iconTransform:{width:25*i,height:25*i},uiTransform:{margin:{top:0,right:16*i,bottom:0,left:0},width:49*i,alignItems:"center",justifyContent:"center",padding:0},onMouseDown:()=>r.setVolume(sy),disabled:u||t?.volume===1}),N.createElement(Ke,{id:"video_control_volume_mute",variant:t?.volume?"secondary":"primary",fontSize:18*i,iconTransform:{width:24*i,height:24*i},onlyIcon:!0,icon:qn.MUTE,iconBackground:{color:t?.volume?U.White():U.Black()},uiTransform:{borderColor:U.fromHexString("#FCFCFC"),borderWidth:2,width:49*i,height:42*i,alignItems:"center",justifyContent:"center",padding:0},onMouseDown:()=>{r.setVolume(t?.volume?0:100)},disabled:u})))}var k_=require("~system/RestrictedActions");var cR="https://docs.decentraland.org/creator/editor/scene-admin/#video-playing",cy=`${Ye}/admin_toolkit/assets/icons/help.png`;function I_({engine:e,scaleFactor:n,video:s,entity:t}){let[i,r]=N.useState("");N.useEffect(()=>{let c=s?.src===Oi?"":s?.src;r(c??"")},[t]);let f=hc(t,e),u=s&&s.src.startsWith("https://");return N.createElement(fe,{uiTransform:{flexDirection:"column",width:"100%"}},N.createElement(fe,{uiTransform:{width:"100%",justifyContent:"space-between"}},N.createElement(Po,{iconSrc:qn.VIDEO_SOURCE,title:"Video URL",scaleFactor:n}),N.createElement(fe,{onMouseDown:()=>(0,k_.openExternalUrl)({url:cR}),uiTransform:{width:25*n,height:25*n,alignItems:"center"},uiBackground:{textureMode:"stretch",color:U.White(),texture:{src:cy}}})),N.createElement(Me,{value:"Play videos from Vimeo by pasting a video URL below.",color:U.fromHexString("#A09BA8"),fontSize:16*n}),N.createElement(Me,{value:"<b>Video URL<b>",color:U.White(),fontSize:16*n,uiTransform:{margin:{top:16*n,bottom:8*n}}}),N.createElement(Oa,{onChange:r,value:i,fontSize:16*n,textAlign:"top-left",placeholder:"Paste your video URL",placeholderColor:U.create(160/255,155/255,168/255,1),color:u?U.Black():U.fromHexString("#A09BA8"),uiBackground:{color:U.fromHexString("#FCFCFC")},uiTransform:{borderRadius:12,borderColor:U.White(),width:"100%",height:80*n}}),N.createElement(fe,{uiTransform:{width:"100%",height:40*n,flexDirection:"row",justifyContent:"flex-end",margin:{top:10*n}}},s?.src.startsWith("https://")&&N.createElement(Ke,{id:"video_control_share_screen_clear",value:"<b>Deactivate</b>",variant:"text",fontSize:16*n,color:U.White(),uiTransform:{margin:{right:8*n},padding:{left:8*n,right:8*n}},onMouseDown:()=>{f.setSource("")}}),(!i||i!==s?.src)&&N.createElement(Ke,{disabled:!i.startsWith("https://"),id:"video_control_share_screen_share",value:s?.src&&i!==s.src&&s.src!==Oi?"<b>Update</b>":"<b>Activate</b>",labelTransform:{margin:{left:6*n,right:6*n}},fontSize:16*n,uiBackground:{color:i.startsWith("https://")?_r.SUCCESS:U.fromHexString("#274431")},color:U.Black(),onMouseDown:()=>{f.setSource(i)}})),N.createElement(Me,{value:"<b>Video Playback</b>",fontSize:16*n,color:U.White(),uiTransform:{margin:{bottom:10*n}}}),N.createElement(fe,{uiTransform:{flexDirection:"row",width:"100%",margin:{bottom:10*n}}},N.createElement(Ke,{disabled:!u,id:"video_control_play",value:"<b>Play</b>",fontSize:18*n,labelTransform:{margin:{right:10*n}},uiTransform:{margin:{top:0,right:16*n,bottom:0,left:0},height:42*n,minWidth:69*n,alignItems:"center",justifyContent:"center",padding:0},icon:qn.PLAY_BUTTON,iconTransform:{width:35*n,height:35*n},onMouseDown:()=>{f.play()}}),N.createElement(Ke,{disabled:!u,id:"video_control_pause",value:"<b>Pause</b>",fontSize:18*n,labelTransform:{margin:{left:6*n,right:6*n}},uiTransform:{margin:{top:0,right:16*n,bottom:0,left:0},height:42*n,minWidth:78*n,alignItems:"center",justifyContent:"center",padding:0},onMouseDown:()=>{f.pause()}}),N.createElement(Ke,{disabled:!u,id:"video_control_restart",value:"<b>Restart</b>",labelTransform:{margin:{left:6*n,right:6*n}},fontSize:18*n,uiTransform:{margin:{top:0,right:16*n,bottom:0,left:0},height:42*n,minWidth:88*n,alignItems:"center",justifyContent:"center",padding:0},onMouseDown:()=>{f.restart()}}),N.createElement(Ke,{disabled:!u,id:"video_control_loop",onlyIcon:!0,variant:s?.loop?"primary":"secondary",uiTransform:{height:42*n,width:49*n,alignItems:"center",justifyContent:"center",padding:0},icon:qn.LOOP,iconTransform:{width:25*n,height:25*n},iconBackground:{color:s?.loop?U.Black():U.White()},color:U.White(),onMouseDown:()=>{f.setLoop(!s?.loop)}})),N.createElement(Jd,{engine:e,entity:t,video:s,label:"<b>Video Volume</b>"}))}var uy=`${Ye}/admin_toolkit/assets/icons/error.png`;function Pi({scaleFactor:e,text:n,uiTransform:s}){return N.createElement(fe,{uiTransform:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",margin:{top:10*e},width:"100%",...s}},N.createElement(fe,{uiTransform:{width:25*e,height:25*e,margin:{right:10*e},flexShrink:0},uiBackground:{textureMode:"stretch",texture:{src:uy}}}),N.createElement(Me,{uiTransform:{width:"auto",maxWidth:"90%"},value:`<b>${n}</b>`,color:U.Red(),fontSize:14*e}))}var O_={eyeShow:`${Ye}/admin_toolkit/assets/icons/eye.png`,eyeHide:`${Ye}/admin_toolkit/assets/icons/eye-off.png`};function w_({scaleFactor:e,engine:n,video:s,entity:t,onReset:i,streamKey:r,endsAt:f}){let u=hc(t,n),[c,h]=N.useState(!1);return N.createElement(fe,{uiTransform:{flexDirection:"column"}},N.createElement(Me,{value:"<b>RMTP Server<b>",color:U.White(),fontSize:16*e,uiTransform:{margin:{top:16*e,bottom:8*e}}}),N.createElement(fe,{uiTransform:{width:"100%",margin:{bottom:8*e,top:8*e},height:42*e,borderRadius:12*e},uiBackground:{color:U.White()}},N.createElement(Me,{uiTransform:{margin:{left:16*e}},fontSize:16*e,value:"<b>rtmps://dcl.rtmp.livekit.cloud/x</b>",color:U.fromHexString("#A09BA8")})),N.createElement(Me,{value:"<b>Stream Key<b>",color:U.White(),fontSize:16*e,uiTransform:{margin:{top:16*e,bottom:8*e}}}),N.createElement(fe,{uiTransform:{width:"100%",margin:{bottom:8*e,top:8*e},height:42*e,borderRadius:12*e,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},uiBackground:{color:U.White()}},N.createElement(Me,{uiTransform:{margin:{left:16*e}},fontSize:16*e,value:`<b>${c?r:"*********************************"}</b>`,color:U.fromHexString("#A09BA8")}),N.createElement(fe,{uiTransform:{width:25*e,height:25*e,margin:{right:10*e}},uiBackground:{textureMode:"stretch",texture:{src:c?O_.eyeHide:O_.eyeShow},color:U.Black()},onMouseDown:()=>h(!c)})),N.createElement(fe,{uiTransform:{width:"100%",height:40*e,flexDirection:"row",justifyContent:"space-between",margin:{top:10*e,bottom:16*e}}},f>Date.now()?N.createElement(fe,{uiTransform:{flexDirection:"column"}},N.createElement(Me,{value:"Stream expires in:",color:U.fromHexString("#FFFFFFB2"),fontSize:14*e}),N.createElement(Me,{value:uR(f),color:U.fromHexString("#FFFFFFB2"),fontSize:14*e})):N.createElement(fe,{uiTransform:{flexDirection:"row",margin:{right:10*e},borderWidth:2,borderColor:U.Green()}},N.createElement(fe,{uiTransform:{width:15*e,height:15*e,margin:{right:4*e,top:4*e}},uiBackground:{textureMode:"stretch",texture:{src:uy}}}),N.createElement(Me,{fontSize:14*e,textAlign:"middle-left",color:U.fromHexString("#FF0000"),value:"Stream timed out. Please restart stream in broadcasting software."})),s?.src===Oi?N.createElement(Ke,{id:"video_control_share_screen_clear",value:"<b>Deactivate</b>",variant:"text",fontSize:16*e,color:U.White(),uiTransform:{minWidth:120*e,margin:{right:8*e},padding:{left:8*e,right:8*e}},onMouseDown:()=>{u.setSource("")}}):N.createElement(Ke,{id:"video_control_share_screen_share",value:"<b>Activate</b>",labelTransform:{margin:{left:20*e,right:20*e}},uiTransform:{minWidth:120*e},fontSize:16*e,uiBackground:{color:_r.SUCCESS},color:U.Black(),onMouseDown:()=>{u.setSource(Oi)}})),N.createElement(Jd,{engine:n,label:"<b>Stream Volume</b>",entity:t,video:s}),N.createElement(fe,null,N.createElement(Ke,{id:"video_control_reset_stream_key",value:"<b>Reset Stream Key</b>",variant:"text",fontSize:16*e,color:U.fromHexString("#FB3B3B"),uiTransform:{margin:{right:8*e,top:20*e},padding:{left:8*e,right:8*e}},onMouseDown:()=>i()})))}function uR(e){let n=Date.now(),s=Math.max(0,e-n),t=Math.floor(s/(1e3*60*60*24));if(t>=1)return`${t} ${t===1?"day":"days"}`;{let i=Math.floor(s/36e5),r=Math.floor(s%(1e3*60*60)/(1e3*60)),f=Math.floor(s%(1e3*60)/1e3);return`${i.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`}}var P_=require("~system/SignedFetch");function $d(e,n,s){let t=0;function i(r){t+=r,t*1e3>=s&&(t=0,n())}return e.addSystem(i),i}function Qd(e,n){e.removeSystem(n)}function Kd(e){if(Array.isArray(e))return e.map(s=>typeof s=="object"&&s!==null?Kd(s):s);let n={};for(let s in e){let t=s.replace(/_([a-z])/g,(r,f)=>f.toUpperCase()),i=e[s];typeof i=="object"&&i!==null?n[t]=Kd(i):n[t]=i}return n}var z_=require("~system/Runtime");async function zi(e,n={}){if((await L_())?.isPreview)return["Try again in Genesis/World. LocalPreview not supported.",null];let[t,i]=await M_((0,P_.signedFetch)(e));if(!i?.ok||t)return console.log(`Error in ${e.url} endpoint`,JSON.stringify({error:t,value:i})),[t?.message??i?.body??"There was an error",null];let[r,f]=await M_(JSON.parse(i.body||"{}"));return[null,n.toCamelCase?Kd(f??{}):f??{}]}async function M_(e){try{return[null,await e]}catch(n){return[n,null]}}var yc;async function L_(){return yc||(yc=(await(0,z_.getRealm)({})).realmInfo)}L_();function ly(){return!!yc?.isPreview}function Xd(){return!yc||yc.networkId===1?"org":"zone"}var fy=()=>({STREAM_KEY:`https://comms-gatekeeper.decentraland.${Xd()}/scene-stream-access`});async function U_(){return zi({url:fy().STREAM_KEY},{toCamelCase:!0})}async function B_(){return zi({url:fy().STREAM_KEY,init:{method:"POST",headers:{}}},{toCamelCase:!0})}async function D_(){return zi({url:fy().STREAM_KEY,init:{method:"PUT",headers:{}}},{toCamelCase:!0})}function Li({scaleFactor:e,uiTransform:n,engine:s,width:t=10,height:i=10}){let r=0,[f,u]=N.useState(0);return N.useEffect(()=>{let c=$d(s,()=>{r=(r+1)%4,u(r)},340);return()=>Qd(s,c)},[]),N.createElement(fe,{uiTransform:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",...n}},[1,2,3].map(c=>N.createElement(fe,{key:`dot-${c}`,uiTransform:{width:t*e,height:i*e,borderRadius:t/2*e,margin:{right:8*e}},uiBackground:{color:f>=c?U.fromHexString("#FF2D55"):U.fromHexString("#43404A")}})))}function W_({scaleFactor:e,engine:n}){let[s,t]=N.useState(!1),[i,r]=N.useState(""),{VideoControlState:f}=It(n);return N.createElement(fe,{uiTransform:{width:"100%",height:460*e,justifyContent:"center",alignItems:"center"}},s?N.createElement(fe,{uiTransform:{flexDirection:"column"}},N.createElement(Li,{scaleFactor:e,engine:n}),N.createElement(Me,{value:"Generating your Stream Key",color:U.fromHexString("#A09BA8"),fontSize:16*e,uiTransform:{margin:{top:16*e}}})):N.createElement(fe,{uiTransform:{flexDirection:"column"}},N.createElement(fe,{uiTransform:{justifyContent:"center",width:"100%"}},N.createElement(Ke,{id:"video_control_live_generate_key",value:"<b>Get Stream Key</b>",fontSize:18*e,uiTransform:{height:52*e,padding:16*e,margin:{bottom:16*e}},onMouseDown:async()=>{t(!0);let[u,c]=await B_();if(t(!1),u)r(u);else if(c){let h=f.getMutable(He.adminToolkitUiEntity);h.streamKey=c.streamingKey,h.endsAt=c.endsAt}}})),i&&N.createElement(Pi,{scaleFactor:e,text:i,uiTransform:{margin:{top:16*e}}})))}function j_({scaleFactor:e,engine:n,onCancel:s}){let[t,i]=N.useState(!1),[r,f]=N.useState(""),{VideoControlState:u}=It(n);return N.createElement(fe,{uiTransform:{minHeight:479*e,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:12*e}},N.createElement(Me,{value:"<b>Are you sure you want to reset your Stream Key?</b>",fontSize:16*e,color:U.fromHexString("#FCFCFC")}),N.createElement(Me,{value:"Active streams using this stream key will be disconnected.",fontSize:14*e,color:U.fromHexString("#FFFFFFB2"),uiTransform:{margin:{top:6*e,bottom:24*e}}}),N.createElement(fe,{uiTransform:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"}},!t&&N.createElement(Ke,{id:"stream_key_cancel_remove",value:"<b>Cancel</b>",variant:"primary",fontSize:18*e,color:U.Black(),uiTransform:{width:90*e,height:40*e,display:"flex",justifyContent:"center",alignItems:"center",margin:{right:30*e,left:30*e}},onMouseDown:()=>s()}),!t&&N.createElement(Ke,{id:"stream_key_confirm_remove",value:"<b>Reset</b>",variant:"primary",fontSize:18*e,color:U.White(),uiTransform:{padding:8*e,height:40*e,justifyContent:"center",alignItems:"center"},uiBackground:{color:U.fromHexString("#FB3B3B")},onMouseDown:async()=>{i(!0);let[c,h]=await D_();if(c)f(c),i(!1);else{let y=u.getMutable(He.adminToolkitUiEntity);y.streamKey=h?.streamingKey,y.endsAt=h?.endsAt,s()}}})),t&&N.createElement(Li,{scaleFactor:e,engine:n}),r&&N.createElement(Pi,{scaleFactor:e,text:r}))}var F_=require("~system/RestrictedActions");var lR="https://docs.decentraland.org//creator/editor/live-streaming";function V_({engine:e,scaleFactor:n,entity:s,video:t}){let[i,r]=N.useState(!1),[f,u]=N.useState(!1),{VideoControlState:c}=It(e),h=c.getOrNull(He.adminToolkitUiEntity),y=h?.streamKey,w=h?.endsAt;return N.useEffect(()=>{async function x(){y||u(!0);let[P,A]=await U_(),g=c.getMutable(He.adminToolkitUiEntity);P?(g.endsAt=void 0,g.streamKey=void 0):(g.endsAt=A?.endsAt,g.streamKey=A?.streamingKey??""),u(!1)}x()},[]),i?N.createElement(j_,{scaleFactor:n,engine:e,onCancel:()=>r(!1)}):N.createElement(fe,{uiTransform:{flexDirection:"column",width:"100%"}},N.createElement(fe,{uiTransform:{width:"100%",justifyContent:"space-between"}},N.createElement(Po,{iconSrc:qn.LIVE_SOURCE,title:"Live Stream",scaleFactor:n}),N.createElement(fe,{onMouseDown:()=>(0,F_.openExternalUrl)({url:lR}),uiTransform:{width:25*n,height:25*n,alignItems:"center"},uiBackground:{textureMode:"stretch",color:U.White(),texture:{src:cy}}})),N.createElement(Me,{textAlign:"middle-left",value:"Use the RTMP server and stream key below in your broadcasting software to start streaming to this screen.",color:U.fromHexString("#A09BA8"),fontSize:16*n}),f?N.createElement(Li,{uiTransform:{minHeight:400*n},scaleFactor:n,engine:e}):y?N.createElement(w_,{streamKey:y??"",endsAt:w??0,scaleFactor:n,engine:e,entity:s,video:t,onReset:()=>r(!0)}):N.createElement(W_,{scaleFactor:n,engine:e}),!y&&N.createElement(Me,{fontSize:14*n,color:U.fromHexString("#FF2D55"),value:"Do not share your stream key with anyone, and be careful not to display it on screen while streaming."}))}function H_({scaleFactor:e,engine:n,width:s=8,height:t=8,uiTransform:i}){let r=0,[f,u]=N.useState(0);return N.useEffect(()=>{let c=$d(n,()=>{r=(r+1)%2,u(r)},340);return()=>Qd(n,c)},[]),N.createElement(fe,{uiTransform:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",...i}},N.createElement(fe,{uiTransform:{width:s*e,height:t*e,borderRadius:s/2*e,margin:{right:8*e}},uiBackground:{color:f===1?_r.SUCCESS:U.fromHexString("#43404A")}}),N.createElement(Me,{value:"<b>Active</b>",color:_r.SUCCESS,fontSize:16*e}))}var qn={VIDEO_CONTROL:`${Ye}/admin_toolkit/assets/icons/video-control.png`,PREVIOUS_BUTTON:`${Ye}/admin_toolkit/assets/icons/video-control-previous-button.png`,FORWARD_BUTTON:`${Ye}/admin_toolkit/assets/icons/video-control-forward-button.png`,PLAY_BUTTON:`${Ye}/admin_toolkit/assets/icons/video-control-play-button.png`,MUTE:`${Ye}/admin_toolkit/assets/icons/video-control-mute.png`,LOOP:`${Ye}/admin_toolkit/assets/icons/video-control-loop.png`,VOLUME_MINUS_BUTTON:`${Ye}/admin_toolkit/assets/icons/video-control-volume-minus-button.png`,VOLUME_PLUS_BUTTON:`${Ye}/admin_toolkit/assets/icons/video-control-volume-plus-button.png`,VIDEO_SOURCE:`${Ye}/admin_toolkit/assets/icons/video-control-video.png`,LIVE_SOURCE:`${Ye}/admin_toolkit/assets/icons/video-control-live.png`,INFO:`${Ye}/admin_toolkit/assets/icons/info.png`},sy=.1,Yd=1,_r={WHITE:U.White(),GRAY:U.create(160/255,155/255,168/255,1),SUCCESS:U.fromHexString("#34CE77")};function q_({engine:e,state:n}){let[s,t]=v_(e)??[],i=Cn(e),r=iy(e),[f,u]=N.useState(void 0);return N.useEffect(()=>{u(t&&t.src.startsWith("https://")?"video-url":"live")},[n.videoControl.selectedVideoPlayer]),N.createElement(fe,{uiTransform:{flexDirection:"column",width:"100%",height:"100%"}},N.createElement($r,{scaleFactor:i,uiTransform:{padding:{top:32*i,right:32*i,bottom:0,left:32*i}}},N.createElement(fe,{uiTransform:{width:"100%",height:"100%",flexDirection:"column"}},N.createElement(Po,{iconSrc:qn.VIDEO_CONTROL,title:"<b>VIDEO SCREENS</b>",scaleFactor:i}),r.length>1&&N.createElement(Me,{value:"<b>Current Screen</b>",fontSize:16*i,color:U.White(),uiTransform:{margin:{bottom:16*i}}}),N.createElement(fe,{uiTransform:{flexDirection:"column",margin:{bottom:16*i}}},r.length>1&&N.createElement(fe,{uiTransform:{flexDirection:"column"}},N.createElement(cc,{options:r.map(c=>`<b>${c.customName}</b>`),selectedIndex:n.videoControl.selectedVideoPlayer??0,onChange:c=>n.videoControl.selectedVideoPlayer=c,textAlign:"middle-left",fontSize:16*i,uiTransform:{margin:{right:8*i},width:"100%"},uiBackground:{color:U.White()}})),N.createElement(Me,{fontSize:16*i,value:"<b>Media Source</b>",color:U.White(),uiTransform:{margin:{bottom:2*i,top:16*i}}}),N.createElement(fe,{uiTransform:{margin:{top:10*i},flexDirection:"row",width:"100%"}},N.createElement(fe,{uiTransform:{width:"50%",padding:{right:8*i}}},N.createElement(G_,{engine:e,id:"video_control_url",value:"<b>VIDEO URL</b>",icon:qn.VIDEO_SOURCE,onClick:()=>u("video-url"),scaleFactor:i,selected:f==="video-url",active:t&&t.src.startsWith("https://")})),N.createElement(fe,{uiTransform:{width:"50%",padding:{left:8*i}}},N.createElement(G_,{engine:e,id:"video_control_live",value:"<b>LIVE STREAM</b>",icon:qn.LIVE_SOURCE,onClick:()=>u("live"),active:t&&t.src.startsWith(Oi),scaleFactor:i,selected:f==="live"})))))),f&&s&&N.createElement($r,{scaleFactor:i},f==="video-url"&&N.createElement(I_,{engine:e,scaleFactor:i,entity:s,video:t}),f==="live"&&N.createElement(V_,{engine:e,scaleFactor:i,entity:s,video:t})))}function G_({active:e,scaleFactor:n,value:s,id:t,onClick:i,icon:r,selected:f,engine:u}){return N.createElement(fe,{uiTransform:{flexDirection:"column",height:"100%",width:"100%"}},N.createElement(fe,{uiTransform:{width:"100%"}},N.createElement(Ke,{id:t,onMouseDown:i,value:s,fontSize:14*n,icon:r,iconTransform:{width:24*n,height:24*n,margin:{right:8*n}},color:f?U.Black():U.fromHexString("#FCFCFC"),iconBackground:{color:f?U.Black():U.fromHexString("#FCFCFC")},uiBackground:{color:f?U.White():U.fromHexString("#43404A")},uiTransform:{padding:{top:6*n,bottom:6*n},borderRadius:6*n,alignItems:"center",justifyContent:"center",width:"100%",height:36*n}})),e&&N.createElement(H_,{scaleFactor:n,engine:u,uiTransform:{width:"100%",margin:{top:6*n}}}))}var Y_={TEXT_ANNOUNCEMENT_CONTROL:`${Ye}/admin_toolkit/assets/icons/text-announcement-control.png`,CHECK:`${Ye}/admin_toolkit/assets/icons/text-announcement-check.png`,BTN_CLOSE_TEXT_ANNOUNCEMENT:`${Ye}/admin_toolkit/assets/icons/text-announcement-close-button.png`,CHAT_MESSAGE_ICON:`${Ye}/admin_toolkit/assets/icons/text-announcement-chat-message.png`},vu;function K_({engine:e,state:n,player:s}){let t=Cn(e);return N.createElement($r,{scaleFactor:t},N.createElement(fe,{uiTransform:{width:"100%",height:"100%",flexDirection:"column"}},N.createElement(Po,{iconSrc:Y_.TEXT_ANNOUNCEMENT_CONTROL,scaleFactor:t,title:"Text Announcements"}),N.createElement(fe,{uiTransform:{flexDirection:"column"}},N.createElement(Me,{value:"<b>Message window</b>",fontSize:16*t,color:U.White(),uiTransform:{margin:{bottom:16*t}}}),N.createElement(Oa,{onSubmit:i=>{J_(e,n,i,s)},onChange:i=>{n.textAnnouncementControl.text=i},fontSize:16*t,placeholder:"Write your announcement here",placeholderColor:U.create(160/255,155/255,168/255,1),color:U.Black(),uiBackground:{color:U.White()},uiTransform:{width:"100%",height:80*t,margin:{bottom:16*t}}}),N.createElement(fe,{uiTransform:{width:"100%",height:40*t,flexDirection:"row",margin:{bottom:10*t,top:0,right:0,left:0}}},N.createElement(Me,{value:`${n.textAnnouncementControl.text?.length??0} / 90`,fontSize:14*t,color:U.create(187/255,187/255,187/255,1),uiTransform:{flexGrow:1},textAlign:"top-left"}),N.createElement(Ke,{id:"text_announcement_control_clear",value:"<b>Clear Announcements</b>",variant:"text",fontSize:16*t,color:U.White(),uiTransform:{height:40*t,margin:{right:8*t}},onMouseDown:()=>{fR(e,n)}}),N.createElement(Ke,{id:"text_announcement_control_share",value:"<b>Share</b>",variant:"primary",fontSize:16*t,labelTransform:{margin:{left:20*t,right:20*t}},uiTransform:{height:40*t},onMouseDown:()=>{J_(e,n,n.textAnnouncementControl.text,s)}}))),N.createElement(fe,{uiTransform:{minHeight:30*t}},N.createElement(fe,{uiTransform:{display:vu!==void 0?"flex":"none",width:30*t,height:30*t},uiBackground:{texture:{src:Y_.CHECK},textureMode:"stretch"}}),N.createElement(Me,{uiTransform:{display:vu!==void 0?"flex":"none"},value:`Message ${vu==="sent"?"sent":"cleared"}!`,fontSize:14*t,color:U.create(187/255,187/255,187/255,1)}))))}function fR(e,n){let{TextAnnouncements:s}=It(e),t=s.getMutableOrNull(n.adminToolkitUiEntity);t&&(t.text="",t.id="",t.author=""),n.textAnnouncementControl.announcements=[],vu="cleared"}function J_(e,n,s,t){if(!s)return;let{TextAnnouncements:i}=It(e),r=i.getMutableOrNull(n.adminToolkitUiEntity);if(r){let f=t?.name,u=Date.now();r.author=f,r.id=`${u}-${f}`,r.text=s.slice(0,90)}n.textAnnouncementControl.text="",vu="sent"}var dR={SMART_ITEM_CONTROL:`${Ye}/admin_toolkit/assets/icons/smart-item-control.png`};function pR(e,n){let{Actions:s}=It(e);return!n||!s.has(n.entity)?[]:Array.from(s.get(n.entity).value)}function mR(e,n){ko(e.entity).emit(n.name,Ue(n))}function hR(e,n,s){e.smartItemsControl.selectedSmartItem=s;let t=n[s];if(!e.smartItemsControl.smartItems.has(t.entity)){let i=new Map(e.smartItemsControl.smartItems);i.set(t.entity,{visible:!0,selectedAction:t.defaultAction}),e.smartItemsControl={...e.smartItemsControl,smartItems:new Map(i)}}}function yR(e,n,s){let t=new Map(e.smartItemsControl.smartItems);t.set(n.entity,{...t.get(n.entity),selectedAction:s.name}),e.smartItemsControl={...e.smartItemsControl,smartItems:new Map(t)}}function ER(e,n,s){let{VisibilityComponent:t}=jn(e),i=s[n.smartItemsControl.selectedSmartItem].entity,f=!n.smartItemsControl.smartItems.get(i).visible;n.smartItemsControl.smartItems.get(i).visible=f;let u=t.getOrCreateMutable(i);u.visible=f}function TR({engine:e,smartItems:n,selectedIndex:s,onSelect:t}){let i=Cn(e);return N.createElement(fe,{key:"SmartItemsControlDropdownWrapper",uiTransform:{flexDirection:"column",margin:{bottom:32*i}}},N.createElement(Me,{value:"<b>Selected Smart Item</b>",fontSize:16*i,color:U.White(),uiTransform:{margin:{bottom:16*i}}}),N.createElement(cc,{key:"SmartItemsControlDropdownSelector",acceptEmpty:!0,emptyLabel:"Select Smart Item",options:n.map(r=>r.customName),selectedIndex:s??-1,onChange:t,textAlign:"middle-left",fontSize:14*i,uiTransform:{height:40*i,width:"100%"},uiBackground:{color:U.White()},color:U.Black()}))}function gR({engine:e,actions:n,selectedIndex:s,disabled:t,onChange:i}){let r=Cn(e);return N.createElement(fe,{uiTransform:{flexDirection:"column",margin:{bottom:32*r}}},N.createElement(Me,{value:"<b>Actions</b>",fontSize:16*r,color:U.White(),uiTransform:{margin:{bottom:16*r}}}),n.length?N.createElement(cc,{acceptEmpty:!0,emptyLabel:"Select Action",options:n.map(f=>f.name),selectedIndex:s,onChange:i,disabled:t,textAlign:"middle-left",fontSize:14*r,uiTransform:{height:40*r,width:"100%"},uiBackground:{color:t?U.Gray():U.White()},color:U.Black()}):N.createElement(fe,null))}function SR({engine:e,state:n,smartItems:s,actions:t,selectedAction:i}){let r=Cn(e),f=n.smartItemsControl.selectedSmartItem!==void 0?s[n.smartItemsControl.selectedSmartItem]:void 0,u=f&&n.smartItemsControl.smartItems.get(f.entity)?.visible;return N.createElement(fe,{uiTransform:{flexDirection:"row"}},N.createElement(Ke,{id:"smart_items_control_restart",value:"<b>Play Action</b>",variant:"text",fontSize:16*r,color:U.White(),uiTransform:{margin:{right:8*r},height:40*r},labelTransform:{margin:{left:10*r,right:10*r}},disabled:!f||!i,onMouseDown:()=>{f&&i&&mR(f,i)}}),N.createElement(Ke,{id:"smart_items_control_hide_show",value:`<b>${u?"Hide":"Show"} Entity</b>`,variant:"text",fontSize:16*r,color:U.White(),onMouseDown:()=>ER(e,n,s),disabled:!f,uiTransform:{margin:{right:8*r}},labelTransform:{margin:{left:10*r,right:10*r}}}))}function $_({engine:e,state:n}){let s=Q_(e),t=n.smartItemsControl.selectedSmartItem!==void 0?pR(e,s[n.smartItemsControl.selectedSmartItem]):[],i=n.smartItemsControl.selectedSmartItem!==void 0?t.findIndex(f=>{let u=s[n.smartItemsControl.selectedSmartItem],c=n.smartItemsControl.smartItems.get(u.entity)?.selectedAction;return f.name===(c??u.defaultAction)}):void 0,r=Cn(e);return N.createElement($r,{scaleFactor:r},N.createElement(fe,{key:"SmartItemsControl",uiTransform:{height:"100%",width:"100%",flexDirection:"column"}},N.createElement(Po,{iconSrc:dR.SMART_ITEM_CONTROL,title:"Smart Item Actions",scaleFactor:r}),N.createElement(TR,{engine:e,smartItems:s,selectedIndex:n.smartItemsControl.selectedSmartItem,onSelect:f=>{hR(n,s,f)}}),N.createElement(gR,{engine:e,actions:t,selectedIndex:i,disabled:n.smartItemsControl.selectedSmartItem===void 0,onChange:f=>{n.smartItemsControl.selectedSmartItem!==void 0&&yR(n,s[n.smartItemsControl.selectedSmartItem],t[f])}}),N.createElement(SR,{engine:e,state:n,smartItems:s,actions:t,selectedAction:i!==void 0?t[i]:void 0})))}var X_={BTN_CLOSE_TEXT_ANNOUNCEMENT:`${Ye}/admin_toolkit/assets/icons/text-announcement-close-button.png`,CHAT_MESSAGE_ICON:`${Ye}/admin_toolkit/assets/icons/text-announcement-chat-message.png`},Z_=new Set;function e2({engine:e,state:n}){let{TextAnnouncements:s}=It(e),t=s.getOrNull(n.adminToolkitUiEntity),i=Cn(e);return!t?.text||Z_.has(t.id)?null:N.createElement(fe,{uiTransform:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",height:"100%",width:"100%"}},N.createElement(fe,{key:t.id,uiTransform:{display:"flex",flexDirection:"column",height:150*i,width:400*i,margin:{bottom:10*i},padding:{top:10*i,bottom:10*i,left:10*i,right:10*i}},uiBackground:{color:{r:.15,g:.15,b:.15,a:.95}}},N.createElement(fe,{uiTransform:{alignSelf:"center",justifyContent:"center",height:50*i,width:50*i},uiBackground:{texture:{src:X_.CHAT_MESSAGE_ICON},textureMode:"stretch",color:{r:1,g:1,b:1,a:1}}}),N.createElement(Me,{uiTransform:{alignItems:"center",justifyContent:"center"},fontSize:18*i,value:t.text}),t.author?N.createElement(Me,{uiTransform:{alignItems:"flex-end",justifyContent:"flex-end"},fontSize:14*i,color:{r:.7,g:.7,b:.7,a:1},value:`- ${t.author}`}):null,N.createElement(fe,{uiTransform:{height:24*i,width:24*i,positionType:"absolute",position:{top:5*i,right:5*i}},uiBackground:{texture:{src:X_.BTN_CLOSE_TEXT_ANNOUNCEMENT},textureMode:"stretch"},onMouseDown:()=>{Z_.add(t.id)}})))}var bt;(function(e){e.NONE="None",e.VIDEO_CONTROL="VideoControl",e.SMART_ITEMS_CONTROL="SmartItemsControl",e.TEXT_ANNOUNCEMENT_CONTROL="TextAnnouncementControl",e.MODERATION_CONTROL="ModerationControl",e.REWARDS_CONTROL="RewardsControl"})(bt||(bt={}));var dy=()=>({SCENE_ADMIN:`https://comms-gatekeeper.decentraland.${Xd()}/scene-admin`});async function t2(){return zi({url:dy().SCENE_ADMIN})}async function n2(e){return zi({url:dy().SCENE_ADMIN,init:{method:"POST",headers:{},body:JSON.stringify({admin:e})}})}async function o2(e){return zi({url:dy().SCENE_ADMIN,init:{method:"DELETE",headers:{},body:JSON.stringify({admin:e})}})}var Ma="";function _R(e){return/^0x[a-fA-F0-9]{40}$/.test(e)}function r2({scaleFactor:e,onSubmit:n}){let[s,t]=N.useState(!1),[i,r]=N.useState(!1);return N.createElement(fe,{uiTransform:{display:"flex",flexDirection:"column",positionType:"relative"}},N.createElement(Me,{value:"<b>Add an Admin</b>",fontSize:18*e,color:U.White(),uiTransform:{margin:{bottom:16*e}}}),N.createElement(fe,null,N.createElement(Oa,{onChange:f=>{s&&t(!1),Ma=f},onSubmit:f=>{n(f),Ma=""},value:Ma,fontSize:16*e,placeholder:"Wallet Address",placeholderColor:U.create(160/255,155/255,168/255,1),color:U.Black(),uiBackground:{color:U.White()},uiTransform:{width:"100%",height:42*e,margin:{bottom:16*e},borderColor:(!Ma||_R(Ma))&&!s?U.White():U.Red(),borderWidth:4,borderRadius:8}}),N.createElement(Ke,{id:"moderation_control_add_admin",value:"<b>Add</b>",fontSize:18*e,uiTransform:{margin:{left:10*e},minWidth:96*e,height:42*e,alignItems:"center",justifyContent:"center",padding:0},onMouseDown:async()=>{if(i)return;r(!0);let[f,u]=await n2(Ma);u?(t(!1),Ma="",await ku()):(console.log(f),t(!0)),r(!1)}})),s&&N.createElement(Pi,{uiTransform:{margin:{top:-16&e,bottom:16*e},justifyContent:"flex-start"},scaleFactor:e,text:"Please try again."}))}var i2=`${Ye}/admin_toolkit/assets/icons/admin-panel-moderation-control-button.png`,xR=`${Ye}/admin_toolkit/assets/icons/moderation-control-icon.png`,bR=`${Ye}/admin_toolkit/assets/icons/admin-panel-verified-user.png`,$o={showModalAdminList:!1,adminToRemove:void 0};function a2({engine:e,player:n}){let s=Cn(e);return N.createElement($r,{scaleFactor:s},N.createElement(fe,{uiTransform:{width:"100%",height:"100%",flexDirection:"column"}},N.createElement(Po,{iconSrc:xR,title:"PERMISSIONS",scaleFactor:s}),N.createElement(r2,{scaleFactor:s,onSubmit:console.log}),N.createElement(Ke,{variant:"secondary",id:"moderation_control_admin_list",value:"<b>View Admin List</b>",fontSize:18*s,color:U.White(),uiTransform:{width:220*s,height:42*s,alignItems:"center",justifyContent:"center"},icon:bR,iconTransform:{width:25*s,height:25*s,margin:{right:10*s}},onMouseDown:()=>$o.showModalAdminList=!0})))}function s2({scaleFactor:e,admin:n,engine:s}){let[t,i]=N.useState(!1),[r,f]=N.useState("");return N.createElement(fe,{uiTransform:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},N.createElement(fe,{uiTransform:{width:675*e,minHeight:279*e,padding:24*e,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:12},uiBackground:{color:U.Black()}},N.createElement(fe,{uiTransform:{flexDirection:"row",maxWidth:675*e}},N.createElement(Me,{value:"Are you sure you want to remove ",fontSize:18*e,color:U.White()}),N.createElement(Me,{value:`<b>${n.name||(n.address?`${n.address.substring(0,6)}...${n.address.substring(n.address.length-4)}`:"")}</b>`,fontSize:18*e,color:U.fromHexString("#FF2D55")}),N.createElement(Me,{value:" from the Admin list?",fontSize:18*e,color:U.White()})),N.createElement(Me,{value:"If you proceed, they will lose access to tehe Admin Tools for this scene.",fontSize:14*e,color:U.Gray(),uiTransform:{margin:{top:12*e,bottom:24*e}}}),N.createElement(fe,{uiTransform:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"}},!t&&N.createElement(Ke,{id:"cancel-remove",value:"<b>Cancel</b>",variant:"primary",fontSize:16*e,color:U.Black(),uiTransform:{width:90*e,height:40*e,display:"flex",justifyContent:"center",alignItems:"center",margin:{right:30*e,left:30*e}},onMouseDown:()=>{$o.adminToRemove=void 0}}),!t&&N.createElement(Ke,{id:"confirm-remove",value:"<b>Remove</b>",variant:"primary",fontSize:16*e,color:U.White(),uiTransform:{width:160*e,height:40*e,justifyContent:"center",alignItems:"center"},uiBackground:{color:U.fromHexString("#FF2D55")},onMouseDown:async()=>{if(!t&&n.address){i(!0);let[u]=await o2(n.address);u?f(u):($o.adminToRemove=void 0,await ku()),i(!1)}}})),t&&N.createElement(Li,{scaleFactor:e,engine:s}),r&&N.createElement(Pi,{uiTransform:{margin:{top:16*e}},scaleFactor:e,text:r})))}var Pa=5,Ec={BACK:`${Ye}/admin_toolkit/assets/icons/chevron-back.png`,NEXT:`${Ye}/admin_toolkit/assets/icons/chevron-forward.png`,CLOSE:`${Ye}/admin_toolkit/assets/icons/close.png`,PERSON:`${Ye}/admin_toolkit/assets/icons/person-outline.png`,VERIFIED_USER:`${Ye}/admin_toolkit/assets/icons/admin-panel-verified-user.png`};function c2({scaleFactor:e,sceneAdmins:n,engine:s}){let[t,i]=N.useState(1);if($o.adminToRemove)return N.createElement(s2,{scaleFactor:e,admin:$o.adminToRemove,engine:s});let r=(t-1)*Pa,f=Math.min(r+Pa,n.length),u=n.slice(r,f);return N.createElement(fe,{uiTransform:{width:"100%",height:"100%",positionType:"absolute",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"}},N.createElement(fe,{uiTransform:{width:675*e,maxHeight:679*e,minHeight:479*e,padding:20*e,display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:12*e},uiBackground:{color:U.Black()}},N.createElement(fe,{uiTransform:{display:"flex",flexDirection:"column",flexGrow:1}},N.createElement(fe,{uiTransform:{justifyContent:"flex-start",alignItems:"center",margin:{bottom:24*e}}},N.createElement(fe,{uiTransform:{width:30*e,height:30*e,margin:{right:10*e}},uiBackground:{textureMode:"stretch",texture:{src:Ec.VERIFIED_USER}}}),N.createElement(Me,{value:"<b>ADMIN LIST</b>",fontSize:24*e,color:U.White()}),N.createElement(Me,{value:`(${n.length} admins)`,fontSize:16*e,color:U.Gray(),uiTransform:{margin:{left:8*e}}}),N.createElement(Ke,{id:"close-modal",onlyIcon:!0,icon:Ec.CLOSE,variant:"secondary",fontSize:20*e,uiTransform:{position:{right:0},positionType:"absolute",borderColor:U.Clear()},iconTransform:{width:32*e,height:32*e},onMouseDown:()=>$o.showModalAdminList=!1})),N.createElement(fe,{uiTransform:{flexDirection:"column",width:"100%",margin:{top:16*e}}},u.map((c,h)=>N.createElement(fe,{key:c.address,uiTransform:{display:"flex",flexDirection:"column"}},N.createElement(fe,{key:`admin-${c.name}`,uiTransform:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:48*e,padding:{left:8*e,right:8*e},margin:{top:4*e,bottom:4*e}}},N.createElement(fe,{uiTransform:{display:"flex",height:"100%",justifyContent:"center"}},N.createElement(fe,{uiTransform:{display:"flex",alignItems:"center",justifyContent:"center",margin:{right:10*e}}},N.createElement(fe,{uiTransform:{width:28*e,height:28*e},uiBackground:{textureMode:"stretch",texture:{src:Ec.PERSON}}})),N.createElement(fe,{uiTransform:{display:"flex",flexDirection:"column",justifyContent:"center"}},c.name&&N.createElement(fe,{uiTransform:{display:"flex",alignItems:"center"}},N.createElement(Me,{value:`<b>${c.name}</b>`,fontSize:14*e,color:U.White()}),!c.name.includes("#")&&N.createElement(fe,{uiTransform:{width:14*e,height:14*e},uiBackground:{textureMode:"stretch",texture:{src:Ec.VERIFIED_USER},color:U.White()}}),(c.role==="owner"||c.role==="operator")&&N.createElement(fe,{uiTransform:{display:"flex",alignItems:"center",justifyContent:"center",width:"auto",height:20*e,padding:{left:4*e},margin:{left:8*e},borderRadius:4*e},uiBackground:{color:U.fromHexString("#A09BA8")}},N.createElement(Me,{value:`<b>${(c.role??"")?.charAt(0).toUpperCase()+c.role?.slice(1)}</b>`,fontSize:12*e,color:U.Black()}))),N.createElement(Me,{fontSize:(c.name?12:14)*e,value:c.name?c.address:`${c.address}`,color:c.name?U.fromHexString("#716B7C"):U.White()}))),c.canBeRemoved&&N.createElement(Ke,{id:`remove-${h}`,value:"<b>Remove</b>",variant:"text",fontSize:14*e,color:U.fromHexString("#FF2D55FF"),labelTransform:{margin:{left:10*e,right:10*e}},onMouseDown:()=>{$o.adminToRemove=c}})),N.createElement(fe,{uiTransform:{width:"100%",height:1},uiBackground:{color:U.fromHexString("#43404A")}}))))),n.length>Pa&&N.createElement(fe,{uiTransform:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:{top:20*e},padding:{left:10*e,right:10*e}}},N.createElement(Ke,{id:"prev",value:"Prev",variant:"secondary",disabled:t<=1,fontSize:18*e,icon:Ec.BACK,iconTransform:{width:25*e,height:25*e,margin:{left:8*e}},iconBackground:{color:t<=1?U.fromHexString("#323232"):U.White()},color:t<=1?U.fromHexString("#323232"):U.White(),labelTransform:{margin:{right:10*e}},uiTransform:{height:42*e,alignItems:"center"},onMouseDown:()=>i(t-1)}),N.createElement(Me,{value:`${t} / ${Math.ceil(n.length/Pa)}`,fontSize:14*e,color:U.White()}),N.createElement(Ke,{id:"next",value:"<b>Next</b>",variant:"secondary",fontSize:18*e,iconRight:Ec.NEXT,iconRightTransform:{width:25*e,height:25*e,margin:{right:8*e}},labelTransform:{margin:{left:10*e}},iconRightBackground:{color:t>=Math.ceil(n.length/Pa)?U.fromHexString("#323232"):U.White()},color:t>=Math.ceil(n.length/Pa)?U.fromHexString("#323232"):U.White(),disabled:t>=Math.ceil(n.length/Pa),uiTransform:{alignItems:"center",height:42*e},onMouseDown:()=>i(t+1)}))))}var Kr=[],Rt,He={adminToolkitUiEntity:0,panelOpen:!1,activeTab:bt.NONE,videoControl:{selectedVideoPlayer:void 0},smartItemsControl:{selectedSmartItem:void 0,smartItems:new Map},textAnnouncementControl:{entity:void 0,text:void 0,messageRateTracker:new Map,announcements:[],maxAnnouncements:4},rewardsControl:{selectedRewardItem:void 0}},Zd=[],AR=`${Ye}/admin_toolkit/assets/icons/admin-panel-video-control-button.png`,RR=`${Ye}/admin_toolkit/assets/icons/admin-panel-smart-item-control-button.png`,CR=`${Ye}/admin_toolkit/assets/icons/admin-panel-text-announcement-control-button.png`,NR=`${Ye}/admin_toolkit/assets/icons/admin-panel-control-button.png`,vR=`${Ye}/admin_toolkit/assets/backgrounds/admin-tool-background.png`,ay=U.create(0,0,0,.75),kR=8e3;function IR(e){let{AdminTools:n}=It(e);return Array.from(e.getEntitiesWith(n))[0][0]}function l2(e){let{AdminTools:n}=It(e);return Array.from(e.getEntitiesWith(n))[0][1]}async function ku(){let[e,n]=await t2();if(e){console.log(JSON.stringify({error:e})),Zd=[];return}Zd=(n??[]).map(s=>({name:s.name,address:s.admin,role:"admin",verified:!s.name.includes("#"),canBeRemoved:!!s.canBeRemoved})).sort(s=>s.canBeRemoved?1:-1)}function Q_(e){let n=l2(e);return Array.from(n.smartItemsControl.smartItems??[])}function OR(e){let{TextAnnouncements:n}=It(e);n.createOrReplace(He.adminToolkitUiEntity,{text:"",author:"",id:""})}var u2=!1;async function wR(e,n){if(console.log("initializeAdminData"),!u2){console.log("initializeAdminData - not initialized");let{TextAnnouncements:s,VideoControlState:t}=It(e);He.adminToolkitUiEntity=IR(e)??e.addEntity(),OR(e),t.getOrNull(He.adminToolkitUiEntity)||t.create(He.adminToolkitUiEntity),n?.syncEntity?.(He.adminToolkitUiEntity,[t.componentId,s.componentId],kR),e.addSystem(()=>{if(Kr.length>0){let i=Kr.shift();i&&i()}},Number.POSITIVE_INFINITY),await Promise.all([ku()]),u2=!0,console.log("initializeAdminData - initialized")}}function f2(e,n,s,t,i){wR(e,t).then(()=>{console.log("createAdminToolkitUI - initialized"),s.setUiRenderer(()=>PR(e,n,t,i))})}function MR(e,n,s){if(!s)return!1;let t=s.userId.toLowerCase();return Zd.find(r=>r.address===t)||ly()}var PR=(e,n,s,t)=>{let i=l2(e),r=t?.getPlayer(),f=MR(e,i,r);return Rt=Cn(e),[N.createElement(fe,{uiTransform:{positionType:"absolute",height:"100%",width:"100%"}},f?N.createElement(fe,{uiTransform:{positionType:"absolute",flexDirection:"row",position:{top:120*Rt,right:10*Rt}}},N.createElement(fe,{uiTransform:{display:He.panelOpen?"flex":"none",width:500*Rt,pointerFilter:"block",flexDirection:"column",margin:{right:8*Rt}}},N.createElement(fe,{uiTransform:{width:"100%",height:50*Rt,flexDirection:"row",alignItems:"center",borderRadius:12*Rt,padding:{left:12*Rt,right:12*Rt}},uiBackground:{color:ay}},N.createElement(Me,{value:"ADMIN TOOLS",fontSize:20*Rt,color:U.create(160,155,168,1),uiTransform:{flexGrow:1}}),N.createElement(Ke,{id:"admin_toolkit_moderation_control",variant:He.activeTab===bt.MODERATION_CONTROL?"primary":"text",icon:i2,onlyIcon:!0,uiTransform:{display:i.moderationControl.isEnabled&&!ly()?"flex":"none",width:49*Rt,height:42*Rt,margin:{right:8*Rt},alignItems:"center",justifyContent:"center"},iconBackground:{color:He.activeTab===bt.MODERATION_CONTROL?U.Black():U.White()},iconTransform:{height:"100%",width:"100%"},onMouseDown:()=>{He.activeTab!==bt.MODERATION_CONTROL?(He.activeTab=bt.NONE,Kr.push(()=>{He.activeTab=bt.MODERATION_CONTROL})):He.activeTab=bt.NONE}}),N.createElement(Ke,{id:"admin_toolkit_panel_video_control",variant:He.activeTab===bt.VIDEO_CONTROL?"primary":"text",icon:AR,iconBackground:{color:He.activeTab===bt.VIDEO_CONTROL?U.Black():U.White()},onlyIcon:!0,uiTransform:{display:i.videoControl.isEnabled?"flex":"none",width:49*Rt,height:42*Rt,margin:{right:8*Rt},alignItems:"center",justifyContent:"center"},iconTransform:{height:"100%",width:"100%"},onMouseDown:()=>{He.activeTab!==bt.VIDEO_CONTROL?(He.activeTab=bt.NONE,Kr.push(()=>{He.activeTab=bt.VIDEO_CONTROL})):He.activeTab=bt.NONE}}),N.createElement(Ke,{id:"admin_toolkit_panel_smart_items_control",variant:He.activeTab===bt.SMART_ITEMS_CONTROL?"primary":"text",icon:RR,iconBackground:{color:He.activeTab===bt.SMART_ITEMS_CONTROL?U.Black():U.White()},onlyIcon:!0,uiTransform:{display:i.smartItemsControl.isEnabled?"flex":"none",width:49*Rt,height:42*Rt,margin:{right:8*Rt},alignItems:"center",justifyContent:"center"},iconTransform:{height:"100%",width:"100%"},onMouseDown:()=>{He.activeTab!==bt.SMART_ITEMS_CONTROL?(He.activeTab=bt.NONE,Kr.push(()=>{He.activeTab=bt.SMART_ITEMS_CONTROL})):He.activeTab=bt.NONE}}),N.createElement(Ke,{id:"admin_toolkit_panel_text_announcement_control",variant:He.activeTab===bt.TEXT_ANNOUNCEMENT_CONTROL?"primary":"text",icon:CR,iconBackground:{color:He.activeTab===bt.TEXT_ANNOUNCEMENT_CONTROL?U.Black():U.White()},onlyIcon:!0,uiTransform:{display:i.textAnnouncementControl.isEnabled?"flex":"none",width:49*Rt,height:42*Rt,margin:{right:8*Rt},alignItems:"center",justifyContent:"center"},iconTransform:{height:"100%",width:"100%"},onMouseDown:()=>{He.activeTab!==bt.TEXT_ANNOUNCEMENT_CONTROL?(He.activeTab=bt.NONE,Kr.push(()=>{He.activeTab=bt.TEXT_ANNOUNCEMENT_CONTROL})):He.activeTab=bt.NONE}})),He.activeTab===bt.TEXT_ANNOUNCEMENT_CONTROL?N.createElement(K_,{engine:e,state:He,player:r}):null,He.activeTab===bt.VIDEO_CONTROL?N.createElement(q_,{engine:e,state:He}):null,He.activeTab===bt.SMART_ITEMS_CONTROL?N.createElement($_,{engine:e,state:He}):null,He.activeTab===bt.MODERATION_CONTROL&&N.createElement(a2,{engine:e,player:r})),N.createElement(fe,{uiTransform:{display:"flex",height:42*Rt,width:42*Rt,alignItems:"center",alignContent:"center",justifyContent:"center",pointerFilter:"block"},uiBackground:{texture:{src:vR},textureMode:"stretch",color:U.create(1,1,1,1)}},N.createElement(wh,{value:"",uiTransform:{height:40*Rt,width:40*Rt,alignItems:"center",alignContent:"center",justifyContent:"center"},uiBackground:{texture:{src:NR},textureMode:"stretch",color:U.create(1,1,1,1)},onMouseDown:()=>{He.panelOpen=!He.panelOpen}}))):null,N.createElement(e2,{engine:e,state:He})),$o.showModalAdminList&&N.createElement(c2,{scaleFactor:Rt,sceneAdmins:Zd??[],engine:e})]};var Iu=null;function d2(e,n,s,t,i){let{AdminTools:r}=It(e);return function(u){let c=Array.from(e.getEntitiesWith(r)),h=c.length>0;h&&!Iu?(Iu=c[0][0],f2(e,n,s,t,i)):!h&&Iu&&(e.removeEntity(Iu),Iu=null)}}var p2=!1;function m2(e,n,s){if(p2)return;p2=!0;let t=e;try{let i=jn(t);o_(t);let r=Qm(t),f=Xm(t,r),u=ud(t),c=Ph(t,f);r_(t),t.addSystem(R_(t,f,n,s)),t.addSystem(g_(t,i,f,u)),t.addSystem(u_()),t.addSystem(y_(r)),t.addSystem(N_(t,i)),t.addSystem(S_(i)),t.addSystem(d2(t,f,c,n,s))}catch(i){console.error(`Error initializing Asset Packs: ${i.message}`)}}var Tc=require("~system/EngineApi");function h2(e){async function n(t){let i=await e.crdtSendToRenderer({data:new Uint8Array(t)});if(i&&i.data&&i.data.length&&s.onmessage)for(let r of i.data)s.onmessage(r)}let s={async send(t){try{await n(t)}catch(i){console.error(i);debugger}},filter(t){return t.componentId>Hm?!1:!!t},type:"renderer"};return s}var py=class{constructor(n,s=!1,t,i){this.initalize(n,s,t,i)}initalize(n,s=!1,t,i){return this.mask=n,this.skipNextObservers=s,this.target=t,this.currentTarget=i,this}},my=class{constructor(n,s,t=null){this.callback=n,this.mask=s,this.scope=t,this.unregisterOnNextCall=!1,this._willBeUnregistered=!1}},no=class e{constructor(n){this._observers=new Array,this._onObserverAdded=null,this._eventState=new py(0),n&&(this._onObserverAdded=n)}add(n,s=-1,t=!1,i=null,r=!1){if(!n)return null;let f=new my(n,s,i);return f.unregisterOnNextCall=r,t?this._observers.unshift(f):this._observers.push(f),this._onObserverAdded&&this._onObserverAdded(f),f}addOnce(n){return this.add(n,void 0,void 0,void 0,!0)}remove(n){return n&&this._observers.indexOf(n)!==-1?(this._deferUnregister(n),!0):!1}removeCallback(n,s){for(let t=0;t<this._observers.length;t++)if(this._observers[t].callback===n&&(!s||s===this._observers[t].scope))return this._deferUnregister(this._observers[t]),!0;return!1}notifyObservers(n,s=-1,t,i){if(!this._observers.length)return!0;let r=this._eventState;r.mask=s,r.target=t,r.currentTarget=i,r.skipNextObservers=!1,r.lastReturnValue=n;for(let f of this._observers)if(!f._willBeUnregistered&&(f.mask&s&&(f.scope?r.lastReturnValue=f.callback.apply(f.scope,[n,r]):r.lastReturnValue=f.callback(n,r),f.unregisterOnNextCall&&this._deferUnregister(f)),r.skipNextObservers))return!1;return!0}notifyObserversWithPromise(n,s=-1,t,i){let r=Promise.resolve(n);if(!this._observers.length)return r;let f=this._eventState;return f.mask=s,f.target=t,f.currentTarget=i,f.skipNextObservers=!1,this._observers.forEach(u=>{f.skipNextObservers||u._willBeUnregistered||u.mask&s&&(u.scope?r=r.then(c=>(f.lastReturnValue=c,u.callback.apply(u.scope,[n,f]))):r=r.then(c=>(f.lastReturnValue=c,u.callback(n,f))),u.unregisterOnNextCall&&this._deferUnregister(u))}),r.then(()=>n)}notifyObserver(n,s,t=-1){let i=this._eventState;i.mask=t,i.skipNextObservers=!1,n.callback(s,i)}hasObservers(){return this._observers.length>0}clear(){this._observers=new Array,this._onObserverAdded=null}clone(){let n=new e;return n._observers=this._observers.slice(0),n}hasSpecificMask(n=-1){for(let s of this._observers)if(s.mask&n||s.mask===n)return!0;return!1}_deferUnregister(n){n.unregisterOnNextCall=!1,n._willBeUnregistered=!0,Promise.resolve().then.bind(Promise.resolve())(async()=>this._remove(n)).catch(console.error)}_remove(n){if(!n)return!1;let s=this._observers.indexOf(n);return s!==-1?(this._observers.splice(s,1),!0):!1}};var E2=require("~system/EngineApi");function Qo(e){return()=>{e==="comms"?(0,E2.subscribe)({eventId:e}).catch(console.error):HR?.subscribe(e)}}var zR=new no(Qo("onEnterScene"));var LR=new no(Qo("onLeaveScene"));var UR=new no(Qo("sceneStart")),BR=new no(Qo("playerExpression")),Pj=new no(Qo("videoEvent")),y2=new no(Qo("profileChanged")),DR=new no(Qo("playerConnected")),WR=new no(Qo("playerDisconnected")),jR=new no(Qo("onRealmChanged")),FR=new no(Qo("playerClicked")),VR=new no(Qo("comms"));async function T2(e){let{events:n}=await e({actions:[]});for(let s of n)if(s.generic){let t=JSON.parse(s.generic.eventData);switch(s.generic.eventId){case"comms":{VR.notifyObservers(t);break}}}}var HR=GR();function GR(){let e=new Set;function n(w){if(!e.has(w)){switch(w){case"playerClicked":r();case"onEnterScene":case"playerConnected":s();case"onLeaveScene":case"playerDisconnected":t();case"onRealmChanged":i();case"playerExpression":f();case"profileChanged":u()}e.add(w)}}function s(){mu.onEnterScene(w=>{e.has("onEnterScene")&&zR.notifyObservers({userId:w.userId}),e.has("playerConnected")&&DR.notifyObservers({userId:w.userId})})}function t(){mu.onLeaveScene(w=>{e.has("onLeaveScene")&&LR.notifyObservers({userId:w}),e.has("playerDisconnected")&&WR.notifyObservers({userId:w})})}function i(){Ca.onChange(ye.RootEntity,w=>{w&&jR.notifyObservers({domain:w.baseUrl,displayName:w.realmName,room:w.room??"",serverName:w.realmName})})}function r(){let w=new Set;ye.addSystem(()=>{for(let[x]of ye.getEntitiesWith(Ra)){if(w.has(x))return;w.add(x),ld.onChange(x,P=>{P?.hit&&FR.notifyObservers({userId:Ra.getOrNull(x)?.address??"",ray:{direction:P.hit.direction,distance:P.hit.length,origin:P.hit.globalOrigin}})})}})}function f(){y1.onChange(ye.PlayerEntity,w=>{BR.notifyObservers({expressionId:w?.emoteUrn??""})})}function u(){h1.onChange(ye.PlayerEntity,()=>{h&&y2.notifyObservers({ethAddress:h,version:0})}),E1.onChange(ye.PlayerEntity,()=>{h&&y2.notifyObservers({ethAddress:h,version:0})})}let c=!1,h;function y(){if(c&&h)return ye.removeSystem(y);c||(c=!0,UR.notifyObservers({})),!h&&(h=Ra.getOrNull(ye.PlayerEntity)?.address)}return ye.addSystem(y),{subscribe:n}}var hy={"assets/scene/main.composite":{version:1,components:[{name:"composite::root",jsonSchema:{type:"object",properties:{src:{type:"string",serializationType:"utf8-string"},entities:{type:"array",items:{type:"object",properties:{src:{type:"integer",serializationType:"entity"},dest:{type:"integer",serializationType:"entity"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{}},{name:"core::Transform",jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"},data:{512:{json:{position:{x:3.25,y:0,z:2.25},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},513:{json:{position:{x:9,y:2.25,z:6.75},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},514:{json:{position:{x:11.5,y:0,z:6.5},rotation:{x:0,y:0,z:0,w:1},scale:{x:20,y:40,z:40},parent:0}},515:{json:{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},516:{json:{position:{x:.75,y:0,z:3.5},rotation:{x:0,y:0,z:0,w:1},scale:{x:1,y:1,z:1},parent:0}},517:{json:{position:{x:1,y:0,z:1.75},rotation:{x:0,y:0,z:0,w:1},scale:{x:1,y:1,z:1},parent:0}}}},{name:"core-schema::Network-Entity",jsonSchema:{type:"object",properties:{networkId:{type:"integer",serializationType:"int64"},entityId:{type:"integer",serializationType:"entity"}},serializationType:"map"},data:{512:{json:{networkId:0,entityId:8002}},513:{json:{networkId:0,entityId:8003}},515:{json:{networkId:0,entityId:8004}}}},{name:"core::Animator",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAnimator"},data:{0:{json:{states:[]}},512:{json:{states:[]}},513:{json:{states:[]}},514:{json:{states:[]}},515:{json:{states:[]}},516:{json:{states:[]}},517:{json:{states:[]}}}},{name:"core::GltfContainer",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainer"},data:{512:{json:{src:"assets/asset-packs/admin_tools/admin_toolkit.glb",visibleMeshesCollisionMask:1,invisibleMeshesCollisionMask:0}},514:{json:{src:"assets/asset-packs/umbrella/Umbrella.glb",visibleMeshesCollisionMask:0,invisibleMeshesCollisionMask:3}},516:{json:{src:"assets/asset-packs/construction_cone/ConstructionCone_01/ConstructionCone_01.glb",visibleMeshesCollisionMask:0,invisibleMeshesCollisionMask:3}},517:{json:{src:"assets/asset-packs/construction_cone/ConstructionCone_01/ConstructionCone_01.glb",visibleMeshesCollisionMask:0,invisibleMeshesCollisionMask:3}}}},{name:"core::Material",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMaterial"},data:{513:{json:{material:{$case:"unlit",unlit:{texture:{tex:{$case:"videoTexture",videoTexture:{videoPlayerEntity:513,wrapMode:0,filterMode:0}}},alphaTest:.5,castShadows:!0,diffuseColor:{r:1,g:1,b:1,a:1},alphaTexture:{tex:{$case:"texture",texture:{src:"",wrapMode:0,filterMode:0,offset:{x:0,y:0},tiling:{x:1,y:1}}}}}}}}}},{name:"core::MeshCollider",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshCollider"},data:{513:{json:{collisionMask:1,mesh:{$case:"plane",plane:{}}}}}},{name:"core::MeshRenderer",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"},data:{513:{json:{mesh:{$case:"plane",plane:{uvs:[]}}}}}},{name:"core-schema::Name",jsonSchema:{type:"object",properties:{value:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},data:{512:{json:{value:"Admin Tools"}},513:{json:{value:"Video Screen"}},514:{json:{value:"Umbrella"}},515:{json:{value:"umbrellaTrigger"}},516:{json:{value:"Construction Cone"}},517:{json:{value:"Construction Cone_2"}}}},{name:"core-schema::Sync-Components",jsonSchema:{type:"object",properties:{componentIds:{type:"array",items:{type:"integer",serializationType:"int64"},serializationType:"array"}},serializationType:"map"},data:{512:{json:{componentIds:[99929642]}},513:{json:{componentIds:[1043]}},515:{json:{componentIds:[1020,1042,1]}}}},{name:"core::VideoPlayer",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoPlayer"},data:{513:{json:{src:"https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875",playing:!0,volume:1}}}},{name:"core::VisibilityComponent",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVisibilityComponent"},data:{512:{json:{visible:!1}}}},{name:"inspector::Selection",jsonSchema:{type:"object",properties:{gizmo:{type:"integer",serializationType:"int32"}},serializationType:"map"},data:{516:{json:{gizmo:0}}}},{name:"inspector::SceneMetadata-v1",jsonSchema:{type:"object",properties:{version:{type:"integer",serializationType:"optional",optionalJsonSchema:{type:"integer",serializationType:"int32"}},name:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},description:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},thumbnail:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},ageRating:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",enum:["T","A"],default:"T",serializationType:"enum-string",enumObject:{Teen:"T",Adult:"A"}}},categories:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"string",enum:["art","game","casino","social","music","fashion","crypto","education","shop","business","sports"],default:"game",serializationType:"enum-string",enumObject:{ART:"art",GAME:"game",CASINO:"casino",SOCIAL:"social",MUSIC:"music",FASHION:"fashion",CRYPTO:"crypto",EDUCATION:"education",SHOP:"shop",BUSINESS:"business",SPORTS:"sports"}},serializationType:"array"}},author:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},email:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},tags:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"string",serializationType:"utf8-string"},serializationType:"array"}},layout:{type:"object",properties:{base:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},parcels:{type:"array",items:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},silenceVoiceChat:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},disablePortableExperiences:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},skyboxConfig:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{fixedTime:{type:"integer",serializationType:"optional",optionalJsonSchema:{type:"integer",serializationType:"int32"}},transitionMode:{type:"integer",serializationType:"optional",optionalJsonSchema:{type:"integer",enum:[0,1],default:0,serializationType:"enum-int",enumObject:{0:"TM_FORWARD",1:"TM_BACKWARD",TM_FORWARD:0,TM_BACKWARD:1}}}},serializationType:"map"}},spawnPoints:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"object",properties:{name:{type:"string",serializationType:"utf8-string"},default:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},position:{type:"object",properties:{x:{type:"object",properties:{single:{type:"integer",serializationType:"int32"},range:{type:"array",items:{type:"integer",serializationType:"int32"},serializationType:"array"}},serializationType:"one-of"},y:{type:"object",properties:{single:{type:"integer",serializationType:"int32"},range:{type:"array",items:{type:"integer",serializationType:"int32"},serializationType:"array"}},serializationType:"one-of"},z:{type:"object",properties:{single:{type:"integer",serializationType:"int32"},range:{type:"array",items:{type:"integer",serializationType:"int32"},serializationType:"array"}},serializationType:"one-of"}},serializationType:"map"},cameraTarget:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"},z:{type:"integer",serializationType:"int32"}},serializationType:"map"}}},serializationType:"map"},serializationType:"array"}}},serializationType:"map"},data:{0:{json:{name:"Guided tour",description:"Shoot wormholes to teleport anywhere. Press E to switch the portal color. Only works on SDK7 scenes.",thumbnail:"assets/scene/glasses.png",ageRating:"T",categories:[],tags:[],layout:{base:{x:0,y:0},parcels:[{x:0,y:0}]},skyboxConfig:{},spawnPoints:[{name:"spawn1",default:!0,position:{x:{$case:"range",value:[0,3]},y:{$case:"range",value:[0,0]},z:{$case:"range",value:[0,3]}},cameraTarget:{x:8,y:1,z:8}}]}}}},{name:"inspector::Nodes",jsonSchema:{type:"object",properties:{value:{type:"array",items:{type:"object",properties:{entity:{type:"integer",serializationType:"entity"},open:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},children:{type:"array",items:{type:"integer",serializationType:"entity"},serializationType:"array"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{0:{json:{value:[{entity:512,open:!0,children:[513,514,516,515,517,518]},{entity:522,children:[]},{entity:523,children:[]},{entity:513,children:[]},{entity:514,children:[]},{entity:516,children:[]},{entity:515,children:[]},{entity:517,children:[]},{entity:518,children:[]}]}}}},{name:"asset-packs::ActionTypes",jsonSchema:{type:"object",properties:{value:{type:"array",items:{type:"object",properties:{type:{type:"string",serializationType:"utf8-string"},jsonSchema:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{0:{json:{value:[{type:"play_animation",jsonSchema:'{"type":"object","properties":{"animation":{"type":"string","serializationType":"utf8-string"},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"stop_animation",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"set_state",jsonSchema:'{"type":"object","properties":{"state":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"start_tween",jsonSchema:'{"type":"object","properties":{"type":{"type":"string","enum":["move_item","rotate_item","scale_item"],"default":"move_item","serializationType":"enum-string","enumObject":{"MOVE_ITEM":"move_item","ROTATE_ITEM":"rotate_item","SCALE_ITEM":"scale_item"}},"end":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"},"interpolationType":{"type":"string","enum":["linear","easeinquad","easeoutquad","easequad","easeinsine","easeoutsine","easeinoutsine","easeinexpo","easeoutexpo","easeinoutexpo","easeinelastic","easeoutelastic","easeinoutelastic","easeinbounce","easeoutbounce","easeinoutbounce"],"default":"linear","serializationType":"enum-string","enumObject":{"LINEAR":"linear","EASEINQUAD":"easeinquad","EASEOUTQUAD":"easeoutquad","EASEQUAD":"easequad","EASEINSINE":"easeinsine","EASEOUTSINE":"easeoutsine","EASESINE":"easeinoutsine","EASEINEXPO":"easeinexpo","EASEOUTEXPO":"easeoutexpo","EASEEXPO":"easeinoutexpo","EASEINELASTIC":"easeinelastic","EASEOUTELASTIC":"easeoutelastic","EASEELASTIC":"easeinoutelastic","EASEINBOUNCE":"easeinbounce","EASEOUTEBOUNCE":"easeoutbounce","EASEBOUNCE":"easeinoutbounce"}},"duration":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"boolean"}},"serializationType":"map"}'},{type:"set_counter",jsonSchema:'{"type":"object","properties":{"counter":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}'},{type:"increment_counter",jsonSchema:'{"type":"object","properties":{"amount":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}'},{type:"decrease_counter",jsonSchema:'{"type":"object","properties":{"amount":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}'},{type:"play_sound",jsonSchema:'{"type":"object","properties":{"src":{"type":"string","serializationType":"utf8-string"},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}},"volume":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"global":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"stop_sound",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"set_visibility",jsonSchema:'{"type":"object","properties":{"visible":{"type":"boolean","serializationType":"boolean"},"physicsCollider":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}},"collider":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","enum":[0,1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768],"default":1,"serializationType":"enum-int","enumObject":{"0":"CL_NONE","1":"CL_POINTER","2":"CL_PHYSICS","4":"CL_RESERVED1","8":"CL_RESERVED2","16":"CL_RESERVED3","32":"CL_RESERVED4","64":"CL_RESERVED5","128":"CL_RESERVED6","256":"CL_CUSTOM1","512":"CL_CUSTOM2","1024":"CL_CUSTOM3","2048":"CL_CUSTOM4","4096":"CL_CUSTOM5","8192":"CL_CUSTOM6","16384":"CL_CUSTOM7","32768":"CL_CUSTOM8","CL_NONE":0,"CL_POINTER":1,"CL_PHYSICS":2,"CL_RESERVED1":4,"CL_RESERVED2":8,"CL_RESERVED3":16,"CL_RESERVED4":32,"CL_RESERVED5":64,"CL_RESERVED6":128,"CL_CUSTOM1":256,"CL_CUSTOM2":512,"CL_CUSTOM3":1024,"CL_CUSTOM4":2048,"CL_CUSTOM5":4096,"CL_CUSTOM6":8192,"CL_CUSTOM7":16384,"CL_CUSTOM8":32768}}}},"serializationType":"map"}'},{type:"attach_to_player",jsonSchema:'{"type":"object","properties":{"anchorPointId":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}'},{type:"detach_from_player",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"play_video_stream",jsonSchema:'{"type":"object","properties":{"src":{"type":"string","serializationType":"optional","optionalJsonSchema":{"type":"string","serializationType":"utf8-string"}},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}},"volume":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"dclCast":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"stop_video_stream",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"play_audio_stream",jsonSchema:'{"type":"object","properties":{"url":{"type":"string","serializationType":"utf8-string"},"volume":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}}},"serializationType":"map"}'},{type:"stop_audio_stream",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"teleport_player",jsonSchema:'{"type":"object","properties":{"x":{"type":"integer","serializationType":"int32"},"y":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}'},{type:"move_player",jsonSchema:'{"type":"object","properties":{"position":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"},"cameraTarget":{"type":"object","serializationType":"optional","optionalJsonSchema":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"}}},"serializationType":"map"}'},{type:"play_default_emote",jsonSchema:'{"type":"object","properties":{"emote":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"play_custom_emote",jsonSchema:'{"type":"object","properties":{"src":{"type":"string","serializationType":"utf8-string"},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"open_link",jsonSchema:'{"type":"object","properties":{"url":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"show_text",jsonSchema:'{"type":"object","properties":{"text":{"type":"string","serializationType":"utf8-string"},"hideAfterSeconds":{"type":"number","serializationType":"float32"},"font":{"type":"integer","enum":[0,1,2],"default":0,"serializationType":"enum-int","enumObject":{"0":"F_SANS_SERIF","1":"F_SERIF","2":"F_MONOSPACE","F_SANS_SERIF":0,"F_SERIF":1,"F_MONOSPACE":2}},"fontSize":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"textAlign":{"type":"integer","enum":[0,1,2,3,4,5,6,7,8],"default":4,"serializationType":"enum-int","enumObject":{"0":"TAM_TOP_LEFT","1":"TAM_TOP_CENTER","2":"TAM_TOP_RIGHT","3":"TAM_MIDDLE_LEFT","4":"TAM_MIDDLE_CENTER","5":"TAM_MIDDLE_RIGHT","6":"TAM_BOTTOM_LEFT","7":"TAM_BOTTOM_CENTER","8":"TAM_BOTTOM_RIGHT","TAM_TOP_LEFT":0,"TAM_TOP_CENTER":1,"TAM_TOP_RIGHT":2,"TAM_MIDDLE_LEFT":3,"TAM_MIDDLE_CENTER":4,"TAM_MIDDLE_RIGHT":5,"TAM_BOTTOM_LEFT":6,"TAM_BOTTOM_CENTER":7,"TAM_BOTTOM_RIGHT":8}}},"serializationType":"map"}'},{type:"hide_text",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"start_delay",jsonSchema:'{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"},"timeout":{"type":"number","serializationType":"float32"}},"serializationType":"map"}'},{type:"stop_delay",jsonSchema:'{"type":"object","properties":{"action":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"start_loop",jsonSchema:'{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"},"interval":{"type":"number","serializationType":"float32"}},"serializationType":"map"}'},{type:"stop_loop",jsonSchema:'{"type":"object","properties":{"action":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}'},{type:"clone_entity",jsonSchema:'{"type":"object","properties":{"position":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"}},"serializationType":"map"}'},{type:"remove_entity",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"show_image",jsonSchema:'{"type":"object","properties":{"src":{"type":"string","serializationType":"utf8-string"},"align":{"type":"integer","enum":[0,1,2,3,4,5,6,7,8],"default":4,"serializationType":"enum-int","enumObject":{"0":"TAM_TOP_LEFT","1":"TAM_TOP_CENTER","2":"TAM_TOP_RIGHT","3":"TAM_MIDDLE_LEFT","4":"TAM_MIDDLE_CENTER","5":"TAM_MIDDLE_RIGHT","6":"TAM_BOTTOM_LEFT","7":"TAM_BOTTOM_CENTER","8":"TAM_BOTTOM_RIGHT","TAM_TOP_LEFT":0,"TAM_TOP_CENTER":1,"TAM_TOP_RIGHT":2,"TAM_MIDDLE_LEFT":3,"TAM_MIDDLE_CENTER":4,"TAM_MIDDLE_RIGHT":5,"TAM_BOTTOM_LEFT":6,"TAM_BOTTOM_CENTER":7,"TAM_BOTTOM_RIGHT":8}},"height":{"type":"number","serializationType":"float32"},"width":{"type":"number","serializationType":"float32"},"hideAfterSeconds":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"text":{"type":"string","serializationType":"optional","optionalJsonSchema":{"type":"string","serializationType":"utf8-string"}},"fontSize":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}}},"serializationType":"map"}'},{type:"hide_image",jsonSchema:'{"type":"object","properties":{"imageEntity":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}'},{type:"damage",jsonSchema:'{"type":"object","properties":{"radius":{"type":"number","serializationType":"float32"},"layer":{"type":"string","serializationType":"optional","optionalJsonSchema":{"type":"string","enum":["all","player","non_player"],"default":"all","serializationType":"enum-string","enumObject":{"ALL":"all","PLAYER":"player","NON_PLAYER":"non_player"}}},"hits":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}'},{type:"move_player_here",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"place_on_player",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"rotate_as_player",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"place_on_camera",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"rotate_as_camera",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"set_position",jsonSchema:'{"type":"object","properties":{"x":{"type":"number","serializationType":"float32"},"y":{"type":"number","serializationType":"float32"},"z":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"set_rotation",jsonSchema:'{"type":"object","properties":{"x":{"type":"number","serializationType":"float32"},"y":{"type":"number","serializationType":"float32"},"z":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"set_scale",jsonSchema:'{"type":"object","properties":{"x":{"type":"number","serializationType":"float32"},"y":{"type":"number","serializationType":"float32"},"z":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}'},{type:"follow_player",jsonSchema:'{"type":"object","properties":{"speed":{"type":"number","serializationType":"float32"},"x":{"type":"boolean","serializationType":"boolean"},"y":{"type":"boolean","serializationType":"boolean"},"z":{"type":"boolean","serializationType":"boolean"},"minDistance":{"type":"number","serializationType":"float32"}},"serializationType":"map"}'},{type:"stop_following_player",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'},{type:"random",jsonSchema:'{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"}},"serializationType":"map"}'},{type:"batch",jsonSchema:'{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"}},"serializationType":"map"}'},{type:"heal_player",jsonSchema:'{"type":"object","properties":{"multiplier":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}'},{type:"claim_airdrop",jsonSchema:'{"type":"object","properties":{},"serializationType":"map"}'}]}}}},{name:"asset-packs::Actions",jsonSchema:{type:"object",properties:{id:{type:"integer",serializationType:"int32"},value:{type:"array",items:{type:"object",properties:{name:{type:"string",serializationType:"utf8-string"},type:{type:"string",serializationType:"utf8-string"},jsonPayload:{type:"string",serializationType:"utf8-string"},allowedInBasicView:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},basicViewId:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},default:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{515:{json:{id:1,value:[{name:"Activate Umbrella",type:"play_sound",jsonPayload:'{"src":"assets/scene/cardPickup.mp3"}'},{name:"Deactivate Umbrella",type:"play_sound",jsonPayload:'{"src":"assets/scene/cardPickup.mp3"}'}]}}}},{name:"asset-packs::Counter",jsonSchema:{type:"object",properties:{id:{type:"number",serializationType:"float32"},value:{type:"integer",serializationType:"int32"}},serializationType:"map"},data:{0:{json:{id:0,value:1}}}},{name:"asset-packs::VideoScreen",jsonSchema:{type:"object",properties:{thumbnail:{type:"string",serializationType:"utf8-string"},defaultMediaSource:{type:"integer",enum:[0,1],default:0,serializationType:"enum-int",enumObject:{0:"VideoURL",1:"LiveStream",VideoURL:0,LiveStream:1}},defaultURL:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},data:{513:{json:{thumbnail:"https://boedo.casla",defaultMediaSource:0,defaultURL:"https://player.vimeo.com/external/552481870.m3u8?s=c312c8533f97e808fccc92b0510b085c8122a875"}}}},{name:"asset-packs::AdminTools",jsonSchema:{type:"object",properties:{adminPermissions:{type:"string",enum:["PUBLIC","PRIVATE"],default:"PUBLIC",serializationType:"enum-string",enumObject:{PUBLIC:"PUBLIC",PRIVATE:"PRIVATE"}},authorizedAdminUsers:{type:"object",properties:{me:{type:"boolean",serializationType:"boolean"},sceneOwners:{type:"boolean",serializationType:"boolean"},allowList:{type:"boolean",serializationType:"boolean"},adminAllowList:{type:"array",items:{type:"string",serializationType:"utf8-string"},serializationType:"array"}},serializationType:"map"},moderationControl:{type:"object",properties:{isEnabled:{type:"boolean",serializationType:"boolean"},kickCoordinates:{type:"object",properties:{x:{type:"number",serializationType:"float32"},y:{type:"number",serializationType:"float32"},z:{type:"number",serializationType:"float32"}},serializationType:"map"},allowNonOwnersManageAdminAllowList:{type:"boolean",serializationType:"boolean"}},serializationType:"map"},textAnnouncementControl:{type:"object",properties:{isEnabled:{type:"boolean",serializationType:"boolean"},playSoundOnEachAnnouncement:{type:"boolean",serializationType:"boolean"},showAuthorOnEachAnnouncement:{type:"boolean",serializationType:"boolean"}},serializationType:"map"},videoControl:{type:"object",properties:{isEnabled:{type:"boolean",serializationType:"boolean"},disableVideoPlayersSound:{type:"boolean",serializationType:"boolean"},showAuthorOnVideoPlayers:{type:"boolean",serializationType:"boolean"},linkAllVideoPlayers:{type:"boolean",serializationType:"boolean"},videoPlayers:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"object",properties:{entity:{type:"integer",serializationType:"int32"},customName:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},serializationType:"array"}}},serializationType:"map"},smartItemsControl:{type:"object",properties:{isEnabled:{type:"boolean",serializationType:"boolean"},linkAllSmartItems:{type:"boolean",serializationType:"boolean"},smartItems:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"object",properties:{entity:{type:"integer",serializationType:"int32"},customName:{type:"string",serializationType:"utf8-string"},defaultAction:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},serializationType:"array"}}},serializationType:"map"},rewardsControl:{type:"object",properties:{isEnabled:{type:"boolean",serializationType:"boolean"},rewardItems:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"object",properties:{entity:{type:"integer",serializationType:"int32"},customName:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},serializationType:"array"}}},serializationType:"map"}},serializationType:"map"},data:{512:{json:{adminPermissions:"PUBLIC",authorizedAdminUsers:{me:!0,sceneOwners:!0,allowList:!0,adminAllowList:[]},moderationControl:{isEnabled:!0,kickCoordinates:{x:0,y:0,z:0},allowNonOwnersManageAdminAllowList:!1},textAnnouncementControl:{isEnabled:!0,playSoundOnEachAnnouncement:!0,showAuthorOnEachAnnouncement:!0},videoControl:{isEnabled:!0,disableVideoPlayersSound:!1,showAuthorOnVideoPlayers:!0,linkAllVideoPlayers:!1,videoPlayers:[{entity:513,customName:"Screen"}]},smartItemsControl:{isEnabled:!0,linkAllSmartItems:!1,smartItems:[{entity:515,customName:"Umbrella Trigger",defaultAction:"Activate Umbrella"}]},rewardsControl:{isEnabled:!0,rewardItems:[]}}}}},{name:"inspector::TransformConfig",jsonSchema:{type:"object",properties:{porportionalScaling:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}}},serializationType:"map"},data:{512:{json:{}},513:{json:{}},514:{json:{porportionalScaling:!0}},515:{json:{}},516:{json:{}},517:{json:{}}}},{name:"inspector::Config",jsonSchema:{type:"object",properties:{isBasicViewEnabled:{type:"boolean",serializationType:"boolean"},componentName:{type:"string",serializationType:"utf8-string"},fields:{type:"array",items:{type:"object",properties:{name:{type:"string",serializationType:"utf8-string"},type:{type:"string",enum:["core::Animator","core::AudioSource","core::AudioStream","core::AvatarAttach","core::GltfContainer","core-schema::Network-Entity","core::Material","core::MeshCollider","core::MeshRenderer","core::NftShape","core::PointerEvents","core-schema::Sync-Components","core::TextShape","core::Transform","core::Tween","core::TweenSequence","core::VideoPlayer","core::VisibilityComponent","inspector::Selection","inspector::SceneMetadata-v1","inspector::Nodes","asset-packs::ActionTypes","asset-packs::Actions","asset-packs::Counter","asset-packs::CounterBar","asset-packs::Triggers","asset-packs::States","inspector::TransformConfig","inspector::Hide","inspector::Lock","inspector::Config","inspector::Ground","inspector::Tile","inspector::CustomAsset","asset-packs::AdminTools","asset-packs::Rewards","asset-packs::VideoScreen"],default:"asset-packs::Actions",serializationType:"enum-string",enumObject:{ANIMATOR:"core::Animator",AUDIO_SOURCE:"core::AudioSource",AUDIO_STREAM:"core::AudioStream",AVATAR_ATTACH:"core::AvatarAttach",GLTF_CONTAINER:"core::GltfContainer",NETWORK_ENTITY:"core-schema::Network-Entity",MATERIAL:"core::Material",MESH_COLLIDER:"core::MeshCollider",MESH_RENDERER:"core::MeshRenderer",NFT_SHAPE:"core::NftShape",POINTER_EVENTS:"core::PointerEvents",SYNC_COMPONENTS:"core-schema::Sync-Components",TEXT_SHAPE:"core::TextShape",TRANSFORM:"core::Transform",TWEEN:"core::Tween",TWEEN_SEQUENCE:"core::TweenSequence",VIDEO_PLAYER:"core::VideoPlayer",VISIBILITY_COMPONENT:"core::VisibilityComponent",Selection:"inspector::Selection",Scene:"inspector::SceneMetadata-v1",Nodes:"inspector::Nodes",ActionTypes:"asset-packs::ActionTypes",Actions:"asset-packs::Actions",Counter:"asset-packs::Counter",CounterBar:"asset-packs::CounterBar",Triggers:"asset-packs::Triggers",States:"asset-packs::States",TransformConfig:"inspector::TransformConfig",Hide:"inspector::Hide",Lock:"inspector::Lock",Config:"inspector::Config",Ground:"inspector::Ground",Tile:"inspector::Tile",CustomAsset:"inspector::CustomAsset",AdminTools:"asset-packs::AdminTools",Rewards:"asset-packs::Rewards",VideoScreen:"asset-packs::VideoScreen"}},layout:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},basicViewId:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"},serializationType:"array"},assetId:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},label:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},sections:{type:"array",serializationType:"optional",optionalJsonSchema:{type:"array",items:{type:"object",properties:{id:{type:"string",serializationType:"utf8-string"},label:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},items:{type:"array",items:{type:"object",properties:{component:{type:"string",serializationType:"utf8-string"},widget:{type:"string",serializationType:"utf8-string"},label:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},type:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},path:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},basicViewId:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},props:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{basic:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}}},serializationType:"map"}},constraints:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{min:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},max:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},minExclusive:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},maxExclusive:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},step:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},multipleOf:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},minLength:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},maxLength:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},pattern:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},format:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}},default:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"}},transform:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{in:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{steps:{type:"array",items:{type:"object",properties:{op:{type:"string",serializationType:"utf8-string"},onError:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",enum:["fail","skip","noop"],default:"noop",serializationType:"enum-string",enumObject:{FAIL:"fail",SKIP:"skip",NOOP:"noop"}}}},serializationType:"map"},serializationType:"array"}},serializationType:"map"}},out:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{steps:{type:"array",items:{type:"object",properties:{op:{type:"string",serializationType:"utf8-string"},onError:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",enum:["fail","skip","noop"],default:"noop",serializationType:"enum-string",enumObject:{FAIL:"fail",SKIP:"skip",NOOP:"noop"}}}},serializationType:"map"},serializationType:"array"}},serializationType:"map"}}},serializationType:"map"}},dataSource:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{kind:{type:"string",serializationType:"utf8-string"}},serializationType:"map"}}},serializationType:"map"},serializationType:"array"},columns:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}},helpTooltip:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{text:{type:"string",serializationType:"utf8-string"},link:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"}}},serializationType:"map"},serializationType:"array"}},helpTooltip:{type:"object",serializationType:"optional",optionalJsonSchema:{type:"object",properties:{text:{type:"string",serializationType:"utf8-string"},link:{type:"string",serializationType:"optional",optionalJsonSchema:{type:"string",serializationType:"utf8-string"}}},serializationType:"map"}},version:{type:"number",serializationType:"optional",optionalJsonSchema:{type:"number",serializationType:"float32"}}},serializationType:"map"},data:{512:{json:{isBasicViewEnabled:!0,componentName:"Admin Tools",fields:[{name:"Controls",type:"asset-packs::AdminTools"}],assetId:"0c419cb9-bc21-4c51-977f-41a505a097f0"}},513:{json:{isBasicViewEnabled:!0,componentName:"Video Screen",fields:[{name:"Config",type:"asset-packs::VideoScreen"}],assetId:"dc5ec17b-aa1a-4bd0-bace-7d615d9bdc71"}}}}]}};var ep=[],yy={getCompositeOrNull(e,n){let s=hy[e];if(s){try{if(s instanceof Uint8Array){let t=Ai.fromBinary(s);ep.push({src:e,composite:t})}else if(typeof s=="string"){let t=Ai.fromJson(JSON.parse(s));ep.push({src:e,composite:t})}else if(typeof s=="object"){let t=Ai.fromJson(s);ep.push({src:e,composite:t})}}catch(t){console.error(t)}delete hy[e]}return ep.find(t=>t.src===e)||null}};var tp=h2({crdtSendToRenderer:Tc.crdtSendToRenderer});ye.addTransport(tp);async function qR(e){ye.seal(),await ye.update(e),await T2(Tc.sendBatch)}async function YR(){let e=await(0,Tc.crdtGetState)({data:new Uint8Array});if(!e.hasEntities){let n=yy.getCompositeOrNull("main.composite");if(n)try{Ai.instance(ye,n,yy)}catch(s){console.log("Warning: main.composite couldn't be instanced."),console.error(s)}}if(tp.onmessage&&e&&e.data&&e.data.length)for(let n of e.data)tp.onmessage(n)}m2(ye,{syncEntity:_d},mu);if(xd!==void 0){let e=function(){try{let n=xd();n&&typeof n=="object"&&typeof n.then=="function"&&n.catch(console.error)}catch(n){console.error(n)}finally{ye.removeSystem(e)}};ye.addSystem(e,1/0)}
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-reconciler/cjs/react-reconciler.production.min.js:
  (**
   * @license React
   * react-reconciler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
